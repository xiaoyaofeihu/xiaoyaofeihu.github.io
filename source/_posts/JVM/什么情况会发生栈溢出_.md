---
title: ğŸ‘Œä»€ä¹ˆæƒ…å†µä¼šå‘ç”Ÿæ ˆæº¢å‡º
date: 2025-04-26 13:33:41
tags:
	- JVM
categories: ç¬”è®°
--- 
# ğŸ‘Œä»€ä¹ˆæƒ…å†µä¼šå‘ç”Ÿæ ˆæº¢å‡º?

# é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ
æ ˆæº¢å‡ºï¼ˆStack Overflowï¼‰æ˜¯æŒ‡ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºè°ƒç”¨æ ˆï¼ˆstackï¼‰ç©ºé—´è¢«è€—å°½è€Œå¯¼è‡´çš„é”™è¯¯ã€‚è°ƒç”¨æ ˆæ˜¯ç”¨æ¥å­˜å‚¨æ–¹æ³•è°ƒç”¨ä¿¡æ¯ï¼ˆå¦‚å±€éƒ¨å˜é‡ã€æ–¹æ³•å‚æ•°å’Œè¿”å›åœ°å€ç­‰ï¼‰çš„å†…å­˜åŒºåŸŸã€‚

## é€’å½’è°ƒç”¨è¿‡æ·±
æœ€å¸¸è§çš„æ ˆæº¢å‡ºæƒ…å†µæ˜¯é€’å½’è°ƒç”¨è¿‡æ·±ã€‚é€’å½’å‡½æ•°åœ¨æ¯æ¬¡è°ƒç”¨æ—¶éƒ½ä¼šåœ¨æ ˆä¸Šåˆ†é…æ–°çš„æ ˆå¸§ï¼Œå¦‚æœé€’å½’æ·±åº¦è¿‡å¤§ï¼Œæ ˆç©ºé—´å¾ˆå¿«å°±ä¼šè€—å°½ã€‚recursiveMethodæ–¹æ³•æ— é™é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå¯¼è‡´æ ˆæº¢å‡ºã€‚

```plain
public class StackOverflowExample {
    public static void recursiveMethod() {
        recursiveMethod(); // æ— é™é€’å½’è°ƒç”¨
    }

    public static void main(String[] args) {
        recursiveMethod();
    }
}
```

## æ— ç»ˆæ­¢æ¡ä»¶çš„é€’å½’
é€’å½’å‡½æ•°å¦‚æœæ²¡æœ‰æ­£ç¡®çš„ç»ˆæ­¢æ¡ä»¶ï¼Œä¹Ÿä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚recursiveMethodæ–¹æ³•çš„é€’å½’è°ƒç”¨æ²¡æœ‰æ­£ç¡®çš„ç»ˆæ­¢æ¡ä»¶ï¼Œå¯¼è‡´æ ˆæº¢å‡ºã€‚

```plain
public class StackOverflowExample {
    public static void recursiveMethod(int num) {
        if (num == 0) {
            return;
        }
        recursiveMethod(num); // æ— ç»ˆæ­¢æ¡ä»¶çš„é€’å½’
    }

    public static void main(String[] args) {
        recursiveMethod(5);
    }
}
```

## éå†æ·±åº¦è¿‡å¤§çš„æ•°æ®ç»“æ„
éå†æ·±åº¦è¿‡å¤§çš„æ•°æ®ç»“æ„ï¼ˆå¦‚æ·±åº¦ä¼˜å…ˆæœç´¢ä¸€ä¸ªéå¸¸æ·±çš„æ ‘æˆ–å›¾ï¼‰ä¹Ÿå¯èƒ½å¯¼è‡´æ ˆæº¢å‡ºã€‚

```plain
class TreeNode {
    int value;
    TreeNode left;
    TreeNode right;

    TreeNode(int value) {
        this.value = value;
    }
}

public class StackOverflowExample {
    public static void traverse(TreeNode node) {
        if (node == null) {
            return;
        }
        traverse(node.left);
        traverse(node.right);
    }

    public static void main(String[] args) {
        TreeNode root = new TreeNode(1);
        TreeNode current = root;
        for (int i = 2; i < 100000; i++) {
            current.left = new TreeNode(i);
            current = current.left;
        }
        traverse(root);
    }
}
```

## æ ˆç©ºé—´è®¾ç½®è¿‡å°
ç¨‹åºè¿è¡Œæ—¶ï¼Œæ ˆç©ºé—´çš„å¤§å°æ˜¯æœ‰é™çš„ã€‚å¦‚æœæ ˆç©ºé—´è®¾ç½®è¿‡å°ï¼Œä¹Ÿä¼šæ›´å®¹æ˜“å‘ç”Ÿæ ˆæº¢å‡ºã€‚

```plain
java -Xss128k
```

é€šè¿‡-Xsså‚æ•°è®¾ç½® JVM æ ˆç©ºé—´å¤§å°ä¸º 128KBï¼Œå¯èƒ½å¯¼è‡´æ ˆæº¢å‡ºã€‚

## é˜²æ­¢æ ˆæº¢å‡ºçš„æ–¹æ³•
**ä¼˜åŒ–é€’å½’**ï¼š

ç¡®ä¿é€’å½’å‡½æ•°æœ‰æ­£ç¡®çš„ç»ˆæ­¢æ¡ä»¶ã€‚

ä½¿ç”¨å°¾é€’å½’ä¼˜åŒ–ï¼ˆå¦‚æœç¼–è¯‘å™¨æˆ–è¿è¡Œæ—¶æ”¯æŒï¼‰ã€‚

å°†é€’å½’è½¬æ¢ä¸ºè¿­ä»£ã€‚

**å¢åŠ æ ˆç©ºé—´**ï¼š

é€šè¿‡ JVM å‚æ•°-Xsså¢åŠ æ ˆç©ºé—´å¤§å°ã€‚

**ä½¿ç”¨éé€’å½’ç®—æ³•**ï¼š

å¯¹äºæ·±åº¦ä¼˜å…ˆæœç´¢ç­‰åœºæ™¯ï¼Œä½¿ç”¨æ˜¾å¼æ ˆï¼ˆå¦‚Stackç±»ï¼‰ä»£æ›¿é€’å½’è°ƒç”¨ã€‚

**æ£€æŸ¥æ•°æ®ç»“æ„**ï¼š

ç¡®ä¿éå†çš„æ•°æ®ç»“æ„ä¸ä¼šè¿‡æ·±æˆ–è¿‡å¤§ã€‚