---
title: ÊãâÈìæÊ≥ïÂØºËá¥ÁöÑÈìæË°®ËøáÊ∑±ÈóÆÈ¢ò‰∏∫‰ªÄ‰πàÁî®Á∫¢ÈªëÊ†ë
date: 2024-10-16 13:33:41
tags:
	- ÈõÜÂêà
categories: Èù¢ËØï
---
# üëåÊãâÈìæÊ≥ïÂØºËá¥ÁöÑÈìæË°®ËøáÊ∑±ÈóÆÈ¢ò‰∏∫‰ªÄ‰πàÁî®Á∫¢ÈªëÊ†ëÔºü

# È¢òÁõÆËØ¶ÁªÜÁ≠îÊ°à
Âú®JDK 8‰∏≠ÔºåHashMapÈááÁî®Á∫¢ÈªëÊ†ëÊù•Ëß£ÂÜ≥ÊãâÈìæÊ≥ïÂØºËá¥ÁöÑÈìæË°®ËøáÊ∑±ÈóÆÈ¢òÔºå‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÊèêÈ´òÂú®È´òÂÜ≤Á™ÅÊÉÖÂÜµ‰∏ãÁöÑÊÄßËÉΩ„ÄÇ

## ÊãâÈìæÊ≥ï‰∏≠ÁöÑÈìæË°®ËøáÊ∑±ÈóÆÈ¢ò
Âú®‰º†ÁªüÁöÑÊãâÈìæÊ≥ï‰∏≠ÔºåÂΩìÂ§ö‰∏™ÈîÆÁöÑÂìàÂ∏åÂÄºÂÜ≤Á™ÅÊó∂ÔºåËøô‰∫õÈîÆ‰ºöË¢´Â≠òÂÇ®Âú®Âêå‰∏Ä‰∏™Ê°∂ÔºàbucketÔºâ‰∏≠ÔºåÂΩ¢Êàê‰∏Ä‰∏™ÈìæË°®„ÄÇÂ¶ÇÊûúÈìæË°®ËøáÈïøÔºåÊü•Êâæ„ÄÅÊèíÂÖ•ÂíåÂà†Èô§Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰ºöÈÄÄÂåñ‰∏∫O(n)ÔºåÂÖ∂‰∏≠nÊòØÈìæË°®‰∏≠ÁöÑÂÖÉÁ¥†‰∏™Êï∞„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåHashMapÁöÑÊÄßËÉΩ‰ºöÊòæËëó‰∏ãÈôç„ÄÇ

## Á∫¢ÈªëÊ†ëÁöÑ‰ºòÂäø
Á∫¢ÈªëÊ†ëÊòØ‰∏ÄÁßçËá™Âπ≥Ë°°ÁöÑ‰∫åÂèâÊêúÁ¥¢Ê†ëÔºåÂÖ∑Êúâ‰ª•‰∏ãÁâπÊÄßÔºö

1. **Ëá™Âπ≥Ë°°**ÔºöÁ∫¢ÈªëÊ†ëÈÄöËøáÈ¢úËâ≤Â±ûÊÄßÔºàÁ∫¢Ëâ≤ÂíåÈªëËâ≤ÔºâÂíå‰∏ÄÁ≥ªÂàóÁöÑÊóãËΩ¨Êìç‰ΩúÔºå‰øùËØÅÊ†ëÁöÑÈ´òÂ∫¶Ëøë‰ººÂπ≥Ë°°„ÄÇÂÖ∂È´òÂ∫¶‰∏ç‰ºöË∂ÖËøá2 * log(n)ÔºåÂÖ∂‰∏≠nÊòØÊ†ë‰∏≠ÁöÑËäÇÁÇπÊï∞„ÄÇ
2. **È´òÊïàÁöÑÊü•Êâæ„ÄÅÊèíÂÖ•ÂíåÂà†Èô§**ÔºöÁ∫¢ÈªëÊ†ëÁöÑÊü•Êâæ„ÄÅÊèíÂÖ•ÂíåÂà†Èô§Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(log n)ÔºåËøú‰ºò‰∫éÈìæË°®Âú®ÊúÄÂùèÊÉÖÂÜµ‰∏ãÁöÑO(n)„ÄÇ

## ‰∏∫‰ªÄ‰πàÈÄâÊã©Á∫¢ÈªëÊ†ë
1. **ÊÄßËÉΩ‰ºòÂåñ**ÔºöÂú®ÈìæË°®ÈïøÂ∫¶ËæÉÁü≠Êó∂ÔºåÈìæË°®Êìç‰ΩúÁöÑÊÄßËÉΩÊòØÂèØ‰ª•Êé•ÂèóÁöÑ„ÄÇÁÑ∂ËÄåÔºåÂΩìÈìæË°®ÈïøÂ∫¶Ë∂ÖËøá‰∏ÄÂÆöÈòàÂÄºÔºàJDK 8‰∏≠‰∏∫8ÔºâÊó∂ÔºåÈìæË°®Êìç‰ΩúÁöÑÊÄßËÉΩ‰ºöÊòæËëó‰∏ãÈôç„ÄÇÊ≠§Êó∂ÔºåÂ∞ÜÈìæË°®ËΩ¨Êç¢‰∏∫Á∫¢ÈªëÊ†ëÔºåÂèØ‰ª•Â∞ÜÊìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰ªéO(n)Èôç‰ΩéÂà∞O(log n)ÔºåÊòæËëóÊèêÈ´òÊÄßËÉΩ„ÄÇ
2. **Âπ≥Ë°°ÊÄß**ÔºöÁ∫¢ÈªëÊ†ëÈÄöËøáËá™Âπ≥Ë°°Êú∫Âà∂Ôºå‰øùËØÅÊ†ëÁöÑÈ´òÂ∫¶ÂßãÁªà‰øùÊåÅÂú®‰∏Ä‰∏™ËæÉ‰ΩéÁöÑÊ∞¥Âπ≥ÔºåÈÅøÂÖç‰∫ÜÈìæË°®ËøáÈïøÂØºËá¥ÁöÑÊÄßËÉΩÈóÆÈ¢ò„ÄÇ
3. **Á©∫Èó¥ÊïàÁéá**ÔºöËôΩÁÑ∂Á∫¢ÈªëÊ†ëÊØîÈìæË°®Âç†Áî®Êõ¥Â§öÁöÑÁ©∫Èó¥ÔºàÂõ†‰∏∫ÈúÄË¶ÅÂ≠òÂÇ®È¢úËâ≤ÂíåÊåáÈíà‰ø°ÊÅØÔºâÔºå‰ΩÜÂú®ÈìæË°®ÈïøÂ∫¶ËæÉÈïøÊó∂ÔºåÊÄßËÉΩÁöÑÊèêÂçáÈÄöÂ∏∏‰ºöË∂ÖËøáÁ©∫Èó¥ÂºÄÈîÄÁöÑÂ¢ûÂä†„ÄÇ

## ÂÆûÁé∞ÁªÜËäÇ
Âú®JDK 8ÁöÑHashMap‰∏≠ÔºåÂΩìÈìæË°®ÈïøÂ∫¶Ë∂ÖËøáÈòàÂÄºÔºà8ÔºâÊó∂Ôºå‰ºöÂ∞ÜÈìæË°®ËΩ¨Êç¢‰∏∫Á∫¢ÈªëÊ†ë„ÄÇ

```plain
if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st
    treeifyBin(tab, hash);
```

treeifyBinÊñπÊ≥ïÂ∞ÜÈìæË°®ËΩ¨Êç¢‰∏∫Á∫¢ÈªëÊ†ëÔºö

```plain
final void treeifyBin(Node<K,V>[] tab, int hash) {
    int n, index; Node<K,V> e;
    if (tab == null || (n = tab.length) < MIN_TREEIFY_CAPACITY)
        resize();
    else if ((e = tab[index = (n - 1) & hash]) != null) {
        TreeNode<K,V> hd = null, tl = null;
        do {
            TreeNode<K,V> p = replacementTreeNode(e, null);
            if (tl == null)
                hd = p;
            else {
                p.prev = tl;
                tl.next = p;
            }
            tl = p;
        } while ((e = e.next) != null);
        if ((tab[index] = hd) != null)
            hd.treeify(tab);
    }
}
```
