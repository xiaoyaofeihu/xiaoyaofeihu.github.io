---
title: 👌什么是动态代理
date: 2025-03-09 13:33:41
categories: Spring
---
# 👌什么是动态代理

# 口语化回答
好的，面试官。动态代理主要是在我们的程序运行时动态生成一种代理类的机制，让我们在不修改原始类的情况下，可以帮助原始类增加一些功能。通常有两种方式，一种是 jdk 的 proxy，一种是 cglib。动态代理在 spring 框架中的应用也非常常见。主要的 aop 机制就是通过动态代理实现。那么动态代理主要的优势就是解耦，减少代码重复，同时增强现有代码。以上。



# 题目解析
问到这道题的时候，大家一定要 cglib 和 spring 框架上面靠一靠，去埋点，让面试官继续追问下面的题目。

# 面试得分点
增强行为，动态代理过程，减少重复代码

# 题目详细答案
动态代理是一种在运行时动态生成代理类的机制，它允许我们在不修改原始类的情况下增强或修改其行为。动态代理是通过java.lang.reflect.Proxy类和java.lang.reflect.InvocationHandler接口来实现的。

## 动态代理的基本概念
**代理类（Proxy Class）**：一个代理类是一个实现了一个或多个接口的类，它可以在运行时动态生成。代理类的实例可以用来代替原始对象，并在调用方法时执行额外的逻辑。

**调用处理器（Invocation Handler）**：调用处理器是一个实现了InvocationHandler接口的类，它定义了代理类的方法调用逻辑。每次代理对象的方法被调用时，调用处理器的invoke方法都会被执行。

## 动态代理的作用和优势
**1、 解耦业务逻辑和通用功能**：动态代理允许将通用功能（如日志记录、事务管理、安全性检查等）从业务逻辑中分离出来，从而提高代码的模块化和可维护性。

**2、 灵活性**：动态代理在运行时生成代理类，不需要在编译时确定代理类，因此具有很大的灵活性。

**3、 减少代码重复**：通过动态代理，可以将通用功能集中到一个地方，从而减少代码重复。

**4、 增强现有代码**：动态代理允许在不修改现有代码的情况下增强其功能。

### 动态代理的应用场景
**1、AOP（面向切面编程）**：动态代理是实现 AOP 的核心技术之一，通过动态代理可以在方法执行前后添加横切关注点（如日志记录、事务管理等）。

**2、 远程方法调用（RMI）**：动态代理可以用来实现客户端和服务器之间的远程方法调用。

**3、 装饰器模式**：动态代理可以用来实现装饰器模式，在不修改原始类的情况下增强其功能。

**4、 框架和中间件**：许多框架和中间件（如 Spring、Hibernate 等）都使用动态代理来实现其核心功能。

动态代理通过在运行时生成代理类，提供了一种灵活且强大的方式来增强现有代码的功能，而无需修改原始代码。
