<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="ä½™å£°-ä¸ªäººåšå®¢">
<meta property="og:url" content="https://xiaoyaofeihu.github.io/page/4/index.html">
<meta property="og:site_name" content="ä½™å£°-ä¸ªäººåšå®¢">
<meta property="og:locale">
<meta property="article:author" content="javayun">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'ä½™å£°'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://xiaoyaofeihu.github.io/page/4/"/>





  <title>ä½™å£°-ä¸ªäººåšå®¢</title>
  














<meta name="generator" content="Hexo 6.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ä½™å£°-ä¸ªäººåšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/jdk7%E7%9A%84ConcurrentHashMap%E5%AE%9E%E7%8E%B0%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/jdk7%E7%9A%84ConcurrentHashMap%E5%AE%9E%E7%8E%B0%EF%BC%9F/" itemprop="url">jdk7çš„ConcurrentHashMapå®ç°ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œjdk7çš„ConcurrentHashMapå®ç°ï¼Ÿ"><a href="#ğŸ‘Œjdk7çš„ConcurrentHashMapå®ç°ï¼Ÿ" class="headerlink" title="ğŸ‘Œjdk7çš„ConcurrentHashMapå®ç°ï¼Ÿ"></a>ğŸ‘Œjdk7çš„ConcurrentHashMapå®ç°ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>åœ¨JDK 7ä¸­ï¼ŒConcurrentHashMapçš„å®ç°ä¸JDK 8æœ‰æ‰€ä¸åŒã€‚JDK 7ä¸­çš„ConcurrentHashMapä½¿ç”¨äº†åˆ†æ®µé”ï¼ˆSegment Lockingï¼‰æ¥å®ç°é«˜å¹¶å‘æ€§èƒ½ã€‚</p>
<h2 id="ä¸»è¦ç»“æ„"><a href="#ä¸»è¦ç»“æ„" class="headerlink" title="ä¸»è¦ç»“æ„"></a>ä¸»è¦ç»“æ„</h2><p>JDK 7ä¸­çš„ConcurrentHashMapç”±ä»¥ä¸‹å‡ ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li><strong>Segment</strong>ï¼šåˆ†æ®µé”çš„æ ¸å¿ƒï¼Œæ¯ä¸ªSegmentæ˜¯ä¸€ä¸ªå°çš„å“ˆå¸Œè¡¨ï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„é”ã€‚</li>
<li><strong>HashEntry</strong>ï¼šå“ˆå¸Œè¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå­˜å‚¨é”®å€¼å¯¹ã€‚</li>
<li><strong>ConcurrentHashMap</strong>ï¼šåŒ…å«å¤šä¸ªSegmentï¼Œæ¯ä¸ªSegmentç®¡ç†ä¸€éƒ¨åˆ†å“ˆå¸Œè¡¨ã€‚</li>
</ol>
<h2 id="Segment-ç±»"><a href="#Segment-ç±»" class="headerlink" title="Segment ç±»"></a>Segment ç±»</h2><p>Segmentç±»æ˜¯ReentrantLockçš„å­ç±»ï¼Œå®ƒæ˜¯ConcurrentHashMapçš„æ ¸å¿ƒéƒ¨åˆ†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">static final class Segment&lt;K,V&gt; extends ReentrantLock implements Serializable &#123;</span><br><span class="line">    transient volatile HashEntry&lt;K,V&gt;[] table;</span><br><span class="line">    transient int count;</span><br><span class="line">    transient int modCount;</span><br><span class="line">    transient int threshold;</span><br><span class="line">    final float loadFactor;</span><br><span class="line"></span><br><span class="line">    Segment(float lf, int threshold, HashEntry&lt;K,V&gt;[] tab) &#123;</span><br><span class="line">        this.loadFactor = lf;</span><br><span class="line">        this.threshold = threshold;</span><br><span class="line">        this.table = tab;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="HashEntry-ç±»"><a href="#HashEntry-ç±»" class="headerlink" title="HashEntry ç±»"></a>HashEntry ç±»</h2><p>HashEntryç±»æ˜¯å“ˆå¸Œè¡¨ä¸­çš„èŠ‚ç‚¹ï¼Œå­˜å‚¨é”®å€¼å¯¹å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">static final class HashEntry&lt;K,V&gt; &#123;</span><br><span class="line">    final K key;</span><br><span class="line">    final int hash;</span><br><span class="line">    volatile V value;</span><br><span class="line">    volatile HashEntry&lt;K,V&gt; next;</span><br><span class="line"></span><br><span class="line">    HashEntry(K key, int hash, HashEntry&lt;K,V&gt; next, V value) &#123;</span><br><span class="line">        this.key = key;</span><br><span class="line">        this.hash = hash;</span><br><span class="line">        this.next = next;</span><br><span class="line">        this.value = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ConcurrentHashMap-ç±»"><a href="#ConcurrentHashMap-ç±»" class="headerlink" title="ConcurrentHashMap ç±»"></a>ConcurrentHashMap ç±»</h2><p>ConcurrentHashMapç±»åŒ…å«å¤šä¸ªSegmentï¼Œæ¯ä¸ªSegmentç®¡ç†ä¸€éƒ¨åˆ†å“ˆå¸Œè¡¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public class ConcurrentHashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt;</span><br><span class="line">    implements ConcurrentMap&lt;K,V&gt;, Serializable &#123;</span><br><span class="line"></span><br><span class="line">    final Segment&lt;K,V&gt;[] segments;</span><br><span class="line">    transient Set&lt;K&gt; keySet;</span><br><span class="line">    transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;</span><br><span class="line">    transient Collection&lt;V&gt; values;</span><br><span class="line">    static final int DEFAULT_INITIAL_CAPACITY = 16;</span><br><span class="line">    static final float DEFAULT_LOAD_FACTOR = 0.75f;</span><br><span class="line">    static final int DEFAULT_CONCURRENCY_LEVEL = 16;</span><br><span class="line">    static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;</span><br><span class="line">    static final int MIN_SEGMENT_TABLE_CAPACITY = 2;</span><br><span class="line">    static final int MAX_SEGMENTS = 1 &lt;&lt; 16; // slightly conservative</span><br><span class="line"></span><br><span class="line">    // Other fields and methods...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="put-æ“ä½œ"><a href="#put-æ“ä½œ" class="headerlink" title="put æ“ä½œ"></a>put æ“ä½œ</h2><p>putæ“ä½œæ˜¯ConcurrentHashMapçš„æ ¸å¿ƒæ“ä½œä¹‹ä¸€ï¼Œä»¥ä¸‹æ˜¯å…¶ç®€åŒ–ç‰ˆå®ç°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">public V put(K key, V value) &#123;</span><br><span class="line">    Segment&lt;K,V&gt; s;</span><br><span class="line">    if (value == null)</span><br><span class="line">        throw new NullPointerException();</span><br><span class="line">    int hash = hash(key);</span><br><span class="line">    int j = (hash &gt;&gt;&gt; segmentShift) &amp; segmentMask;</span><br><span class="line">    if ((s = (Segment&lt;K,V&gt;)UNSAFE.getObject          // nonvolatile; recheck</span><br><span class="line">         (segments, (j &lt;&lt; SSHIFT) + SBASE)) == null) // in ensureSegment</span><br><span class="line">        s = ensureSegment(j);</span><br><span class="line">    return s.put(key, hash, value, false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">final V put(K key, int hash, V value, boolean onlyIfAbsent) &#123;</span><br><span class="line">    HashEntry&lt;K,V&gt; node = tryLock() ? null : scanAndLockForPut(key, hash, value);</span><br><span class="line">    V oldValue;</span><br><span class="line">    try &#123;</span><br><span class="line">        HashEntry&lt;K,V&gt;[] tab = table;</span><br><span class="line">        int index = (tab.length - 1) &amp; hash;</span><br><span class="line">        HashEntry&lt;K,V&gt; first = entryAt(tab, index);</span><br><span class="line">        for (HashEntry&lt;K,V&gt; e = first;;) &#123;</span><br><span class="line">            if (e != null) &#123;</span><br><span class="line">                K k;</span><br><span class="line">                if ((k = e.key) == key || (e.hash == hash &amp;&amp; key.equals(k))) &#123;</span><br><span class="line">                    oldValue = e.value;</span><br><span class="line">                    if (!onlyIfAbsent) &#123;</span><br><span class="line">                        e.value = value;</span><br><span class="line">                        ++modCount;</span><br><span class="line">                    &#125;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                e = e.next;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                if (node != null)</span><br><span class="line">                    node.setNext(first);</span><br><span class="line">                else</span><br><span class="line">                    node = new HashEntry&lt;K,V&gt;(key, hash, first, value);</span><br><span class="line">                int c = count + 1;</span><br><span class="line">                if (c &gt; threshold &amp;&amp; tab.length &lt; MAXIMUM_CAPACITY)</span><br><span class="line">                    rehash(node);</span><br><span class="line">                else</span><br><span class="line">                    setEntryAt(tab, index, node);</span><br><span class="line">                ++modCount;</span><br><span class="line">                count = c;</span><br><span class="line">                oldValue = null;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">        unlock();</span><br><span class="line">    &#125;</span><br><span class="line">    return oldValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="get-æ“ä½œ"><a href="#get-æ“ä½œ" class="headerlink" title="get æ“ä½œ"></a>get æ“ä½œ</h2><p>getæ“ä½œæ˜¯ConcurrentHashMapçš„å¦ä¸€ä¸ªæ ¸å¿ƒæ“ä½œï¼Œä»¥ä¸‹æ˜¯å…¶ç®€åŒ–ç‰ˆå®ç°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public V get(Object key) &#123;</span><br><span class="line">    Segment&lt;K,V&gt; s;</span><br><span class="line">    HashEntry&lt;K,V&gt;[] tab;</span><br><span class="line">    int h = hash(key);</span><br><span class="line">    long u = (((h &gt;&gt;&gt; segmentShift) &amp; segmentMask) &lt;&lt; SSHIFT) + SBASE;</span><br><span class="line">    if ((s = (Segment&lt;K,V&gt;)UNSAFE.getObjectVolatile(segments, u)) != null &amp;&amp;</span><br><span class="line">        (tab = s.table) != null) &#123;</span><br><span class="line">        for (HashEntry&lt;K,V&gt; e = (HashEntry&lt;K,V&gt;) UNSAFE.getObjectVolatile</span><br><span class="line">                 (tab, ((long)(((tab.length - 1) &amp; h)) &lt;&lt; TSHIFT) + TBASE);</span><br><span class="line">             e != null; e = e.next) &#123;</span><br><span class="line">            K k;</span><br><span class="line">            if ((k = e.key) == key || (e.hash == h &amp;&amp; key.equals(k)))</span><br><span class="line">                return e.value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸»è¦ç‰¹ç‚¹"><a href="#ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="ä¸»è¦ç‰¹ç‚¹"></a>ä¸»è¦ç‰¹ç‚¹</h2><ol>
<li><strong>åˆ†æ®µé”</strong>ï¼šConcurrentHashMapå°†æ•´ä¸ªå“ˆå¸Œè¡¨åˆ†æˆå¤šä¸ªSegmentï¼Œæ¯ä¸ªSegmentæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å°å“ˆå¸Œè¡¨ï¼Œæ‹¥æœ‰è‡ªå·±çš„é”ã€‚è¿™æ ·ä¸åŒçš„çº¿ç¨‹å¯ä»¥å¹¶å‘åœ°è®¿é—®ä¸åŒçš„Segmentï¼Œæ˜¾è‘—æé«˜å¹¶å‘æ€§èƒ½ã€‚</li>
<li><strong>é«˜æ•ˆå¹¶å‘</strong>ï¼šé€šè¿‡ç»†ç²’åº¦çš„é”æœºåˆ¶ï¼ŒConcurrentHashMapåœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹è¡¨ç°å‡ºè‰²ï¼Œé¿å…äº†å…¨è¡¨é”çš„æ€§èƒ½ç“¶é¢ˆã€‚</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šæ‰€æœ‰çš„æ“ä½œéƒ½åœ¨é”çš„ä¿æŠ¤ä¸‹è¿›è¡Œï¼Œç¡®ä¿äº†çº¿ç¨‹å®‰å…¨æ€§ã€‚</li>
</ol>
<p>JDK 7ä¸­çš„ConcurrentHashMapé€šè¿‡åˆ†æ®µé”æœºåˆ¶å®ç°é«˜å¹¶å‘æ€§èƒ½ã€‚æ¯ä¸ªSegmentæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å°å“ˆå¸Œè¡¨ï¼Œæ‹¥æœ‰è‡ªå·±çš„é”ï¼Œå…è®¸å¤šä¸ªçº¿ç¨‹å¹¶å‘åœ°è®¿é—®ä¸åŒçš„Segmentã€‚è¿™ç§è®¾è®¡åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹æ˜¾è‘—æé«˜äº†æ€§èƒ½ï¼ŒåŒæ—¶ä¿è¯äº†çº¿ç¨‹å®‰å…¨æ€§ã€‚</p>
<blockquote>
<p>&#x2F;krsz9bcuq049gs4t&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/jdk7%E7%9A%84hashmap%E5%AE%9E%E7%8E%B0%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/jdk7%E7%9A%84hashmap%E5%AE%9E%E7%8E%B0%EF%BC%9F/" itemprop="url">jdk7çš„hashmapå®ç°ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œjdk7çš„hashmapå®ç°ï¼Ÿ"><a href="#ğŸ‘Œjdk7çš„hashmapå®ç°ï¼Ÿ" class="headerlink" title="ğŸ‘Œjdk7çš„hashmapå®ç°ï¼Ÿ"></a>ğŸ‘Œjdk7çš„hashmapå®ç°ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>HashMapåœ¨ JDK 7 ä¸­çš„å®ç°å…¶å®å¹¶ä¸å¤æ‚ï¼Œå®ƒä¸»è¦ä¾é ä¸¤ä¸ªæ•°æ®ç»“æ„ï¼šæ•°ç»„å’Œé“¾è¡¨ã€‚</p>
<p>é¦–å…ˆï¼ŒHashMapå†…éƒ¨æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ç”¨æ¥å­˜å‚¨æ‰€æœ‰çš„é”®å€¼å¯¹ã€‚æ¯ä¸ªæ•°ç»„çš„å…ƒç´ å…¶å®æ˜¯ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸¤ä¸ªæˆ–å¤šä¸ªé”®è®¡ç®—å‡ºæ¥çš„å“ˆå¸Œå€¼ç›¸åŒï¼Œå®ƒä»¬ä¼šè¢«å­˜å‚¨åœ¨åŒä¸€ä¸ªæ•°ç»„ä½ç½®çš„é“¾è¡¨ä¸­ã€‚</p>
<p>å½“æˆ‘ä»¬å¾€HashMapé‡Œæ”¾ä¸€ä¸ªé”®å€¼å¯¹æ—¶ï¼ŒHashMapä¼šå…ˆæ ¹æ®é”®çš„hashCodeè®¡ç®—å‡ºä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œç„¶åç”¨è¿™ä¸ªå“ˆå¸Œå€¼å†³å®šé”®å€¼å¯¹åº”è¯¥æ”¾åœ¨æ•°ç»„çš„å“ªä¸ªä½ç½®ã€‚å¦‚æœé‚£ä¸ªä½ç½®æ˜¯ç©ºçš„ï¼Œé”®å€¼å¯¹å°±ç›´æ¥æ”¾è¿›å»ï¼›å¦‚æœé‚£ä¸ªä½ç½®å·²ç»æœ‰å…¶ä»–é”®å€¼å¯¹äº†ï¼ˆä¹Ÿå°±æ˜¯å‘ç”Ÿäº†å“ˆå¸Œå†²çªï¼‰ï¼ŒHashMapä¼šæŠŠæ–°çš„é”®å€¼å¯¹æ”¾åˆ°é‚£ä¸ªä½ç½®çš„é“¾è¡¨ä¸Šã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­å§ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªHashMapï¼Œæˆ‘ä»¬è¦å¾€é‡Œé¢æ”¾ä¸€ä¸ªé”®å€¼å¯¹(â€œappleâ€, 1)ã€‚HashMapä¼šå…ˆè®¡ç®—â€appleâ€çš„å“ˆå¸Œå€¼ï¼Œç„¶åç”¨è¿™ä¸ªå“ˆå¸Œå€¼å†³å®šåº”è¯¥æŠŠå®ƒæ”¾åˆ°æ•°ç»„çš„å“ªä¸ªä½ç½®ã€‚å‡å¦‚è®¡ç®—å‡ºæ¥çš„ä½ç½®æ˜¯ 5ï¼Œå¦‚æœæ•°ç»„çš„ç¬¬ 5 ä¸ªä½ç½®æ˜¯ç©ºçš„ï¼Œå®ƒå°±ç›´æ¥æ”¾è¿›å»ï¼›å¦‚æœå·²ç»æœ‰å…¶ä»–é”®å€¼å¯¹äº†ï¼Œæ¯”å¦‚(â€œbananaâ€, 2)ï¼Œå®ƒå°±ä¼šæŠŠ(â€œappleâ€, 1)åŠ åˆ°(â€œbananaâ€, 2)çš„é“¾è¡¨ä¸Šã€‚</p>
<p>å–å€¼çš„æ—¶å€™ä¹Ÿç±»ä¼¼ã€‚å‡è®¾æˆ‘ä»¬è¦å–â€appleâ€å¯¹åº”çš„å€¼ï¼ŒHashMapä¼šå…ˆè®¡ç®—â€appleâ€çš„å“ˆå¸Œå€¼ï¼Œç„¶åæ‰¾åˆ°æ•°ç»„çš„å¯¹åº”ä½ç½®ï¼Œå†æ²¿ç€é“¾è¡¨æ‰¾åˆ°â€appleâ€å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæœ€åè¿”å›å®ƒçš„å€¼ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒHashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹HashMapï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ï¼Œæ¯”å¦‚æ­»å¾ªç¯ã€‚æ‰€ä»¥åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå»ºè®®ä½¿ç”¨ConcurrentHashMapã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼ŒHashMapåœ¨ JDK 7 ä¸­ä¸»è¦æ˜¯é€šè¿‡æ•°ç»„å’Œé“¾è¡¨æ¥å­˜å‚¨æ•°æ®ï¼Œä½¿ç”¨å“ˆå¸Œå€¼æ¥å†³å®šå­˜å‚¨ä½ç½®ï¼Œå¹¶é€šè¿‡é“¾è¡¨æ¥è§£å†³å“ˆå¸Œå†²çªã€‚å®ƒçš„è®¾è®¡è®©æˆ‘ä»¬åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹èƒ½å¤Ÿå¿«é€Ÿåœ°å­˜å–æ•°æ®ï¼Œä½†åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦å°å¿ƒä½¿ç”¨ã€‚</p>
<p>JDK 7 ä¸­çš„HashMapåº•å±‚å®ç°æ–¹å¼ä¸»è¦åŸºäºæ•°ç»„å’Œé“¾è¡¨ã€‚å®ƒé€šè¿‡å“ˆå¸Œå‡½æ•°å°†é”®æ˜ å°„åˆ°æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ï¼Œä»è€Œå®ç°å¿«é€Ÿçš„æŸ¥æ‰¾å’Œå­˜å‚¨æ“ä½œã€‚</p>
<h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p>HashMapä¸»è¦ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š</p>
<p><strong>æ•°ç»„ï¼ˆtableï¼‰</strong>ï¼šå­˜å‚¨HashMapçš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚æ¯ä¸ªæ•°ç»„å…ƒç´ æ˜¯ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚</p>
<p><strong>é“¾è¡¨ï¼ˆEntryï¼‰</strong>ï¼šå¤„ç†å“ˆå¸Œå†²çªçš„ç»“æ„ã€‚å½“å¤šä¸ªé”®çš„å“ˆå¸Œå€¼æ˜ å°„åˆ°åŒä¸€ä¸ªæ•°ç»„ç´¢å¼•æ—¶ï¼Œè¿™äº›é”®å€¼å¯¹ä¼šè¢«å­˜å‚¨åœ¨è¯¥ç´¢å¼•ä½ç½®çš„é“¾è¡¨ä¸­ã€‚</p>
<h2 id="Entry-ç±»"><a href="#Entry-ç±»" class="headerlink" title="Entry ç±»"></a>Entry ç±»</h2><p>åœ¨ JDK 7 ä¸­ï¼ŒHashMapä½¿ç”¨ä¸€ä¸ªå†…éƒ¨ç±»Entryæ¥è¡¨ç¤ºé”®å€¼å¯¹ã€‚Entryç±»çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">static class Entry&lt;K, V&gt; implements Map.Entry&lt;K, V&gt; &#123;</span><br><span class="line">    final K key;</span><br><span class="line">    V value;</span><br><span class="line">    Entry&lt;K, V&gt; next;</span><br><span class="line">    final int hash;</span><br><span class="line"></span><br><span class="line">    Entry(int h, K k, V v, Entry&lt;K, V&gt; n) &#123;</span><br><span class="line">        value = v;</span><br><span class="line">        next = n;</span><br><span class="line">        key = k;</span><br><span class="line">        hash = h;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public final K getKey() &#123;</span><br><span class="line">        return key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public final V getValue() &#123;</span><br><span class="line">        return value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public final V setValue(V newValue) &#123;</span><br><span class="line">        V oldValue = value;</span><br><span class="line">        value = newValue;</span><br><span class="line">        return oldValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public final boolean equals(Object o) &#123;</span><br><span class="line">        if (!(o instanceof Map.Entry))</span><br><span class="line">            return false;</span><br><span class="line">        Map.Entry e = (Map.Entry) o;</span><br><span class="line">        Object k1 = getKey();</span><br><span class="line">        Object k2 = e.getKey();</span><br><span class="line">        if (k1 == k2 || (k1 != null &amp;&amp; k1.equals(k2))) &#123;</span><br><span class="line">            Object v1 = getValue();</span><br><span class="line">            Object v2 = e.getValue();</span><br><span class="line">            if (v1 == v2 || (v1 != null &amp;&amp; v1.equals(v2)))</span><br><span class="line">                return true;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public final int hashCode() &#123;</span><br><span class="line">        return (key == null ? 0 : key.hashCode()) ^</span><br><span class="line">               (value == null ? 0 : value.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public final String toString() &#123;</span><br><span class="line">        return getKey() + &quot;=&quot; + getValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­˜å‚¨è¿‡ç¨‹"><a href="#å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="å­˜å‚¨è¿‡ç¨‹"></a>å­˜å‚¨è¿‡ç¨‹</h2><p>å½“å‘HashMapä¸­å­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹æ—¶ï¼Œä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>è®¡ç®—å“ˆå¸Œå€¼</strong>ï¼šé€šè¿‡é”®çš„hashCode()æ–¹æ³•è®¡ç®—å“ˆå¸Œå€¼ï¼Œå¹¶è¿›ä¸€æ­¥å¤„ç†ä»¥å‡å°‘å†²çªã€‚</li>
<li><strong>ç¡®å®šæ•°ç»„ç´¢å¼•</strong>ï¼šé€šè¿‡å“ˆå¸Œå€¼è®¡ç®—æ•°ç»„ç´¢å¼•ä½ç½®ã€‚</li>
<li><strong>æ’å…¥èŠ‚ç‚¹</strong>ï¼šå¦‚æœæ•°ç»„ç´¢å¼•ä½ç½®ä¸ºç©ºï¼Œåˆ™ç›´æ¥æ’å…¥ã€‚å¦‚æœä¸ä¸ºç©ºï¼Œåˆ™éœ€è¦å¤„ç†å“ˆå¸Œå†²çªã€‚</li>
</ol>
<h2 id="å¤„ç†å“ˆå¸Œå†²çª"><a href="#å¤„ç†å“ˆå¸Œå†²çª" class="headerlink" title="å¤„ç†å“ˆå¸Œå†²çª"></a>å¤„ç†å“ˆå¸Œå†²çª</h2><p>åœ¨ JDK 7 ä¸­ï¼ŒHashMapé€šè¿‡é“¾è¡¨æ³•å¤„ç†å“ˆå¸Œå†²çªã€‚å½“å¤šä¸ªé”®çš„å“ˆå¸Œå€¼æ˜ å°„åˆ°åŒä¸€ä¸ªæ•°ç»„ç´¢å¼•æ—¶ï¼Œè¿™äº›é”®å€¼å¯¹ä¼šè¢«å­˜å‚¨åœ¨è¯¥ç´¢å¼•ä½ç½®çš„é“¾è¡¨ä¸­ã€‚æ’å…¥æ—¶ï¼Œæ–°èŠ‚ç‚¹ä¼šè¢«æ’å…¥åˆ°é“¾è¡¨çš„å¤´éƒ¨ã€‚</p>
<h2 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h2><p>ä»¥ä¸‹æ˜¯putæ–¹æ³•çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œå±•ç¤ºäº†HashMapçš„å­˜å‚¨è¿‡ç¨‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public V put(K key, V value) &#123;</span><br><span class="line">    if (key == null)</span><br><span class="line">        return putForNullKey(value);</span><br><span class="line">    int hash = hash(key.hashCode());</span><br><span class="line">    int i = indexFor(hash, table.length);</span><br><span class="line">    for (Entry&lt;K, V&gt; e = table[i]; e != null; e = e.next) &#123;</span><br><span class="line">        Object k;</span><br><span class="line">        if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) &#123;</span><br><span class="line">            V oldValue = e.value;</span><br><span class="line">            e.value = value;</span><br><span class="line">            e.recordAccess(this);</span><br><span class="line">            return oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    modCount++;</span><br><span class="line">    addEntry(hash, key, value, i);</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void addEntry(int hash, K key, V value, int bucketIndex) &#123;</span><br><span class="line">    if ((size &gt;= threshold) &amp;&amp; (null != table[bucketIndex])) &#123;</span><br><span class="line">        resize(2 * table.length);</span><br><span class="line">        hash = (null != key) ? hash(key.hashCode()) : 0;</span><br><span class="line">        bucketIndex = indexFor(hash, table.length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    createEntry(hash, key, value, bucketIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void createEntry(int hash, K key, V value, int bucketIndex) &#123;</span><br><span class="line">    Entry&lt;K, V&gt; e = table[bucketIndex];</span><br><span class="line">    table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e);</span><br><span class="line">    size++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å–å€¼è¿‡ç¨‹"><a href="#å–å€¼è¿‡ç¨‹" class="headerlink" title="å–å€¼è¿‡ç¨‹"></a>å–å€¼è¿‡ç¨‹</h2><p>å–å€¼æ—¶ï¼Œé€šè¿‡é”®è®¡ç®—å“ˆå¸Œå€¼å’Œæ•°ç»„ç´¢å¼•ï¼Œç„¶ååœ¨é“¾è¡¨ä¸­æŸ¥æ‰¾å¯¹åº”çš„é”®å€¼å¯¹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public V get(Object key) &#123;</span><br><span class="line">    if (key == null)</span><br><span class="line">        return getForNullKey();</span><br><span class="line">    int hash = hash(key.hashCode());</span><br><span class="line">    for (Entry&lt;K, V&gt; e = table[indexFor(hash, table.length)];</span><br><span class="line">         e != null;</span><br><span class="line">         e = e.next) &#123;</span><br><span class="line">        Object k;</span><br><span class="line">        if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k)))</span><br><span class="line">            return e.value;</span><br><span class="line">    &#125;</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<blockquote>
<p>&#x2F;yafahumkqtgcnav4&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/jdk8%E7%9A%84hashmap%E7%9A%84put%E8%BF%87%E7%A8%8B%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/jdk8%E7%9A%84hashmap%E7%9A%84put%E8%BF%87%E7%A8%8B%EF%BC%9F/" itemprop="url">jdk8çš„hashmapçš„putè¿‡ç¨‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œjdk8çš„hashmapçš„putè¿‡ç¨‹ï¼Ÿ"><a href="#ğŸ‘Œjdk8çš„hashmapçš„putè¿‡ç¨‹ï¼Ÿ" class="headerlink" title="ğŸ‘Œjdk8çš„hashmapçš„putè¿‡ç¨‹ï¼Ÿ"></a>ğŸ‘Œjdk8çš„hashmapçš„putè¿‡ç¨‹ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="putæ–¹æ³•çš„å®ç°"><a href="#putæ–¹æ³•çš„å®ç°" class="headerlink" title="putæ–¹æ³•çš„å®ç°"></a>putæ–¹æ³•çš„å®ç°</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public V put(K key, V value) &#123;</span><br><span class="line">    return putVal(hash(key), key, value, false, true);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>putæ–¹æ³•è°ƒç”¨äº†putValæ–¹æ³•ã€‚è¿™é‡Œçš„hash(key)æ˜¯è®¡ç®—é”®çš„å“ˆå¸Œå€¼ã€‚</p>
<h2 id="è®¡ç®—å“ˆå¸Œå€¼"><a href="#è®¡ç®—å“ˆå¸Œå€¼" class="headerlink" title="è®¡ç®—å“ˆå¸Œå€¼"></a>è®¡ç®—å“ˆå¸Œå€¼</h2><p>hashæ–¹æ³•ç”¨äºè®¡ç®—é”®çš„å“ˆå¸Œå€¼å¹¶è¿›è¡Œæ‰°åŠ¨å¤„ç†ï¼Œä»¥å‡å°‘å†²çªã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">static final int hash(Object key) &#123;</span><br><span class="line">    int h;</span><br><span class="line">    return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="putValæ–¹æ³•çš„å®ç°"><a href="#putValæ–¹æ³•çš„å®ç°" class="headerlink" title="putValæ–¹æ³•çš„å®ç°"></a>putValæ–¹æ³•çš„å®ç°</h2><p>putValæ–¹æ³•æ˜¯HashMapä¸­å®é™…æ‰§è¡Œæ’å…¥æ“ä½œçš„æ ¸å¿ƒæ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;</span><br><span class="line">    if ((tab = table) == null || (n = tab.length) == 0)</span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    if ((p = tab[i = (n - 1) &amp; hash]) == null)</span><br><span class="line">        tab[i] = newNode(hash, key, value, null);</span><br><span class="line">    else &#123;</span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        if (p.hash == hash &amp;&amp;</span><br><span class="line">            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))</span><br><span class="line">            e = p;</span><br><span class="line">        else if (p instanceof TreeNode)</span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);</span><br><span class="line">        else &#123;</span><br><span class="line">            for (int binCount = 0; ; ++binCount) &#123;</span><br><span class="line">                if ((e = p.next) == null) &#123;</span><br><span class="line">                    p.next = newNode(hash, key, value, null);</span><br><span class="line">                    if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st</span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                if (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))</span><br><span class="line">                    break;</span><br><span class="line">                p = e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (e != null) &#123; // existing mapping for key</span><br><span class="line">            V oldValue = e.value;</span><br><span class="line">            if (!onlyIfAbsent || oldValue == null)</span><br><span class="line">                e.value = value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            return oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    if (++size &gt; threshold)</span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¯¦ç»†æ­¥éª¤è§£æ"><a href="#è¯¦ç»†æ­¥éª¤è§£æ" class="headerlink" title="è¯¦ç»†æ­¥éª¤è§£æ"></a>è¯¦ç»†æ­¥éª¤è§£æ</h2><ol>
<li><strong>åˆå§‹åŒ–è¡¨</strong>ï¼šå¦‚æœå“ˆå¸Œè¡¨è¿˜æ²¡æœ‰åˆå§‹åŒ–æˆ–é•¿åº¦ä¸º0ï¼Œåˆ™è¿›è¡Œåˆå§‹åŒ–ï¼ˆæ‰©å®¹ï¼‰ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if ((tab = table) == null || (n = tab.length) == 0)</span><br><span class="line">    n = (tab = resize()).length;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>è®¡ç®—ç´¢å¼•</strong>ï¼šé€šè¿‡å“ˆå¸Œå€¼å’Œæ•°ç»„é•¿åº¦è®¡ç®—å‡ºç´¢å¼•ä½ç½®ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if ((p = tab[i = (n - 1) &amp; hash]) == null)</span><br><span class="line">    tab[i] = newNode(hash, key, value, null);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>æ’å…¥æ–°èŠ‚ç‚¹</strong>ï¼šå¦‚æœç´¢å¼•ä½ç½®ä¸ºç©ºï¼Œç›´æ¥æ’å…¥æ–°èŠ‚ç‚¹ã€‚</li>
<li><strong>å¤„ç†å“ˆå¸Œå†²çª</strong>ï¼šå¦‚æœç´¢å¼•ä½ç½®ä¸ä¸ºç©ºï¼Œéœ€è¦å¤„ç†å†²çªã€‚</li>
</ol>
<p><strong>æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç›¸åŒçš„é”®</strong>ï¼šå¦‚æœæ‰¾åˆ°ç›¸åŒçš„é”®ï¼Œæ›¿æ¢å…¶å€¼ã€‚</p>
<p><strong>çº¢é»‘æ ‘å¤„ç†</strong>ï¼šå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œåˆ™è°ƒç”¨putTreeValæ–¹æ³•æ’å…¥ã€‚</p>
<p><strong>é“¾è¡¨å¤„ç†</strong>ï¼šå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯é“¾è¡¨èŠ‚ç‚¹ï¼Œéå†é“¾è¡¨æ’å…¥æ–°èŠ‚ç‚¹ã€‚</p>
<ol start="5">
<li><strong>è½¬æ¢ä¸ºçº¢é»‘æ ‘</strong>ï¼šå¦‚æœé“¾è¡¨é•¿åº¦è¶…è¿‡é˜ˆå€¼ï¼ˆ8ï¼‰ä¸”æ•°ç»„é•¿åº¦å¤§äº 64ï¼Œåˆ™å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st</span><br><span class="line">    treeifyBin(tab, hash);</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><strong>æ›´æ–°èŠ‚ç‚¹å€¼</strong>ï¼šå¦‚æœå­˜åœ¨ç›¸åŒçš„é”®ï¼Œæ›´æ–°å…¶å€¼ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if (e != null) &#123; // existing mapping for key</span><br><span class="line">    VoldValue= e.value;</span><br><span class="line">    if (!onlyIfAbsent || oldValue == null)</span><br><span class="line">        e.value = value;</span><br><span class="line">    afterNodeAccess(e);</span><br><span class="line">    return oldValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="7">
<li><strong>è°ƒæ•´å¤§å°</strong>ï¼šæ’å…¥æ–°èŠ‚ç‚¹åï¼Œå¢åŠ å…ƒç´ æ•°é‡ã€‚å¦‚æœè¶…è¿‡é˜ˆå€¼ï¼Œåˆ™è¿›è¡Œæ‰©å®¹ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">++modCount;if (++size &gt; threshold)</span><br><span class="line">    resize();</span><br></pre></td></tr></table></figure>

<ol start="8">
<li><strong>æ’å…¥åçš„å¤„ç†</strong>ï¼šè¿›è¡Œä¸€äº›æ’å…¥åçš„å¤„ç†æ“ä½œã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">afterNodeInsertion(evict);</span><br></pre></td></tr></table></figure>



<blockquote>
<p>&#x2F;cvh030rky8ki5bhi&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/linkedHashMap%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E7%94%A8%E6%9D%A5%E5%81%9ALRUCache%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/linkedHashMap%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E7%94%A8%E6%9D%A5%E5%81%9ALRUCache%EF%BC%9F/" itemprop="url">linkedHashMapä¸ºä»€ä¹ˆèƒ½ç”¨æ¥åšLRUCache</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒlinkedHashMapä¸ºä»€ä¹ˆèƒ½ç”¨æ¥åšLRUCacheï¼Ÿ"><a href="#ğŸ‘ŒlinkedHashMapä¸ºä»€ä¹ˆèƒ½ç”¨æ¥åšLRUCacheï¼Ÿ" class="headerlink" title="ğŸ‘ŒlinkedHashMapä¸ºä»€ä¹ˆèƒ½ç”¨æ¥åšLRUCacheï¼Ÿ"></a>ğŸ‘ŒlinkedHashMapä¸ºä»€ä¹ˆèƒ½ç”¨æ¥åšLRUCacheï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>LinkedHashMap èƒ½ç”¨æ¥åš LRU ç¼“å­˜çš„å…³é”®åŸå› åœ¨äºå®ƒå¯ä»¥ç»´æŠ¤è®¿é—®é¡ºåºï¼Œå¹¶ä¸”é€šè¿‡é‡å†™removeEldestEntryæ–¹æ³•ï¼Œå¯ä»¥è½»æ¾å®ç°ç¼“å­˜çš„è‡ªåŠ¨æ¸…ç†ã€‚</p>
<h2 id="å…³é”®ç‰¹æ€§"><a href="#å…³é”®ç‰¹æ€§" class="headerlink" title="å…³é”®ç‰¹æ€§"></a>å…³é”®ç‰¹æ€§</h2><p><strong>è®¿é—®é¡ºåº</strong>ï¼šLinkedHashMapæä¾›äº†ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œå¯ä»¥æŒ‡å®šæ˜¯å¦æŒ‰ç…§è®¿é—®é¡ºåºæ¥ç»´æŠ¤é”®å€¼å¯¹çš„é¡ºåºã€‚å½“accessOrderå‚æ•°è®¾ç½®ä¸ºtrueæ—¶ï¼ŒLinkedHashMapå°†æ ¹æ®æ¯æ¬¡è®¿é—®ï¼ˆgetæˆ–putæ“ä½œï¼‰æ¥è°ƒæ•´é¡ºåºï¼ŒæŠŠæœ€è¿‘è®¿é—®çš„é”®å€¼å¯¹ç§»åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚</p>
<p><strong>è‡ªåŠ¨æ¸…ç†</strong>ï¼šé€šè¿‡é‡å†™removeEldestEntryæ–¹æ³•ï¼Œå¯ä»¥åœ¨æ’å…¥æ–°é”®å€¼å¯¹æ—¶è‡ªåŠ¨ç§»é™¤æœ€è€çš„é”®å€¼å¯¹ï¼ˆå³é“¾è¡¨å¤´éƒ¨çš„é”®å€¼å¯¹ï¼‰ï¼Œä»è€Œå®ç°ç¼“å­˜çš„è‡ªåŠ¨æ¸…ç†ã€‚</p>
<h2 id="å®ç°-LRU-ç¼“å­˜çš„æ­¥éª¤"><a href="#å®ç°-LRU-ç¼“å­˜çš„æ­¥éª¤" class="headerlink" title="å®ç° LRU ç¼“å­˜çš„æ­¥éª¤"></a>å®ç° LRU ç¼“å­˜çš„æ­¥éª¤</h2><ol>
<li>åˆ›å»ºä¸€ä¸ªLinkedHashMapå®ä¾‹ï¼Œå¹¶å°†accessOrderå‚æ•°è®¾ç½®ä¸ºtrueã€‚</li>
<li>é‡å†™removeEldestEntryæ–¹æ³•ï¼Œä»¥ä¾¿åœ¨ç¼“å­˜å¤§å°è¶…è¿‡é¢„å®šä¹‰çš„æœ€å¤§å®¹é‡æ—¶è‡ªåŠ¨ç§»é™¤æœ€è€çš„é”®å€¼å¯¹ã€‚</li>
</ol>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import java.util.LinkedHashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class LRUCache&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; &#123;</span><br><span class="line">    private final int maxCapacity;</span><br><span class="line"></span><br><span class="line">    // æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æœ€å¤§å®¹é‡å’Œè®¿é—®é¡ºåº</span><br><span class="line">    public LRUCache(int maxCapacity) &#123;</span><br><span class="line">        super(maxCapacity, 0.75f, true);</span><br><span class="line">        this.maxCapacity = maxCapacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // é‡å†™removeEldestEntryæ–¹æ³•ï¼Œå½“å¤§å°è¶…è¿‡æœ€å¤§å®¹é‡æ—¶ç§»é™¤æœ€è€çš„é”®å€¼å¯¹</span><br><span class="line">    @Override</span><br><span class="line">    protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) &#123;</span><br><span class="line">        return size() &gt; maxCapacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // åˆ›å»ºä¸€ä¸ªå®¹é‡ä¸º3çš„LRUç¼“å­˜</span><br><span class="line">        LRUCache&lt;String, Integer&gt; cache = new LRUCache&lt;&gt;(3);</span><br><span class="line"></span><br><span class="line">        // æ’å…¥é”®å€¼å¯¹</span><br><span class="line">        cache.put(&quot;A&quot;, 1);</span><br><span class="line">        cache.put(&quot;B&quot;, 2);</span><br><span class="line">        cache.put(&quot;C&quot;, 3);</span><br><span class="line"></span><br><span class="line">        // è®¿é—®é”®&quot;A&quot;ï¼ˆä½¿å…¶æˆä¸ºæœ€è¿‘ä½¿ç”¨çš„ï¼‰</span><br><span class="line">        cache.get(&quot;A&quot;);</span><br><span class="line"></span><br><span class="line">        // æ’å…¥æ–°é”®å€¼å¯¹&quot;D&quot;ï¼Œå¯¼è‡´æœ€è€çš„é”®å€¼å¯¹&quot;B&quot;è¢«ç§»é™¤</span><br><span class="line">        cache.put(&quot;D&quot;, 4);</span><br><span class="line"></span><br><span class="line">        // æ‰“å°ç¼“å­˜å†…å®¹</span><br><span class="line">        System.out.println(cache); // è¾“å‡º: &#123;C=3, A=1, D=4&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h2><p><strong>æ„é€ æ–¹æ³•</strong>ï¼šLRUCacheæ„é€ æ–¹æ³•ä¸­è°ƒç”¨äº†LinkedHashMapçš„æ„é€ æ–¹æ³•ï¼Œå¹¶å°†accessOrderå‚æ•°è®¾ç½®ä¸ºtrueï¼Œä»¥ä¾¿æŒ‰ç…§è®¿é—®é¡ºåºç»´æŠ¤é”®å€¼å¯¹çš„é¡ºåºã€‚</p>
<p><strong>removeEldestEntry æ–¹æ³•</strong>ï¼šé‡å†™äº†removeEldestEntryæ–¹æ³•ï¼Œå½“ç¼“å­˜çš„å¤§å°è¶…è¿‡maxCapacityæ—¶è¿”å›trueï¼Œä»è€Œç§»é™¤æœ€è€çš„é”®å€¼å¯¹ã€‚</p>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼šåœ¨ä¸»æ–¹æ³•ä¸­åˆ›å»ºäº†ä¸€ä¸ªLRUCacheå®ä¾‹ï¼Œæ’å…¥äº†å‡ ä¸ªé”®å€¼å¯¹ï¼Œå¹¶é€šè¿‡è®¿é—®é”® â€œAâ€ æ¥æ”¹å˜å…¶é¡ºåºã€‚ç„¶åæ’å…¥ä¸€ä¸ªæ–°é”®å€¼å¯¹ â€œDâ€ï¼Œå¯¼è‡´æœ€è€çš„é”®å€¼å¯¹ â€œBâ€ è¢«ç§»é™¤ã€‚</p>
<blockquote>
<p>&#x2F;rv2p9mfn43gmr2qn&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/linkedhashmap%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E6%9C%89%E5%BA%8F%E6%80%A7%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/linkedhashmap%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E6%9C%89%E5%BA%8F%E6%80%A7%EF%BC%9F/" itemprop="url">linkedhashmapå¦‚ä½•ä¿è¯æœ‰åºæ€§</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œlinkedhashmapå¦‚ä½•ä¿è¯æœ‰åºæ€§ï¼Ÿ"><a href="#ğŸ‘Œlinkedhashmapå¦‚ä½•ä¿è¯æœ‰åºæ€§ï¼Ÿ" class="headerlink" title="ğŸ‘Œlinkedhashmapå¦‚ä½•ä¿è¯æœ‰åºæ€§ï¼Ÿ"></a>ğŸ‘Œlinkedhashmapå¦‚ä½•ä¿è¯æœ‰åºæ€§ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>LinkedHashMapé€šè¿‡ç»´æŠ¤ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥ä¿è¯æœ‰åºæ€§ã€‚è¿™ä¸ªåŒå‘é“¾è¡¨è®°å½•äº†æ‰€æœ‰æ’å…¥çš„é”®å€¼å¯¹çš„é¡ºåºã€‚æ ¹æ®æ„é€ æ–¹æ³•ä¸­çš„å‚æ•°è®¾ç½®ï¼ŒLinkedHashMapå¯ä»¥æŒ‰æ’å…¥é¡ºåºæˆ–è®¿é—®é¡ºåºæ¥ç»´æŠ¤è¿™äº›é”®å€¼å¯¹çš„é¡ºåºã€‚</p>
<h2 id="å…·ä½“å®ç°åŸç†"><a href="#å…·ä½“å®ç°åŸç†" class="headerlink" title="å…·ä½“å®ç°åŸç†"></a>å…·ä½“å®ç°åŸç†</h2><ol>
<li><strong>åŒå‘é“¾è¡¨</strong>ï¼šLinkedHashMapåœ¨å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªåŒå‘é“¾è¡¨ã€‚æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå¹¶ä¸”åŒ…å«æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹å’Œåä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ã€‚é€šè¿‡è¿™ä¸ªé“¾è¡¨ï¼ŒLinkedHashMapå¯ä»¥å¿«é€Ÿåœ°éå†æ‰€æœ‰é”®å€¼å¯¹ï¼Œä¿æŒå…¶æœ‰åºæ€§ã€‚</li>
<li><strong>æ’å…¥é¡ºåº</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒLinkedHashMapæŒ‰ç…§é”®å€¼å¯¹æ’å…¥çš„é¡ºåºæ¥ç»´æŠ¤é¡ºåºã€‚æ¯æ¬¡æ’å…¥æ–°é”®å€¼å¯¹æ—¶ï¼Œå®ƒä¼šå°†æ–°èŠ‚ç‚¹æ·»åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚</li>
<li><strong>è®¿é—®é¡ºåº</strong>ï¼šå¦‚æœåœ¨æ„é€ æ–¹æ³•ä¸­å°†accessOrderå‚æ•°è®¾ç½®ä¸ºtrueï¼ŒLinkedHashMapå°†æŒ‰ç…§è®¿é—®é¡ºåºæ¥ç»´æŠ¤é”®å€¼å¯¹çš„é¡ºåºã€‚æ¯æ¬¡è®¿é—®ï¼ˆgetæˆ–putæ“ä½œï¼‰ä¸€ä¸ªé”®å€¼å¯¹æ—¶ï¼Œå®ƒä¼šå°†å¯¹åº”çš„èŠ‚ç‚¹ç§»åŠ¨åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚</li>
</ol>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import java.util.LinkedHashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class LinkedHashMapOrderExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // æ’å…¥é¡ºåº</span><br><span class="line">        LinkedHashMap&lt;String, Integer&gt; insertionOrderMap = new LinkedHashMap&lt;&gt;();</span><br><span class="line">        insertionOrderMap.put(&quot;A&quot;, 1);</span><br><span class="line">        insertionOrderMap.put(&quot;B&quot;, 2);</span><br><span class="line">        insertionOrderMap.put(&quot;C&quot;, 3);</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;æ’å…¥é¡ºåº:&quot;);</span><br><span class="line">        for (Map.Entry&lt;String, Integer&gt; entry : insertionOrderMap.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // è®¿é—®é¡ºåº</span><br><span class="line">        LinkedHashMap&lt;String, Integer&gt; accessOrderMap = new LinkedHashMap&lt;&gt;(16, 0.75f, true);</span><br><span class="line">        accessOrderMap.put(&quot;A&quot;, 1);</span><br><span class="line">        accessOrderMap.put(&quot;B&quot;, 2);</span><br><span class="line">        accessOrderMap.put(&quot;C&quot;, 3);</span><br><span class="line"></span><br><span class="line">        // è®¿é—®æŸäº›å…ƒç´ </span><br><span class="line">        accessOrderMap.get(&quot;A&quot;);</span><br><span class="line">        accessOrderMap.get(&quot;C&quot;);</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;è®¿é—®é¡ºåº:&quot;);</span><br><span class="line">        for (Map.Entry&lt;String, Integer&gt; entry : accessOrderMap.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h3><p><strong>æ’å…¥é¡ºåº</strong>ï¼š</p>
<p>åˆ›å»ºä¸€ä¸ªLinkedHashMapå®ä¾‹insertionOrderMapã€‚</p>
<p>æ’å…¥é”®å€¼å¯¹ â€œAâ€ã€â€Bâ€ å’Œ â€œCâ€ã€‚</p>
<p>éå†å¹¶æ‰“å°é”®å€¼å¯¹ï¼Œé¡ºåºä¸æ’å…¥é¡ºåºä¸€è‡´ã€‚</p>
<p><strong>è®¿é—®é¡ºåº</strong>ï¼š</p>
<p>åˆ›å»ºä¸€ä¸ªLinkedHashMapå®ä¾‹accessOrderMapï¼Œå¹¶å°†accessOrderå‚æ•°è®¾ç½®ä¸ºtrueã€‚</p>
<p>æ’å…¥é”®å€¼å¯¹ â€œAâ€ã€â€Bâ€ å’Œ â€œCâ€ã€‚</p>
<p>è®¿é—®é”® â€œAâ€ å’Œ â€œCâ€ï¼ˆé€šè¿‡getæ“ä½œï¼‰ã€‚</p>
<p>éå†å¹¶æ‰“å°é”®å€¼å¯¹ï¼Œé¡ºåºæŒ‰ç…§æœ€è¿‘è®¿é—®çš„é¡ºåºæ’åˆ—ã€‚</p>
<h2 id="å†…éƒ¨æœºåˆ¶"><a href="#å†…éƒ¨æœºåˆ¶" class="headerlink" title="å†…éƒ¨æœºåˆ¶"></a>å†…éƒ¨æœºåˆ¶</h2><p><strong>èŠ‚ç‚¹ç»“æ„</strong>ï¼šLinkedHashMapçš„æ¯ä¸ªèŠ‚ç‚¹ä¸ä»…åŒ…å«é”®å’Œå€¼ï¼Œè¿˜åŒ…å«æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹å’Œåä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ã€‚è¿™ä½¿å¾—å®ƒå¯ä»¥é«˜æ•ˆåœ°ç»´æŠ¤é¡ºåºã€‚</p>
<p><strong>æ“ä½œè°ƒæ•´</strong>ï¼šåœ¨æ¯æ¬¡æ’å…¥æˆ–è®¿é—®é”®å€¼å¯¹æ—¶ï¼ŒLinkedHashMapä¼šè°ƒæ•´é“¾è¡¨ä¸­èŠ‚ç‚¹çš„ä½ç½®ï¼Œä»¥ç¡®ä¿é¡ºåºçš„æ­£ç¡®æ€§ã€‚ä¾‹å¦‚ï¼Œåœ¨è®¿é—®é¡ºåºæ¨¡å¼ä¸‹ï¼Œæ¯æ¬¡è®¿é—®ä¸€ä¸ªé”®å€¼å¯¹æ—¶ï¼Œå®ƒä¼šå°†å¯¹åº”çš„èŠ‚ç‚¹ç§»åŠ¨åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚</p>
<p>é€šè¿‡è¿™äº›æœºåˆ¶ï¼ŒLinkedHashMapèƒ½å¤Ÿé«˜æ•ˆåœ°ç»´æŠ¤é”®å€¼å¯¹çš„æœ‰åºæ€§ï¼Œæ— è®ºæ˜¯æŒ‰æ’å…¥é¡ºåºè¿˜æ˜¯è®¿é—®é¡ºåºã€‚</p>
<blockquote>
<p>&#x2F;sgl9ep03rn5cwda1&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%B8%BA%E4%BB%80%E4%B9%88String,Interger%E8%BF%99%E6%A0%B7%E7%9A%84wrapper%E7%B1%BB%E9%80%82%E5%90%88%E4%BD%9C%E4%B8%BA%E9%94%AE%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%B8%BA%E4%BB%80%E4%B9%88String,Interger%E8%BF%99%E6%A0%B7%E7%9A%84wrapper%E7%B1%BB%E9%80%82%E5%90%88%E4%BD%9C%E4%B8%BA%E9%94%AE%EF%BC%9F/" itemprop="url">ä¸ºä»€ä¹ˆString, Intergerè¿™æ ·çš„wrapperç±»é€‚åˆä½œä¸ºé”®</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä¸ºä»€ä¹ˆString-Intergerè¿™æ ·çš„wrapperç±»é€‚åˆä½œä¸ºé”®ï¼Ÿ"><a href="#ğŸ‘Œä¸ºä»€ä¹ˆString-Intergerè¿™æ ·çš„wrapperç±»é€‚åˆä½œä¸ºé”®ï¼Ÿ" class="headerlink" title="ğŸ‘Œä¸ºä»€ä¹ˆString, Intergerè¿™æ ·çš„wrapperç±»é€‚åˆä½œä¸ºé”®ï¼Ÿ"></a>ğŸ‘Œä¸ºä»€ä¹ˆString, Intergerè¿™æ ·çš„wrapperç±»é€‚åˆä½œä¸ºé”®ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="ä¸å¯å˜æ€§"><a href="#ä¸å¯å˜æ€§" class="headerlink" title="ä¸å¯å˜æ€§"></a>ä¸å¯å˜æ€§</h2><p>Stringå’ŒIntegerç­‰åŒ…è£…ç±»éƒ½æ˜¯ä¸å¯å˜çš„å¯¹è±¡ã€‚ä¸€æ—¦åˆ›å»ºï¼Œè¿™äº›å¯¹è±¡çš„çŠ¶æ€å°±ä¸èƒ½è¢«æ”¹å˜ã€‚ä¸å¯å˜æ€§æ˜¯ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ï¼Œå› ä¸ºå®ƒä¿è¯äº†å¯¹è±¡åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…çš„å“ˆå¸Œç ï¼ˆhash codeï¼‰ä¸ä¼šæ”¹å˜ã€‚</p>
<p>å¦‚æœä¸€ä¸ªå¯¹è±¡åœ¨ä½œä¸ºé”®çš„è¿‡ç¨‹ä¸­å…¶å“ˆå¸Œç å‘ç”Ÿäº†æ”¹å˜ï¼Œé‚£ä¹ˆåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾è¯¥é”®æ—¶å°†æ— æ³•æ‰¾åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œå¯¼è‡´æ•°æ®ç»“æ„æ— æ³•æ­£å¸¸å·¥ä½œã€‚ä¸å¯å˜å¯¹è±¡é¿å…äº†è¿™ä¸€é—®é¢˜ã€‚</p>
<h2 id="åˆç†çš„hashCode-å®ç°"><a href="#åˆç†çš„hashCode-å®ç°" class="headerlink" title="åˆç†çš„hashCode()å®ç°"></a>åˆç†çš„hashCode()å®ç°</h2><p>Stringå’ŒIntegerç±»éƒ½æä¾›äº†é«˜è´¨é‡çš„hashCode()æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•èƒ½å¤Ÿæœ‰æ•ˆåœ°åˆ†å¸ƒå“ˆå¸Œå€¼ï¼Œå‡å°‘å“ˆå¸Œå†²çªã€‚å…·ä½“æ¥è¯´ï¼š</p>
<p><strong>String</strong>çš„hashCode()æ–¹æ³•æ˜¯åŸºäºå­—ç¬¦ä¸²å†…å®¹è®¡ç®—çš„ï¼Œä½¿ç”¨äº†ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•ã€‚</p>
<p><strong>Integer</strong>çš„hashCode()æ–¹æ³•ç›´æ¥è¿”å›å…¶å†…éƒ¨å­˜å‚¨çš„æ•´æ•°å€¼ã€‚</p>
<h2 id="åˆç†çš„equals-å®ç°"><a href="#åˆç†çš„equals-å®ç°" class="headerlink" title="åˆç†çš„equals()å®ç°"></a>åˆç†çš„equals()å®ç°</h2><p>Stringå’ŒIntegerç±»éƒ½æä¾›äº†æ­£ç¡®ä¸”é«˜æ•ˆçš„equals()æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•èƒ½å¤Ÿå‡†ç¡®åœ°æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚è¿™å¯¹äºå“ˆå¸Œè¡¨ç­‰æ•°æ®ç»“æ„æ¥è¯´æ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾é”®æ—¶éœ€è¦ä¾èµ–equals()æ–¹æ³•æ¥åˆ¤æ–­ä¸¤ä¸ªé”®æ˜¯å¦ç›¸ç­‰ã€‚</p>
<h2 id="å†…å­˜æ•ˆç‡"><a href="#å†…å­˜æ•ˆç‡" class="headerlink" title="å†…å­˜æ•ˆç‡"></a>å†…å­˜æ•ˆç‡</h2><p>è™½ç„¶åŒ…è£…ç±»ç›¸å¯¹äºåŸå§‹ç±»å‹æœ‰ä¸€äº›é¢å¤–çš„å†…å­˜å¼€é”€ï¼Œä½†è¿™äº›ç±»é€šå¸¸ç»è¿‡äº†ä¼˜åŒ–ï¼Œèƒ½å¤Ÿåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æä¾›è¶³å¤Ÿçš„æ€§èƒ½å’Œå†…å­˜æ•ˆç‡ã€‚ä¾‹å¦‚ï¼ŒIntegerç±»ä½¿ç”¨äº†å¯¹è±¡æ± æ¥ç¼“å­˜å¸¸ç”¨çš„æ•´æ•°å€¼ï¼ˆ-128 åˆ° 127ï¼‰ï¼Œä»è€Œå‡å°‘äº†å†…å­˜æ¶ˆè€—å’Œå¯¹è±¡åˆ›å»ºçš„å¼€é”€ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%B8%BA%E4%BB%80%E4%B9%88hashMap%E7%9A%84%E5%AE%B9%E9%87%8F%E6%89%A9%E5%AE%B9%E6%97%B6%E4%B8%80%E5%AE%9A%E6%98%AF2%E7%9A%84%E5%B9%82%E6%AC%A1_/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%B8%BA%E4%BB%80%E4%B9%88hashMap%E7%9A%84%E5%AE%B9%E9%87%8F%E6%89%A9%E5%AE%B9%E6%97%B6%E4%B8%80%E5%AE%9A%E6%98%AF2%E7%9A%84%E5%B9%82%E6%AC%A1_/" itemprop="url">ä¸ºä»€ä¹ˆhashMapçš„å®¹é‡æ‰©å®¹æ—¶ä¸€å®šæ˜¯2çš„å¹‚æ¬¡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä¸ºä»€ä¹ˆhashMapçš„å®¹é‡æ‰©å®¹æ—¶ä¸€å®šæ˜¯2çš„å¹‚æ¬¡"><a href="#ğŸ‘Œä¸ºä»€ä¹ˆhashMapçš„å®¹é‡æ‰©å®¹æ—¶ä¸€å®šæ˜¯2çš„å¹‚æ¬¡" class="headerlink" title="ğŸ‘Œä¸ºä»€ä¹ˆhashMapçš„å®¹é‡æ‰©å®¹æ—¶ä¸€å®šæ˜¯2çš„å¹‚æ¬¡?"></a>ğŸ‘Œä¸ºä»€ä¹ˆhashMapçš„å®¹é‡æ‰©å®¹æ—¶ä¸€å®šæ˜¯2çš„å¹‚æ¬¡?</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>åœ¨HashMapä¸­ï¼Œåˆå§‹åŒ–è®¾ç½®é•¿åº¦æ—¶ï¼Œå®¹é‡è‡ªåŠ¨è½¬æˆ 2 çš„å¹‚æ¬¡é•¿åº¦ï¼Œè¿™æ ·è®¾è®¡æœ‰å‡ ä¸ªé‡è¦åŸå› ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¼˜åŒ–æ€§èƒ½å’Œç®€åŒ–è®¡ç®—ã€‚</p>
<h2 id="é«˜æ•ˆè®¡ç®—ç´¢å¼•"><a href="#é«˜æ•ˆè®¡ç®—ç´¢å¼•" class="headerlink" title="é«˜æ•ˆè®¡ç®—ç´¢å¼•"></a>é«˜æ•ˆè®¡ç®—ç´¢å¼•</h2><p>HashMapä½¿ç”¨å“ˆå¸Œå€¼æ¥ç¡®å®šé”®å€¼å¯¹åœ¨å“ˆå¸Œè¡¨ä¸­çš„ä½ç½®ã€‚ä¸ºäº†è®¡ç®—æ•°ç»„ç´¢å¼•ï¼ŒHashMapä½¿ç”¨æŒ‰ä½ä¸æ“ä½œä»£æ›¿å–æ¨¡è¿ç®—ã€‚å…·ä½“æ¥è¯´ï¼ŒHashMapé€šè¿‡ä»¥ä¸‹æ–¹å¼è®¡ç®—ç´¢å¼•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int index= (n - 1) &amp; hash;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­næ˜¯å“ˆå¸Œè¡¨æ•°ç»„çš„é•¿åº¦ã€‚å‡è®¾næ˜¯ 2 çš„å¹‚æ¬¡ï¼Œæ¯”å¦‚ 16ï¼ˆ2^4ï¼‰ï¼Œåˆ™n - 1æ˜¯ 15ï¼ˆ1111 äºŒè¿›åˆ¶ï¼‰ã€‚è¿™æ ·ï¼Œ(n - 1) &amp; hashæ“ä½œå¯ä»¥å¿«é€Ÿåœ°å¯¹å“ˆå¸Œå€¼è¿›è¡Œå–æ¨¡è¿ç®—ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨æ€§èƒ½è¾ƒä½çš„å–æ¨¡æ“ä½œ%ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœnæ˜¯ 16ï¼ˆ2^4ï¼‰ï¼š</p>
<ul>
<li>n - 1æ˜¯ 15ï¼ˆ1111 äºŒè¿›åˆ¶ï¼‰</li>
<li>æŒ‰ä½ä¸æ“ä½œ(n - 1) &amp; hashåªä¿ç•™å“ˆå¸Œå€¼çš„ä½ 4 ä½ï¼Œè¿™ç›¸å½“äºå¯¹ 16 å–æ¨¡ã€‚</li>
</ul>
<p>è¿™ç§æ–¹å¼ä¸ä»…è®¡ç®—å¿«é€Ÿï¼Œè€Œä¸”ä»£ç ç®€æ´ã€‚</p>
<h2 id="å‡å°‘å“ˆå¸Œå†²çª"><a href="#å‡å°‘å“ˆå¸Œå†²çª" class="headerlink" title="å‡å°‘å“ˆå¸Œå†²çª"></a>å‡å°‘å“ˆå¸Œå†²çª</h2><p>åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œå“ˆå¸Œå†²çªæ˜¯ä¸€ä¸ªä¸»è¦é—®é¢˜ã€‚å“ˆå¸Œå†²çªå‘ç”Ÿæ—¶ï¼Œä¸åŒçš„é”®è®¡ç®—å‡ºçš„ç´¢å¼•ç›¸åŒï¼Œå¯¼è‡´å®ƒä»¬è¢«å­˜å‚¨åœ¨åŒä¸€ä¸ªæ¡¶ä¸­ã€‚é€šè¿‡å°†å®¹é‡è®¾ç½®ä¸º 2 çš„å¹‚æ¬¡ï¼Œå“ˆå¸Œè¡¨èƒ½å¤Ÿæ›´å‡åŒ€åœ°åˆ†å¸ƒå“ˆå¸Œå€¼ï¼Œå‡å°‘å†²çªã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå½“å®¹é‡æ˜¯ 2 çš„å¹‚æ¬¡æ—¶ï¼Œå“ˆå¸Œå€¼çš„ä½ä½å’Œé«˜ä½éƒ½èƒ½å‡åŒ€åœ°å½±å“æœ€ç»ˆç´¢å¼•ã€‚è¿™æ˜¯å› ä¸ºæ‰°åŠ¨å‡½æ•°hash &#x3D; h ^ (h &gt;&gt;&gt; 16)å°†é«˜ä½å’Œä½ä½æ··åˆåœ¨ä¸€èµ·ï¼Œä½¿å¾—å“ˆå¸Œå€¼çš„åˆ†å¸ƒæ›´å‡åŒ€ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªHashMapï¼Œå…¶å®¹é‡ä¸º 10ï¼ˆä¸æ˜¯ 2 çš„å¹‚æ¬¡ï¼‰ï¼Œå¹¶ä¸”æˆ‘ä»¬æœ‰ä¸€ç»„é”®ï¼Œå®ƒä»¬çš„å“ˆå¸Œå€¼åˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li>é”® A çš„å“ˆå¸Œå€¼ï¼š35</li>
<li>é”® B çš„å“ˆå¸Œå€¼ï¼š45</li>
<li>é”® C çš„å“ˆå¸Œå€¼ï¼š55</li>
</ul>
<p>ï¼ˆ1ï¼‰ä½¿ç”¨é 2 çš„å¹‚æ¬¡å®¹é‡</p>
<p>å¦‚æœå®¹é‡ä¸º 10ï¼Œæˆ‘ä»¬è®¡ç®—ç´¢å¼•çš„æ–¹æ³•æ˜¯å–æ¨¡è¿ç®—ï¼š</p>
<ul>
<li>é”® A çš„ç´¢å¼•ï¼š35 % 10 &#x3D; 5</li>
<li>é”® B çš„ç´¢å¼•ï¼š45 % 10 &#x3D; 5</li>
<li>é”® C çš„ç´¢å¼•ï¼š55 % 10 &#x3D; 5</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™äº›ä¸åŒçš„é”®åœ¨å–æ¨¡è¿ç®—åéƒ½æ˜ å°„åˆ°åŒä¸€ä¸ªç´¢å¼• 5ï¼Œå¯¼è‡´äº†å“ˆå¸Œå†²çªã€‚</p>
<p>ï¼ˆ2ï¼‰ä½¿ç”¨ 2 çš„å¹‚æ¬¡å®¹é‡</p>
<p>ç°åœ¨å‡è®¾æˆ‘ä»¬å°†å®¹é‡è®¾ç½®ä¸º 16ï¼ˆ2^4ï¼‰ï¼Œå¹¶ä½¿ç”¨æŒ‰ä½ä¸æ“ä½œæ¥è®¡ç®—ç´¢å¼•ï¼š</p>
<ul>
<li>é”® A çš„ç´¢å¼•ï¼š35 &amp; (16 - 1) &#x3D; 35 &amp; 15 &#x3D; 3</li>
<li>é”® B çš„ç´¢å¼•ï¼š45 &amp; (16 - 1) &#x3D; 45 &amp; 15 &#x3D; 13</li>
<li>é”® C çš„ç´¢å¼•ï¼š55 &amp; (16 - 1) &#x3D; 55 &amp; 15 &#x3D; 7</li>
</ul>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™äº›é”®æ˜ å°„åˆ°ä¸åŒçš„ç´¢å¼•ï¼ˆ3ã€13 å’Œ 7ï¼‰ï¼Œæ²¡æœ‰å‘ç”Ÿå“ˆå¸Œå†²çªã€‚</p>
<h2 id="ç®€åŒ–æ‰©å®¹"><a href="#ç®€åŒ–æ‰©å®¹" class="headerlink" title="ç®€åŒ–æ‰©å®¹"></a>ç®€åŒ–æ‰©å®¹</h2><p>HashMapåœ¨éœ€è¦æ‰©å®¹æ—¶ï¼Œé€šå¸¸ä¼šå°†å®¹é‡åŠ å€ã€‚å¦‚æœå®¹é‡æ€»æ˜¯ 2 çš„å¹‚æ¬¡ï¼Œé‚£ä¹ˆåŠ å€åçš„å®¹é‡ä»ç„¶æ˜¯ 2 çš„å¹‚æ¬¡ï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–æ‰©å®¹è¿‡ç¨‹ä¸­çš„è®¡ç®—å’Œé‡æ–°å“ˆå¸Œæ“ä½œã€‚</p>
<h2 id="å†…å­˜å¯¹é½å’Œæ•ˆç‡"><a href="#å†…å­˜å¯¹é½å’Œæ•ˆç‡" class="headerlink" title="å†…å­˜å¯¹é½å’Œæ•ˆç‡"></a>å†…å­˜å¯¹é½å’Œæ•ˆç‡</h2><p>è®¡ç®—æœºå†…å­˜åˆ†é…é€šå¸¸æ›´é«˜æ•ˆåœ°å¤„ç† 2 çš„å¹‚æ¬¡å¤§å°çš„å†…å­˜å—ã€‚ä½¿ç”¨ 2 çš„å¹‚æ¬¡é•¿åº¦å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨å†…å­˜å¯¹é½ï¼Œæé«˜å†…å­˜è®¿é—®æ•ˆç‡ã€‚</p>
<h2 id="å®ç°ç»†èŠ‚"><a href="#å®ç°ç»†èŠ‚" class="headerlink" title="å®ç°ç»†èŠ‚"></a>å®ç°ç»†èŠ‚</h2><p>å½“ä½ åˆå§‹åŒ–HashMapæ—¶ï¼ŒæŒ‡å®šçš„åˆå§‹å®¹é‡ä¼šè¢«è°ƒæ•´ä¸ºå¤§äºæˆ–ç­‰äºè¯¥å€¼çš„æœ€å°çš„ 2 çš„å¹‚æ¬¡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æŒ‡å®šçš„åˆå§‹å®¹é‡æ˜¯ 10ï¼ŒHashMapä¼šå°†å…¶è°ƒæ•´ä¸º 16ï¼ˆ2^4ï¼‰ã€‚</p>
<p>å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">static final int tableSizeFor(int cap) &#123;</span><br><span class="line">    int n = cap - 1;</span><br><span class="line">    n |= n &gt;&gt;&gt; 1;</span><br><span class="line">    n |= n &gt;&gt;&gt; 2;</span><br><span class="line">    n |= n &gt;&gt;&gt; 4;</span><br><span class="line">    n |= n &gt;&gt;&gt; 8;</span><br><span class="line">    n |= n &gt;&gt;&gt; 16;</span><br><span class="line">    return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–¹æ³•é€šè¿‡ä¸€ç³»åˆ—çš„ä½ç§»å’ŒæŒ‰ä½æˆ–æ“ä½œï¼Œå°†ä»»æ„æ•´æ•°è°ƒæ•´ä¸ºå¤§äºæˆ–ç­‰äºå®ƒçš„æœ€å° 2 çš„å¹‚æ¬¡ã€‚ä½†æ˜¯è¿˜æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µå¥—ç”¨ä»¥ä¸Šå…¬å¼ä¸è¡Œï¼Œè¿™äº›æ•°å­—å°±æ˜¯2çš„å¹‚è‡ªèº«ã€‚å¦‚æœæ•°å­—4 å¥—ç”¨å…¬å¼çš„è¯ã€‚å¾—åˆ°çš„ä¼šæ˜¯ 8 ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJDKçš„å·¥ç¨‹å¸ˆæŠŠæ‰€æœ‰ç”¨æˆ·ä¼ è¿›æ¥çš„æ•°åœ¨è¿›è¡Œè®¡ç®—ä¹‹å‰å…ˆ-1ã€‚</p>
<blockquote>
<p>&#x2F;yfxseowdd8g5hm0e&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%B8%BA%E4%BB%80%E4%B9%88hashmap%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%BC%9A%E8%BF%9B%E5%85%A5%E6%AD%BB%E5%BE%AA%E7%8E%AF%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%B8%BA%E4%BB%80%E4%B9%88hashmap%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%BC%9A%E8%BF%9B%E5%85%A5%E6%AD%BB%E5%BE%AA%E7%8E%AF%EF%BC%9F/" itemprop="url">ä¸ºä»€ä¹ˆhashmapå¤šçº¿ç¨‹ä¼šè¿›å…¥æ­»å¾ªç¯ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä¸ºä»€ä¹ˆhashmapå¤šçº¿ç¨‹ä¼šè¿›å…¥æ­»å¾ªç¯ï¼Ÿ"><a href="#ğŸ‘Œä¸ºä»€ä¹ˆhashmapå¤šçº¿ç¨‹ä¼šè¿›å…¥æ­»å¾ªç¯ï¼Ÿ" class="headerlink" title="ğŸ‘Œä¸ºä»€ä¹ˆhashmapå¤šçº¿ç¨‹ä¼šè¿›å…¥æ­»å¾ªç¯ï¼Ÿ"></a>ğŸ‘Œä¸ºä»€ä¹ˆhashmapå¤šçº¿ç¨‹ä¼šè¿›å…¥æ­»å¾ªç¯ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>HashMapåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å¯èƒ½ä¼šè¿›å…¥æ­»å¾ªç¯ï¼Œä¸»è¦æ˜¯ç”±äºå…¶éçº¿ç¨‹å®‰å…¨çš„è®¾è®¡å¯¼è‡´çš„ã€‚</p>
<h2 id="å¹¶å‘ä¿®æ”¹å¯¼è‡´çš„é“¾è¡¨ç¯"><a href="#å¹¶å‘ä¿®æ”¹å¯¼è‡´çš„é“¾è¡¨ç¯" class="headerlink" title="å¹¶å‘ä¿®æ”¹å¯¼è‡´çš„é“¾è¡¨ç¯"></a>å¹¶å‘ä¿®æ”¹å¯¼è‡´çš„é“¾è¡¨ç¯</h2><p>åœ¨HashMapä¸­ï¼Œå½“å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼Œä½¿ç”¨é“¾åœ°å€æ³•ï¼ˆé“¾è¡¨ï¼‰æ¥å­˜å‚¨å†²çªçš„é”®å€¼å¯¹ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶å¯¹HashMapè¿›è¡Œä¿®æ”¹ï¼ˆä¾‹å¦‚æ’å…¥æˆ–åˆ é™¤æ“ä½œï¼‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´é“¾è¡¨ç»“æ„è¢«ç ´åï¼Œå½¢æˆç¯å½¢é“¾è¡¨ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå½“éå†é“¾è¡¨æ—¶ï¼Œä¼šé™·å…¥æ­»å¾ªç¯ã€‚</p>
<h4 id="åŸå› åˆ†æ"><a href="#åŸå› åˆ†æ" class="headerlink" title="åŸå› åˆ†æ"></a>åŸå› åˆ†æ</h4><p>å½“ä¸¤ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹HashMapï¼Œä¾‹å¦‚åœ¨åŒä¸€ä¸ªæ¡¶ä¸­æ’å…¥å…ƒç´ ï¼Œå¯èƒ½ä¼šå¯¼è‡´é“¾è¡¨çš„æŒ‡é’ˆè¢«é”™è¯¯åœ°æ›´æ–°ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªçº¿ç¨‹æ­£åœ¨å°†ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹æ’å…¥é“¾è¡¨ä¸­ï¼Œè€Œå¦ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨é‡æ–°æ’åˆ—é“¾è¡¨çš„é¡ºåºã€‚è¿™ç§ç«äº‰æ¡ä»¶å¯èƒ½å¯¼è‡´é“¾è¡¨ä¸­å‡ºç°ç¯å½¢ç»“æ„ã€‚</p>
<h4 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class HashMapInfiniteLoop &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        final Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        // åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ HashMap è¿›è¡Œæ’å…¥æ“ä½œ</span><br><span class="line">        Thread t1 = new Thread(() -&gt; &#123;</span><br><span class="line">            for (int i = 0; i &lt; 10000; i++) &#123;</span><br><span class="line">                map.put(i, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Thread t2 = new Thread(() -&gt; &#123;</span><br><span class="line">            for (int i = 10000; i &lt; 20000; i++) &#123;</span><br><span class="line">                map.put(i, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            t1.join();</span><br><span class="line">            t2.join();</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // éå† HashMapï¼Œå¯èƒ½ä¼šé™·å…¥æ­»å¾ªç¯</span><br><span class="line">        for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹HashMapè¿›è¡Œæ’å…¥æ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´é“¾è¡¨ç»“æ„è¢«ç ´åï¼Œå½¢æˆç¯å½¢é“¾è¡¨ï¼Œä»è€Œåœ¨éå†æ—¶é™·å…¥æ­»å¾ªç¯ã€‚</p>
<h2 id="æ‰©å®¹å¯¼è‡´çš„å¹¶å‘é—®é¢˜"><a href="#æ‰©å®¹å¯¼è‡´çš„å¹¶å‘é—®é¢˜" class="headerlink" title="æ‰©å®¹å¯¼è‡´çš„å¹¶å‘é—®é¢˜"></a>æ‰©å®¹å¯¼è‡´çš„å¹¶å‘é—®é¢˜</h2><p>HashMapåœ¨å®¹é‡è¾¾åˆ°ä¸€å®šé˜ˆå€¼æ—¶ä¼šè¿›è¡Œæ‰©å®¹ï¼ˆrehashï¼‰ï¼Œå³é‡æ–°åˆ†é…æ¡¶æ•°ç»„ï¼Œå¹¶é‡æ–°å“ˆå¸Œæ‰€æœ‰é”®å€¼å¯¹ã€‚å¦‚æœåœ¨æ‰©å®¹è¿‡ç¨‹ä¸­ï¼Œæœ‰å…¶ä»–çº¿ç¨‹åŒæ—¶è¿›è¡Œæ’å…¥æ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´é‡æ–°å“ˆå¸Œè¿‡ç¨‹ä¸­çš„æ•°æ®ä¸ä¸€è‡´ï¼Œè¿›è€Œå¼•å‘æ­»å¾ªç¯ã€‚</p>
<h4 id="åŸå› åˆ†æ-1"><a href="#åŸå› åˆ†æ-1" class="headerlink" title="åŸå› åˆ†æ"></a>åŸå› åˆ†æ</h4><p>æ‰©å®¹è¿‡ç¨‹ä¸­ï¼ŒHashMapä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ã€æ›´å¤§çš„æ¡¶æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰æ—§çš„é”®å€¼å¯¹é‡æ–°å“ˆå¸Œå¹¶æ”¾å…¥æ–°çš„æ¡¶ä¸­ã€‚å¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æœ‰å…¶ä»–çº¿ç¨‹æ’å…¥æ–°çš„é”®å€¼å¯¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ—§æ¡¶å’Œæ–°æ¡¶çš„æ•°æ®ç»“æ„ä¸ä¸€è‡´ï¼Œè¿›è€Œå¼•èµ·æ­»å¾ªç¯ã€‚</p>
<h4 id="ç¤ºä¾‹ä»£ç -1"><a href="#ç¤ºä¾‹ä»£ç -1" class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class HashMapResizeInfiniteLoop &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        final Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;(2);</span><br><span class="line"></span><br><span class="line">        // åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ HashMap è¿›è¡Œæ’å…¥æ“ä½œ</span><br><span class="line">        Thread t1 = new Thread(() -&gt; &#123;</span><br><span class="line">            for (int i = 0; i &lt; 10000; i++) &#123;</span><br><span class="line">                map.put(i, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Thread t2 = new Thread(() -&gt; &#123;</span><br><span class="line">            for (int i = 10000; i &lt; 20000; i++) &#123;</span><br><span class="line">                map.put(i, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            t1.join();</span><br><span class="line">            t2.join();</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // éå† HashMapï¼Œå¯èƒ½ä¼šé™·å…¥æ­»å¾ªç¯</span><br><span class="line">        for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒHashMapåˆå§‹å®¹é‡è®¾ç½®ä¸º 2ï¼Œä¸¤ä¸ªçº¿ç¨‹åŒæ—¶æ’å…¥å¤§é‡å…ƒç´ ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ‰©å®¹è¿‡ç¨‹ä¸­æ•°æ®ä¸ä¸€è‡´ï¼Œä»è€Œå¼•å‘æ­»å¾ªç¯ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h3 id="ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„"><a href="#ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„" class="headerlink" title="ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„"></a>ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„</h3><p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œä½¿ç”¨ConcurrentHashMapä»£æ›¿HashMapã€‚ConcurrentHashMapé€šè¿‡åˆ†æ®µé”æœºåˆ¶æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå¹¶å‘æ€§èƒ½æ›´å¥½ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import java.util.concurrent.ConcurrentHashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class ConcurrentHashMapExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        final Map&lt;Integer, Integer&gt; map = new ConcurrentHashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Thread t1 = new Thread(() -&gt; &#123;</span><br><span class="line">            for (int i = 0; i &lt; 10000; i++) &#123;</span><br><span class="line">                map.put(i, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Thread t2 = new Thread(() -&gt; &#123;</span><br><span class="line">            for (int i = 10000; i &lt; 20000; i++) &#123;</span><br><span class="line">                map.put(i, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            t1.join();</span><br><span class="line">            t2.join();</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¤–éƒ¨åŒæ­¥"><a href="#å¤–éƒ¨åŒæ­¥" class="headerlink" title="å¤–éƒ¨åŒæ­¥"></a>å¤–éƒ¨åŒæ­¥</h3><p>å¦‚æœå¿…é¡»ä½¿ç”¨HashMapï¼Œå¯ä»¥åœ¨å¤–éƒ¨è¿›è¡ŒåŒæ­¥ï¼Œç¡®ä¿åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹HashMapè¿›è¡Œä¿®æ”¹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class SynchronizedHashMapExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        final Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Thread t1 = new Thread(() -&gt; &#123;</span><br><span class="line">            synchronized (map) &#123;</span><br><span class="line">                for (int i = 0; i &lt; 10000; i++) &#123;</span><br><span class="line">                    map.put(i, i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Thread t2 = new Thread(() -&gt; &#123;</span><br><span class="line">            synchronized (map) &#123;</span><br><span class="line">                for (int i = 10000; i &lt; 20000; i++) &#123;</span><br><span class="line">                    map.put(i, i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            t1.join();</span><br><span class="line">            t2.join();</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        synchronized (map) &#123;</span><br><span class="line">            for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">                System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä½¿ç”¨ConcurrentHashMapæˆ–å¤–éƒ¨åŒæ­¥ï¼Œå¯ä»¥é¿å…HashMapåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å‡ºç°æ­»å¾ªç¯çš„é—®é¢˜ã€‚</p>
<blockquote>
<p>&#x2F;dhuaw13mlcgfpa9k&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E6%89%B0%E5%8A%A8%E5%87%BD%E6%95%B0%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E6%89%B0%E5%8A%A8%E5%87%BD%E6%95%B0%EF%BC%9F/" itemprop="url">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ‰°åŠ¨å‡½æ•°ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ‰°åŠ¨å‡½æ•°ï¼Ÿ"><a href="#ğŸ‘Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ‰°åŠ¨å‡½æ•°ï¼Ÿ" class="headerlink" title="ğŸ‘Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ‰°åŠ¨å‡½æ•°ï¼Ÿ"></a>ğŸ‘Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ‰°åŠ¨å‡½æ•°ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>æ‰°åŠ¨å‡½æ•°çš„ç›®çš„æ˜¯ä¸ºäº†æé«˜å“ˆå¸Œç çš„è´¨é‡ï¼Œä½¿å…¶åœ¨å“ˆå¸Œè¡¨ä¸­æ›´å‡åŒ€åœ°åˆ†å¸ƒã€‚å…·ä½“æ¥è¯´ï¼š</p>
<p><strong>å‡å°‘å“ˆå¸Œå†²çª</strong>ï¼šé€šè¿‡å°†é«˜ä½å’Œä½ä½æ··åˆï¼Œæ‰°åŠ¨å‡½æ•°å‡å°‘äº†å“ˆå¸Œç çš„æ¨¡å¼æ€§ï¼Œé™ä½äº†å“ˆå¸Œå†²çªçš„æ¦‚ç‡ã€‚</p>
<p><strong>å‡åŒ€åˆ†å¸ƒ</strong>ï¼šæ‰°åŠ¨åçš„å“ˆå¸Œç æ›´åŠ å‡åŒ€åœ°åˆ†å¸ƒåœ¨å“ˆå¸Œè¡¨çš„æ¡¶ä¸­ï¼Œä»è€Œæé«˜äº†å“ˆå¸Œè¡¨çš„æ€§èƒ½ã€‚</p>
<h2 id="ç¤ºä¾‹-Demo"><a href="#ç¤ºä¾‹-Demo" class="headerlink" title="ç¤ºä¾‹ Demo"></a>ç¤ºä¾‹ Demo</h2><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªé”®å¯¹è±¡ï¼Œå…¶hashCode()è¿”å›å€¼ä¸º123456ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å…¶å“ˆå¸Œå€¼ï¼š</p>
<ol>
<li>è°ƒç”¨hashCode()æ–¹æ³•ï¼š</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int h = 123456;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ‰°åŠ¨å‡½æ•°è®¡ç®—ï¼š</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int hash = h ^ (h &gt;&gt;&gt; 16);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å…·ä½“è®¡ç®—æ­¥éª¤ï¼š<ul>
<li>h &gt;&gt;&gt; 16 &#x3D; 123456 &gt;&gt;&gt; 16 &#x3D; 1ï¼ˆå³ç§» 16 ä½ï¼‰</li>
<li>hash &#x3D; 123456 ^ 1 &#x3D; 123457ï¼ˆå¼‚æˆ–è¿ç®—ï¼‰</li>
</ul>
</li>
</ol>
<p>æœ€ç»ˆï¼Œå“ˆå¸Œå€¼ä¸º123457ã€‚</p>
<blockquote>
<p>&#x2F;ntmpkg1lprz393fp&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFHashTable_/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFHashTable_/" itemprop="url">ä»€ä¹ˆæ˜¯HashTable</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»€ä¹ˆæ˜¯HashTable"><a href="#ğŸ‘Œä»€ä¹ˆæ˜¯HashTable" class="headerlink" title="ğŸ‘Œä»€ä¹ˆæ˜¯HashTable?"></a>ğŸ‘Œä»€ä¹ˆæ˜¯HashTable?</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>Hashtable æ˜¯é—ç•™ç±»ï¼Œå¾ˆå¤šæ˜ å°„çš„å¸¸ç”¨åŠŸèƒ½ä¸ HashMap ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯å®ƒæ‰¿è‡ª Dictionary ç±»ï¼Œå¹¶ä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä»»ä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å†™ Hashtableï¼Œå¹¶å‘æ€§ä¸å¦‚ ConcurrentHashMapï¼Œå› ä¸º ConcurrentHashMap å¼•å…¥äº†åˆ†æ®µé”ã€‚Hashtable ä¸å»ºè®®åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨ï¼Œä¸éœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨ HashMap æ›¿æ¢ï¼Œéœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨ ConcurrentHashMap æ›¿æ¢ã€‚</p>
<h3 id="ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ"><a href="#ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ" class="headerlink" title="ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ"></a>ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ</h3><p><strong>Hashtable vs. HashMap</strong>ï¼š</p>
<p>Hashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€ŒHashMapä¸æ˜¯ã€‚</p>
<p>Hashtableä¸å…è®¸é”®æˆ–å€¼ä¸ºnullï¼Œè€ŒHashMapå…è®¸ä¸€ä¸ªnullé”®å’Œå¤šä¸ªnullå€¼ã€‚</p>
<p>åœ¨ç°ä»£ Java ç¼–ç¨‹ä¸­ï¼ŒHashMapæ›´å¸¸ç”¨ï¼Œå› ä¸ºå®ƒåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ€§èƒ½æ›´å¥½ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å¤–éƒ¨åŒæ­¥æ¥å®ç°çº¿ç¨‹å®‰å…¨ã€‚</p>
<p><strong>Hashtable vs. ConcurrentHashMap</strong>ï¼š</p>
<p>ConcurrentHashMapæ˜¯ Java 5 å¼•å…¥çš„ä¸€ç§æ”¹è¿›çš„å“ˆå¸Œè¡¨å®ç°ï¼Œä¸“ä¸ºé«˜å¹¶å‘ç¯å¢ƒè®¾è®¡ã€‚</p>
<p>ConcurrentHashMapæä¾›äº†æ›´ç»†ç²’åº¦çš„é”æœºåˆ¶ï¼Œå…è®¸æ›´é«˜çš„å¹¶å‘æ€§å’Œæ›´å¥½çš„æ€§èƒ½ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼ŒHashtableæ˜¯ä¸€ç§è¾ƒæ—©çš„å“ˆå¸Œè¡¨å®ç°ï¼Œé€‚ç”¨äºéœ€è¦çº¿ç¨‹å®‰å…¨çš„ç®€å•åœºæ™¯ã€‚ç„¶è€Œï¼Œåœ¨ç°ä»£ Java å¼€å‘ä¸­ï¼Œé€šå¸¸æ¨èä½¿ç”¨ConcurrentHashMapæˆ–é€šè¿‡å¤–éƒ¨åŒæ­¥æ¥ä½¿ç”¨HashMapï¼Œä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½å’Œçµæ´»æ€§ã€‚</p>
<blockquote>
<p>&#x2F;bgy4pz59q8ffzxwo&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFLinkedHashMap_/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFLinkedHashMap_/" itemprop="url">ä»€ä¹ˆæ˜¯LinkedHashMap</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»€ä¹ˆæ˜¯LinkedHashMap"><a href="#ğŸ‘Œä»€ä¹ˆæ˜¯LinkedHashMap" class="headerlink" title="ğŸ‘Œä»€ä¹ˆæ˜¯LinkedHashMap?"></a>ğŸ‘Œä»€ä¹ˆæ˜¯LinkedHashMap?</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>LinkedHashMapæ˜¯ Java é›†åˆæ¡†æ¶ä¸­çš„ä¸€ä¸ªç±»ï¼Œå®ƒç»§æ‰¿è‡ªHashMapï¼Œå¹¶ä¸”å…·æœ‰å“ˆå¸Œè¡¨å’Œé“¾è¡¨çš„åŒé‡ç‰¹æ€§ã€‚LinkedHashMapé€šè¿‡ç»´æŠ¤ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥è®°å½•é”®å€¼å¯¹çš„æ’å…¥é¡ºåºæˆ–è®¿é—®é¡ºåºï¼Œä»è€Œæä¾›äº†ä¸€ç§æœ‰åºçš„æ˜ å°„ã€‚</p>
<h2 id="åŸºæœ¬ç‰¹ç‚¹"><a href="#åŸºæœ¬ç‰¹ç‚¹" class="headerlink" title="åŸºæœ¬ç‰¹ç‚¹"></a>åŸºæœ¬ç‰¹ç‚¹</h2><ol>
<li><strong>æœ‰åºæ€§</strong>ï¼šLinkedHashMapä¿è¯äº†é”®å€¼å¯¹çš„é¡ºåºï¼Œå¯ä»¥æ˜¯æ’å…¥é¡ºåºï¼ˆé»˜è®¤ï¼‰æˆ–è®¿é—®é¡ºåºï¼ˆå¯é€‰ï¼‰ã€‚</li>
<li><strong>å“ˆå¸Œè¡¨å’Œé“¾è¡¨ç»“åˆ</strong>ï¼šLinkedHashMapé€šè¿‡å“ˆå¸Œè¡¨å®ç°å¿«é€Ÿçš„é”®å€¼å¯¹æŸ¥æ‰¾ï¼ŒåŒæ—¶é€šè¿‡åŒå‘é“¾è¡¨ç»´æŠ¤é¡ºåºã€‚</li>
<li><strong>å…è®¸<strong><strong>null</strong></strong>é”®å’Œå€¼</strong>ï¼šLinkedHashMapå…è®¸ä¸€ä¸ªnullé”®å’Œå¤šä¸ªnullå€¼ã€‚</li>
<li><strong>çº¿ç¨‹ä¸å®‰å…¨</strong>ï¼šLinkedHashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚æœéœ€è¦åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œéœ€è¦é€šè¿‡å¤–éƒ¨åŒæ­¥æœºåˆ¶æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</li>
</ol>
<h2 id="ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ"><a href="#ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ" class="headerlink" title="ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ"></a>ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ</h2><p><strong>LinkedHashMap vs. HashMap</strong>ï¼š</p>
<p>LinkedHashMapä¿è¯é”®å€¼å¯¹çš„é¡ºåºï¼ˆæ’å…¥é¡ºåºæˆ–è®¿é—®é¡ºåºï¼‰ï¼Œè€ŒHashMapä¸ä¿è¯é¡ºåºã€‚</p>
<p>LinkedHashMapé€šè¿‡ç»´æŠ¤é“¾è¡¨æ¥è®°å½•é¡ºåºï¼Œå› æ­¤åœ¨æ’å…¥å’Œåˆ é™¤æ“ä½œä¸Šå¯èƒ½ç•¥æ…¢äºHashMapã€‚</p>
<p><strong>LinkedHashMap vs. TreeMap</strong>ï¼š</p>
<p>LinkedHashMapä¿è¯æ’å…¥é¡ºåºæˆ–è®¿é—®é¡ºåºï¼Œè€ŒTreeMapä¿è¯é”®çš„è‡ªç„¶é¡ºåºæˆ–æ¯”è¾ƒå™¨çš„é¡ºåºã€‚</p>
<p>LinkedHashMapåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œæ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œè€ŒTreeMapåŸºäºçº¢é»‘æ ‘å®ç°ï¼Œæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(log n)ã€‚</p>
<h2 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h2><p>LinkedHashMapé€‚ç”¨äºéœ€è¦ä¿æŒé”®å€¼å¯¹çš„æ’å…¥é¡ºåºæˆ–è®¿é—®é¡ºåºçš„åœºæ™¯ï¼š</p>
<p>å®ç° LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ç¼“å­˜ã€‚</p>
<p>éœ€è¦æŒ‰æ’å…¥é¡ºåºéå†é”®å€¼å¯¹ã€‚</p>
<p>éœ€è¦åœ¨ä¿æŒé¡ºåºçš„åŒæ—¶å¿«é€ŸæŸ¥æ‰¾é”®å€¼å¯¹ã€‚</p>
<blockquote>
<p>&#x2F;ttdsl1h3wbwte5u4&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFTreeMap%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFTreeMap%EF%BC%9F/" itemprop="url">ä»€ä¹ˆæ˜¯TreeMap</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»€ä¹ˆæ˜¯TreeMapï¼Ÿ"><a href="#ğŸ‘Œä»€ä¹ˆæ˜¯TreeMapï¼Ÿ" class="headerlink" title="ğŸ‘Œä»€ä¹ˆæ˜¯TreeMapï¼Ÿ"></a>ğŸ‘Œä»€ä¹ˆæ˜¯TreeMapï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="åŸºæœ¬ç‰¹ç‚¹"><a href="#åŸºæœ¬ç‰¹ç‚¹" class="headerlink" title="åŸºæœ¬ç‰¹ç‚¹"></a>åŸºæœ¬ç‰¹ç‚¹</h2><ol>
<li><strong>æœ‰åºæ€§</strong>ï¼šTreeMapä¿è¯äº†é”®çš„è‡ªç„¶é¡ºåºï¼ˆé€šè¿‡Comparableæ¥å£ï¼‰æˆ–é€šè¿‡æä¾›çš„æ¯”è¾ƒå™¨ï¼ˆComparatorï¼‰çš„é¡ºåºã€‚</li>
<li><strong>çº¢é»‘æ ‘</strong>ï¼šTreeMapå†…éƒ¨ä½¿ç”¨çº¢é»‘æ ‘æ•°æ®ç»“æ„æ¥å­˜å‚¨é”®å€¼å¯¹ï¼Œä¿è¯äº†æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾ç­‰æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(log n)ã€‚</li>
<li><strong>ä¸å…è®¸<strong><strong>null</strong></strong>é”®</strong>ï¼šTreeMapä¸å…è®¸é”®ä¸ºnullï¼Œä½†å…è®¸å€¼ä¸ºnullã€‚</li>
<li><strong>çº¿ç¨‹ä¸å®‰å…¨</strong>ï¼šTreeMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚æœéœ€è¦åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œéœ€è¦é€šè¿‡å¤–éƒ¨åŒæ­¥æœºåˆ¶æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</li>
</ol>
<h2 id="ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ"><a href="#ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ" class="headerlink" title="ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ"></a>ä¸å…¶ä»–é›†åˆç±»çš„æ¯”è¾ƒ</h2><p><strong>TreeMap vs. HashMap</strong>ï¼š</p>
<p>TreeMapä¿è¯é”®çš„æœ‰åºæ€§ï¼Œè€ŒHashMapä¸ä¿è¯é¡ºåºã€‚</p>
<p>TreeMapåŸºäºçº¢é»‘æ ‘å®ç°ï¼Œæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(log n)ï¼Œè€ŒHashMapåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œæ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚</p>
<p>TreeMapä¸å…è®¸nullé”®ï¼Œè€ŒHashMapå…è®¸ä¸€ä¸ªnullé”®ã€‚</p>
<p><strong>TreeMap vs. LinkedHashMap</strong>ï¼š</p>
<p>TreeMapä¿è¯é”®çš„è‡ªç„¶é¡ºåºæˆ–æ¯”è¾ƒå™¨çš„é¡ºåºï¼Œè€ŒLinkedHashMapä¿è¯æ’å…¥é¡ºåºæˆ–è®¿é—®é¡ºåºã€‚</p>
<p>TreeMapçš„æ“ä½œæ—¶é—´å¤æ‚åº¦ä¸º O(log n)ï¼Œè€ŒLinkedHashMapçš„æ“ä½œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚</p>
<h2 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h2><p>TreeMapé€‚ç”¨äºéœ€è¦æŒ‰é”®æ’åºå­˜å‚¨é”®å€¼å¯¹çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼š</p>
<p>å®ç°åŸºäºèŒƒå›´çš„æŸ¥è¯¢ã€‚</p>
<p>éœ€è¦æŒ‰é¡ºåºéå†é”®å€¼å¯¹ã€‚</p>
<p>éœ€è¦å¿«é€ŸæŸ¥æ‰¾æœ€å°æˆ–æœ€å¤§é”®å€¼å¯¹ã€‚</p>
<blockquote>
<p>&#x2F;angmwmt1ka8unn4o&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFfail-fast%E6%9C%BA%E5%88%B6%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFfail-fast%E6%9C%BA%E5%88%B6%EF%BC%9F/" itemprop="url">fail-fastæœºåˆ¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»€ä¹ˆæ˜¯fail-fastæœºåˆ¶ï¼Ÿ"><a href="#ğŸ‘Œä»€ä¹ˆæ˜¯fail-fastæœºåˆ¶ï¼Ÿ" class="headerlink" title="ğŸ‘Œä»€ä¹ˆæ˜¯fail-fastæœºåˆ¶ï¼Ÿ"></a>ğŸ‘Œä»€ä¹ˆæ˜¯fail-fastæœºåˆ¶ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>åœ¨Javaé›†åˆæ¡†æ¶ä¸­ï¼Œfail-fastæ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨äºæ£€æµ‹åœ¨éå†é›†åˆæ—¶çš„ç»“æ„æ€§ä¿®æ”¹ï¼Œå¹¶ç«‹å³æŠ›å‡ºå¼‚å¸¸ä»¥é˜²æ­¢ä¸ä¸€è‡´çŠ¶æ€ã€‚fail-fastè¿­ä»£å™¨åœ¨æ£€æµ‹åˆ°é›†åˆåœ¨è¿­ä»£è¿‡ç¨‹ä¸­è¢«ä¿®æ”¹åï¼Œä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚</p>
<h2 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h2><p>fail-fastè¿­ä»£å™¨é€šè¿‡åœ¨éå†é›†åˆæ—¶ç»´æŠ¤ä¸€ä¸ªä¿®æ”¹è®¡æ•°å™¨ï¼ˆmodification countï¼‰æ¥å·¥ä½œã€‚æ¯å½“é›†åˆç»“æ„å‘ç”Ÿå˜åŒ–ï¼ˆå¦‚æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ï¼‰æ—¶ï¼Œè¿™ä¸ªè®¡æ•°å™¨å°±ä¼šå¢åŠ ã€‚å½“åˆ›å»ºè¿­ä»£å™¨æ—¶ï¼Œå®ƒä¼šä¿å­˜å½“å‰çš„ä¿®æ”¹è®¡æ•°å™¨å€¼ã€‚åœ¨æ¯æ¬¡è°ƒç”¨next()æ–¹æ³•æ—¶ï¼Œè¿­ä»£å™¨ä¼šæ£€æŸ¥å½“å‰çš„ä¿®æ”¹è®¡æ•°å™¨å€¼æ˜¯å¦ä¸ä¿å­˜çš„å€¼ä¸€è‡´ã€‚å¦‚æœä¸ä¸€è‡´ï¼Œè¯´æ˜é›†åˆåœ¨è¿­ä»£è¿‡ç¨‹ä¸­è¢«ä¿®æ”¹äº†ï¼Œè¿­ä»£å™¨ä¼šç«‹å³æŠ›å‡ºConcurrentModificationExceptionã€‚</p>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class FailFastExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        List&lt;String&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">        list.add(&quot;A&quot;);</span><br><span class="line">        list.add(&quot;B&quot;);</span><br><span class="line">        list.add(&quot;C&quot;);</span><br><span class="line"></span><br><span class="line">        Iterator&lt;String&gt; iterator = list.iterator();</span><br><span class="line">        while (iterator.hasNext()) &#123;</span><br><span class="line">            String element = iterator.next();</span><br><span class="line">            System.out.println(element);</span><br><span class="line">            // åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ä¿®æ”¹é›†åˆ</span><br><span class="line">            if (element.equals(&quot;B&quot;)) &#123;</span><br><span class="line">                list.add(&quot;D&quot;); // è¿™å°†å¼•å‘ ConcurrentModificationException</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå½“è¿­ä»£å™¨éå†åˆ°å…ƒç´  â€œBâ€ æ—¶ï¼Œé›†åˆè¢«ä¿®æ”¹ï¼ˆæ·»åŠ äº†æ–°å…ƒç´  â€œDâ€ï¼‰ï¼Œå› æ­¤è¿­ä»£å™¨å°†æŠ›å‡ºConcurrentModificationExceptionã€‚</p>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p><strong>å¿«é€Ÿå¤±è´¥å¹¶ä¸ä¿è¯</strong>ï¼šfail-fastæœºåˆ¶å¹¶ä¸èƒ½ä¿è¯åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½èƒ½æ£€æµ‹åˆ°å¹¶å‘ä¿®æ”¹ã€‚å®ƒæ˜¯å°½åŠ›è€Œä¸ºçš„æ£€æµ‹æœºåˆ¶ï¼Œä¸èƒ½ä¾èµ–äºå®ƒæ¥å®ç°å¹¶å‘å®‰å…¨ã€‚å¦‚æœéœ€è¦å¹¶å‘å®‰å…¨çš„é›†åˆï¼Œå¯ä»¥ä½¿ç”¨java.util.concurrentåŒ…ä¸­çš„å¹¶å‘é›†åˆç±»ã€‚</p>
<p><strong>é¿å…å¹¶å‘ä¿®æ”¹</strong>ï¼šåœ¨éå†é›†åˆæ—¶ï¼Œé¿å…åœ¨å¤–éƒ¨ä¿®æ”¹é›†åˆã€‚å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨çš„removeæ–¹æ³•æ¥å®‰å…¨åœ°ç§»é™¤å…ƒç´ ã€‚</p>
<h2 id="ä½¿ç”¨removeæ–¹æ³•"><a href="#ä½¿ç”¨removeæ–¹æ³•" class="headerlink" title="ä½¿ç”¨removeæ–¹æ³•"></a>ä½¿ç”¨removeæ–¹æ³•</h2><p>ä¸ºäº†é¿å…ConcurrentModificationExceptionï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨çš„removeæ–¹æ³•æ¥ç§»é™¤å…ƒç´ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class SafeRemovalExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        List&lt;String&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">        list.add(&quot;A&quot;);</span><br><span class="line">        list.add(&quot;B&quot;);</span><br><span class="line">        list.add(&quot;C&quot;);</span><br><span class="line"></span><br><span class="line">        Iterator&lt;String&gt; iterator = list.iterator();</span><br><span class="line">        while (iterator.hasNext()) &#123;</span><br><span class="line">            String element = iterator.next();</span><br><span class="line">            System.out.println(element);</span><br><span class="line">            // ä½¿ç”¨è¿­ä»£å™¨çš„ remove æ–¹æ³•å®‰å…¨åœ°ç§»é™¤å…ƒç´ </span><br><span class="line">            if (element.equals(&quot;B&quot;)) &#123;</span><br><span class="line">                iterator.remove();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;After removal: &quot; + list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨iterator.remove()æ–¹æ³•å®‰å…¨åœ°ç§»é™¤äº†å…ƒç´  â€œBâ€ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFfail-safe%E6%9C%BA%E5%88%B6%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFfail-safe%E6%9C%BA%E5%88%B6%EF%BC%9F/" itemprop="url">fail-safeæœºåˆ¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»€ä¹ˆæ˜¯fail-safeæœºåˆ¶ï¼Ÿ"><a href="#ğŸ‘Œä»€ä¹ˆæ˜¯fail-safeæœºåˆ¶ï¼Ÿ" class="headerlink" title="ğŸ‘Œä»€ä¹ˆæ˜¯fail-safeæœºåˆ¶ï¼Ÿ"></a>ğŸ‘Œä»€ä¹ˆæ˜¯fail-safeæœºåˆ¶ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>fail-safeæœºåˆ¶æ˜¯ä¸fail-fastæœºåˆ¶ç›¸å¯¹çš„ä¸€ç§å¹¶å‘å¤„ç†æœºåˆ¶ã€‚åœ¨ Java é›†åˆæ¡†æ¶ä¸­ï¼Œfail-safeè¿­ä»£å™¨åœ¨æ£€æµ‹åˆ°é›†åˆåœ¨éå†è¿‡ç¨‹ä¸­è¢«ä¿®æ”¹æ—¶ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯å…è®¸è¿™ç§ä¿®æ”¹ç»§ç»­è¿›è¡Œã€‚fail-safeè¿­ä»£å™¨é€šå¸¸æ˜¯é€šè¿‡åœ¨éå†æ—¶ä½¿ç”¨é›†åˆçš„å‰¯æœ¬æ¥å®ç°çš„ï¼Œè¿™æ ·å³ä½¿åŸé›†åˆè¢«ä¿®æ”¹ï¼Œè¿­ä»£å™¨ä¹Ÿä¸ä¼šå—åˆ°å½±å“ã€‚</p>
<h2 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h2><p>fail-safeè¿­ä»£å™¨åœ¨éå†é›†åˆæ—¶ï¼Œå®é™…ä¸Šæ˜¯éå†é›†åˆçš„ä¸€ä¸ªå‰¯æœ¬ã€‚å› æ­¤ï¼Œä»»ä½•å¯¹åŸé›†åˆçš„ä¿®æ”¹éƒ½ä¸ä¼šå½±å“åˆ°è¿­ä»£å™¨æ­£åœ¨éå†çš„å‰¯æœ¬ã€‚è¿™ç§æœºåˆ¶ä¿è¯äº†éå†æ“ä½œçš„å®‰å…¨æ€§ï¼Œä½†ä¹Ÿæ„å‘³ç€è¿­ä»£å™¨ä¸èƒ½åæ˜ é›†åˆçš„å®æ—¶å˜åŒ–ã€‚</p>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import java.util.concurrent.CopyOnWriteArrayList;</span><br><span class="line">import java.util.Iterator;</span><br><span class="line">public class FailSafeExample &#123;</span><br><span class="line">    publicstaticvoidmain(String[] args) &#123;</span><br><span class="line">        CopyOnWriteArrayList&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;();</span><br><span class="line">        list.add(&quot;A&quot;);</span><br><span class="line">        list.add(&quot;B&quot;);</span><br><span class="line">        list.add(&quot;C&quot;);</span><br><span class="line"></span><br><span class="line">        Iterator&lt;String&gt; iterator = list.iterator();</span><br><span class="line">        while (iterator.hasNext()) &#123;</span><br><span class="line">            Stringelement= iterator.next();</span><br><span class="line">            System.out.println(element);</span><br><span class="line">            // åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ä¿®æ”¹é›†åˆ</span><br><span class="line">            if (element.equals(&quot;B&quot;)) &#123;</span><br><span class="line">                list.add(&quot;D&quot;); // ä¸ä¼šå¼•å‘ ConcurrentModificationException</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;After modification: &quot; + list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä½¿ç”¨CopyOnWriteArrayListä½œä¸ºé›†åˆã€‚CopyOnWriteArrayListæ˜¯ä¸€ä¸ªå…¸å‹çš„fail-safeé›†åˆç±»ï¼Œå®ƒåœ¨æ¯æ¬¡ä¿®æ”¹æ—¶éƒ½ä¼šåˆ›å»ºé›†åˆçš„ä¸€ä¸ªå‰¯æœ¬ï¼Œå› æ­¤è¿­ä»£å™¨ä¸ä¼šæ£€æµ‹åˆ°å¹¶å‘ä¿®æ”¹ï¼Œä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionã€‚</p>
<h2 id="ä¸»è¦ç‰¹ç‚¹"><a href="#ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="ä¸»è¦ç‰¹ç‚¹"></a>ä¸»è¦ç‰¹ç‚¹</h2><ol>
<li><strong>ä¸æŠ›å¼‚å¸¸</strong>ï¼šfail-safeè¿­ä»£å™¨åœ¨æ£€æµ‹åˆ°é›†åˆè¢«ä¿®æ”¹æ—¶ï¼Œä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚</li>
<li><strong>å‰¯æœ¬éå†</strong>ï¼šfail-safeè¿­ä»£å™¨éå†çš„æ˜¯é›†åˆçš„ä¸€ä¸ªå‰¯æœ¬ï¼Œè€Œä¸æ˜¯åŸé›†åˆã€‚è¿™æ„å‘³ç€å¯¹åŸé›†åˆçš„ä¿®æ”¹ä¸ä¼šå½±å“è¿­ä»£å™¨çš„éå†ã€‚</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šfail-safeé›†åˆç±»ï¼ˆå¦‚CopyOnWriteArrayListã€ConcurrentHashMapç­‰ï¼‰é€šå¸¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œé€‚ç”¨äºå¹¶å‘ç¯å¢ƒã€‚</li>
</ol>
<h2 id="å¸¸è§çš„fail-safeé›†åˆç±»"><a href="#å¸¸è§çš„fail-safeé›†åˆç±»" class="headerlink" title="å¸¸è§çš„fail-safeé›†åˆç±»"></a>å¸¸è§çš„fail-safeé›†åˆç±»</h2><p>CopyOnWriteArrayListï¼ŒConcurrentHashMapï¼ŒConcurrentLinkedQueueï¼ŒConcurrentSkipListMapï¼ŒConcurrentSkipListSet</p>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol>
<li><strong>æ€§èƒ½å¼€é”€</strong>ï¼šç”±äºfail-safeæœºåˆ¶é€šå¸¸éœ€è¦åˆ›å»ºé›†åˆçš„å‰¯æœ¬ï¼Œå› æ­¤åœ¨ä¿®æ”¹é¢‘ç¹çš„åœºæ™¯ä¸‹ï¼Œæ€§èƒ½å¼€é”€è¾ƒå¤§ã€‚é€‚ç”¨äºè¯»å¤šå†™å°‘çš„åœºæ™¯ã€‚</li>
<li><strong>ä¸€è‡´æ€§é—®é¢˜</strong>ï¼šç”±äºè¿­ä»£å™¨éå†çš„æ˜¯é›†åˆçš„å‰¯æœ¬ï¼Œå› æ­¤å®ƒä¸èƒ½åæ˜ é›†åˆçš„å®æ—¶å˜åŒ–ã€‚å¦‚æœéœ€è¦å®æ—¶ä¸€è‡´æ€§ï¼Œfail-safeæœºåˆ¶å¯èƒ½ä¸é€‚ç”¨ã€‚</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8BHashMap%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8BHashMap%EF%BC%9F/" itemprop="url">ä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ"><a href="#ğŸ‘Œä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ" class="headerlink" title="ğŸ‘Œä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ"></a>ğŸ‘Œä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>HashMapä¸»è¦æ˜¯ç”¨äºå­˜å‚¨é”®å€¼å¯¹ã€‚å®ƒæ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°çš„ï¼Œæä¾›äº†å¿«é€Ÿçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚ä»å®‰å…¨è§’åº¦ï¼ŒHashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ªHashMapå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å®ƒï¼Œåˆ™å¿…é¡»æ‰‹åŠ¨åŒæ­¥ã€‚</p>
<p>HashMapå…è®¸ä¸€ä¸ª null é”®å’Œå¤šä¸ª null å€¼ã€‚</p>
<p>HashMapä¸ä¿è¯æ˜ å°„çš„é¡ºåºï¼Œç‰¹åˆ«æ˜¯å®ƒä¸ä¿è¯é¡ºåºä¼šéšç€æ—¶é—´çš„æ¨ç§»ä¿æŒä¸å˜ã€‚</p>
<p>HashMapæä¾›äº† O(1) æ—¶é—´å¤æ‚åº¦çš„åŸºæœ¬æ“ä½œï¼ˆå¦‚ get å’Œ putï¼‰ï¼Œå‰ææ˜¯å“ˆå¸Œå‡½æ•°çš„åˆ†å¸ƒè‰¯å¥½ä¸”å†²çªè¾ƒå°‘ã€‚</p>
<h2 id="HashMapä¸»è¦æ–¹æ³•"><a href="#HashMapä¸»è¦æ–¹æ³•" class="headerlink" title="HashMapä¸»è¦æ–¹æ³•"></a>HashMapä¸»è¦æ–¹æ³•</h2><p>**put(K key, V value)**ï¼šå°†æŒ‡å®šçš„å€¼ä¸è¯¥æ˜ å°„ä¸­çš„æŒ‡å®šé”®å…³è”ã€‚å¦‚æœæ˜ å°„ä»¥å‰åŒ…å«ä¸€ä¸ªè¯¥é”®çš„æ˜ å°„ï¼Œåˆ™æ—§å€¼å°†è¢«æ›¿æ¢ã€‚</p>
<p>**get(Object key)**ï¼šè¿”å›æŒ‡å®šé”®æ‰€æ˜ å°„çš„å€¼ï¼›å¦‚æœæ­¤æ˜ å°„ä¸åŒ…å«è¯¥é”®çš„æ˜ å°„ï¼Œåˆ™è¿”å› nullã€‚</p>
<p>**remove(Object key)**ï¼šå¦‚æœå­˜åœ¨ä¸€ä¸ªé”®çš„æ˜ å°„ï¼Œåˆ™å°†å…¶ä»æ˜ å°„ä¸­ç§»é™¤ã€‚</p>
<p>**containsKey(Object key)**ï¼šå¦‚æœæ­¤æ˜ å°„åŒ…å«æŒ‡å®šé”®çš„æ˜ å°„ï¼Œåˆ™è¿”å› trueã€‚</p>
<p>**containsValue(Object value)**ï¼šå¦‚æœæ­¤æ˜ å°„å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ˜ å°„åˆ°æŒ‡å®šå€¼ï¼Œåˆ™è¿”å› trueã€‚</p>
<p>**size()**ï¼šè¿”å›æ­¤æ˜ å°„ä¸­çš„é”®å€¼æ˜ å°„å…³ç³»çš„æ•°é‡ã€‚</p>
<p>**isEmpty()**ï¼šå¦‚æœæ­¤æ˜ å°„ä¸åŒ…å«é”®å€¼æ˜ å°„å…³ç³»ï¼Œåˆ™è¿”å› trueã€‚</p>
<p>**clear()**ï¼šä»æ­¤æ˜ å°„ä¸­ç§»é™¤æ‰€æœ‰é”®å€¼æ˜ å°„å…³ç³»ã€‚</p>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class HashMapExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // åˆ›å»ºä¸€ä¸ª HashMap å®ä¾‹</span><br><span class="line">        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        // æ·»åŠ é”®å€¼å¯¹</span><br><span class="line">        map.put(&quot;apple&quot;, 1);</span><br><span class="line">        map.put(&quot;banana&quot;, 2);</span><br><span class="line">        map.put(&quot;orange&quot;, 3);</span><br><span class="line"></span><br><span class="line">        // è®¿é—®å…ƒç´ </span><br><span class="line">        System.out.println(&quot;Value for key &#x27;apple&#x27;: &quot; + map.get(&quot;apple&quot;));</span><br><span class="line"></span><br><span class="line">        // æ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªé”®æˆ–å€¼</span><br><span class="line">        System.out.println(&quot;Contains key &#x27;banana&#x27;: &quot; + map.containsKey(&quot;banana&quot;));</span><br><span class="line">        System.out.println(&quot;Contains value 3: &quot; + map.containsValue(3));</span><br><span class="line"></span><br><span class="line">        // ç§»é™¤å…ƒç´ </span><br><span class="line">        map.remove(&quot;orange&quot;);</span><br><span class="line"></span><br><span class="line">        // éå† HashMap</span><br><span class="line">        for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">            System.out.println(&quot;Key: &quot; + entry.getKey() + &quot;, Value: &quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // è·å–å¤§å°</span><br><span class="line">        System.out.println(&quot;Size of map: &quot; + map.size());</span><br><span class="line"></span><br><span class="line">        // æ¸…ç©º HashMap</span><br><span class="line">        map.clear();</span><br><span class="line">        System.out.println(&quot;Is map empty: &quot; + map.isEmpty());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å†…éƒ¨å·¥ä½œåŸç†"><a href="#å†…éƒ¨å·¥ä½œåŸç†" class="headerlink" title="å†…éƒ¨å·¥ä½œåŸç†"></a>å†…éƒ¨å·¥ä½œåŸç†</h2><p>HashMapä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨æ•°æ®ã€‚å“ˆå¸Œè¡¨æ˜¯åŸºäºæ•°ç»„å’Œé“¾è¡¨çš„ç»„åˆç»“æ„ã€‚</p>
<ol>
<li><strong>å“ˆå¸Œå‡½æ•°</strong>ï¼šHashMapä½¿ç”¨é”®çš„hashCode()æ–¹æ³•æ¥è®¡ç®—å“ˆå¸Œå€¼ï¼Œç„¶åå°†å“ˆå¸Œå€¼æ˜ å°„åˆ°æ•°ç»„çš„ç´¢å¼•ä½ç½®ã€‚</li>
<li><strong>æ•°ç»„å’Œé“¾è¡¨</strong>ï¼šHashMapä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨é“¾è¡¨æˆ–æ ‘ç»“æ„ï¼ˆJava 8 åŠä»¥åï¼‰ã€‚æ¯ä¸ªæ•°ç»„ä½ç½®è¢«ç§°ä¸ºä¸€ä¸ªâ€œæ¡¶â€ï¼Œæ¯ä¸ªæ¡¶å­˜å‚¨é“¾è¡¨æˆ–æ ‘ã€‚</li>
<li><strong>å†²çªå¤„ç†</strong>ï¼šå½“ä¸¤ä¸ªé”®çš„å“ˆå¸Œå€¼ç›¸åŒæ—¶ï¼Œå®ƒä»¬ä¼šè¢«å­˜å‚¨åœ¨åŒä¸€ä¸ªæ¡¶ä¸­ï¼Œå½¢æˆä¸€ä¸ªé“¾è¡¨ï¼ˆæˆ–æ ‘ï¼‰ã€‚è¿™ç§æƒ…å†µç§°ä¸ºå“ˆå¸Œå†²çªã€‚</li>
<li><strong>å†å“ˆå¸Œ</strong>ï¼šå½“HashMapä¸­çš„å…ƒç´ æ•°é‡è¶…è¿‡å®¹é‡çš„è´Ÿè½½å› å­ï¼ˆé»˜è®¤ 0.75ï¼‰æ—¶ï¼ŒHashMapä¼šè¿›è¡Œå†å“ˆå¸Œï¼Œå°†æ‰€æœ‰å…ƒç´ é‡æ–°åˆ†é…åˆ°ä¸€ä¸ªæ›´å¤§çš„æ•°ç»„ä¸­ã€‚</li>
</ol>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p><strong>åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­</strong>ï¼šå¯ä»¥é€šè¿‡æ„é€ å‡½æ•°è®¾ç½®HashMapçš„åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­ï¼Œä»¥ä¼˜åŒ–æ€§èƒ½ã€‚åˆå§‹å®¹é‡è¶Šå¤§ï¼Œå‡å°‘å†å“ˆå¸Œçš„æ¬¡æ•°ï¼›è´Ÿè½½å› å­è¶Šå°ï¼Œå‡å°‘å†²çªçš„æ¦‚ç‡ï¼Œä½†ä¼šå¢åŠ ç©ºé—´å¼€é”€ã€‚</p>
<p><strong>å“ˆå¸Œå‡½æ•°çš„è´¨é‡</strong>ï¼šå“ˆå¸Œå‡½æ•°çš„è´¨é‡ç›´æ¥å½±å“HashMapçš„æ€§èƒ½ã€‚ç†æƒ³çš„å“ˆå¸Œå‡½æ•°åº”å°½å¯èƒ½å‡åŒ€åœ°åˆ†å¸ƒé”®ã€‚</p>
<h2 id="çº¿ç¨‹å®‰å…¨æ€§"><a href="#çº¿ç¨‹å®‰å…¨æ€§" class="headerlink" title="çº¿ç¨‹å®‰å…¨æ€§"></a>çº¿ç¨‹å®‰å…¨æ€§</h2><p>å¦‚å‰æ‰€è¿°ï¼ŒHashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœéœ€è¦çº¿ç¨‹å®‰å…¨çš„æ˜ å°„ï¼Œå¯ä»¥ä½¿ç”¨Collections.synchronizedMapæ¥åŒ…è£…HashMapï¼Œæˆ–è€…ä½¿ç”¨ConcurrentHashMapï¼Œåè€…åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹æ€§èƒ½æ›´å¥½ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Integer&gt; synchronizedMap = Collections.synchronizedMap(newHashMap&lt;&gt;());</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨ConcurrentHashMapï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Integer&gt; concurrentMap = newConcurrentHashMap&lt;&gt;();</span><br></pre></td></tr></table></figure>



<blockquote>
<p>&#x2F;iwe6pgyi65omsy8l&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E5%B8%B8%E8%A7%81%E7%9A%84list%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E5%B8%B8%E8%A7%81%E7%9A%84list%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%9F/" itemprop="url">å¸¸è§çš„listå®ç°ç±»</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»‹ç»ä¸€ä¸‹å¸¸è§çš„listå®ç°ç±»ï¼Ÿ"><a href="#ğŸ‘Œä»‹ç»ä¸€ä¸‹å¸¸è§çš„listå®ç°ç±»ï¼Ÿ" class="headerlink" title="ğŸ‘Œä»‹ç»ä¸€ä¸‹å¸¸è§çš„listå®ç°ç±»ï¼Ÿ"></a>ğŸ‘Œä»‹ç»ä¸€ä¸‹å¸¸è§çš„listå®ç°ç±»ï¼Ÿ</h1><h2 id><a href="#" class="headerlink" title></a></h2><p>ArrayList æ˜¯æœ€å¸¸ç”¨çš„ List å®ç°ç±»ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œå†…éƒ¨æ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œç»§æ‰¿äº†AbstractListï¼Œå®ç°äº†Listã€‚å®ƒå…è®¸å¯¹å…ƒç´ è¿›è¡Œå¿«é€Ÿéšæœºè®¿é—®ã€‚æ•°ç»„çš„ç¼ºç‚¹æ˜¯æ¯ä¸ªå…ƒç´ ä¹‹é—´ä¸èƒ½æœ‰é—´éš”ï¼Œå½“æ•°ç»„å¤§å°ä¸æ»¡è¶³æ—¶éœ€è¦å¢åŠ å­˜å‚¨èƒ½åŠ›ï¼Œå°±è¦å°†å·²ç»æœ‰æ•°ç»„çš„æ•°æ®å¤åˆ¶åˆ°æ–°çš„å­˜å‚¨ç©ºé—´ä¸­ã€‚å½“ä» ArrayList çš„ä¸­é—´ä½ç½®æ’å…¥æˆ–è€…åˆ é™¤å…ƒç´ æ—¶ï¼Œéœ€è¦å¯¹æ•°ç»„è¿›è¡Œå¤åˆ¶ã€ç§»åŠ¨ã€ä»£ä»·æ¯”è¾ƒé«˜ã€‚å› æ­¤ï¼Œå®ƒé€‚åˆéšæœºæŸ¥æ‰¾å’Œéå†ï¼Œä¸é€‚åˆæ’å…¥å’Œåˆ é™¤ã€‚æ’åˆ—æœ‰åºï¼Œå¯é‡å¤ï¼Œå®¹é‡ä¸å¤Ÿçš„æ—¶å€™ï¼Œæ–°å®¹é‡çš„è®¡ç®—å…¬å¼ä¸ºï¼š</p>
<p>newCapacity &#x3D; oldCapacity + (oldCapacity &gt;&gt; 1)ï¼Œè¿™å®é™…ä¸Šæ˜¯å°†åŸå®¹é‡å¢åŠ 50%ï¼ˆå³ä¹˜ä»¥1.5ï¼‰ã€‚</p>
<p>ArrayListå®ç°äº†RandomAccessæ¥å£ï¼Œå³æä¾›äº†éšæœºè®¿é—®åŠŸèƒ½ã€‚RandomAccessæ˜¯javaä¸­ç”¨æ¥è¢«Listå®ç°ï¼Œä¸ºListæä¾›å¿«é€Ÿè®¿é—®åŠŸèƒ½çš„ã€‚åœ¨ArrayListä¸­ï¼Œæˆ‘ä»¬å³å¯ä»¥é€šè¿‡å…ƒç´ çš„åºå·å¿«é€Ÿè·å–å…ƒç´ å¯¹è±¡ï¼Œè¿™å°±æ˜¯å¿«é€Ÿéšæœºè®¿é—®ã€‚</p>
<p>ArrayListå®ç°java.io.Serializableæ¥å£ï¼Œè¿™æ„å‘³ç€ArrayListæ”¯æŒåºåˆ—åŒ–ï¼Œèƒ½é€šè¿‡åºåˆ—åŒ–å»ä¼ è¾“ã€‚</p>
<h2 id="LinkedListï¼ˆé“¾è¡¨ï¼‰"><a href="#LinkedListï¼ˆé“¾è¡¨ï¼‰" class="headerlink" title="LinkedListï¼ˆé“¾è¡¨ï¼‰"></a><font style="color:rgb(51, 51, 51);">LinkedListï¼ˆé“¾è¡¨ï¼‰</font></h2><p><font style="color:rgb(51, 51, 51);">LinkedList æ˜¯ç”¨é“¾è¡¨ç»“æ„å­˜å‚¨æ•°æ®çš„ï¼Œ</font><font style="color:rgb(0, 0, 0);">çº¿ç¨‹ä¸å®‰å…¨ã€‚</font><font style="color:rgb(51, 51, 51);">å¾ˆé€‚åˆæ•°æ®çš„åŠ¨æ€æ’å…¥å’Œåˆ é™¤ï¼Œéšæœºè®¿é—®å’Œéå†é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œ</font><font style="color:rgb(0, 0, 0);">å¢åˆ å¿«</font><font style="color:rgb(51, 51, 51);">ã€‚å¦å¤–ï¼Œä»–è¿˜æä¾›äº† List æ¥å£ä¸­æ²¡æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œä¸“é—¨ç”¨äºæ“ä½œè¡¨å¤´å’Œè¡¨å°¾å…ƒç´ ï¼Œå¯ä»¥å½“ä½œå †æ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ä½¿ç”¨ã€‚åº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨æ•°æ®ç»“æ„ã€‚</font></p>
<p><font style="color:rgb(0, 0, 0);">LinkedListæ˜¯ä¸€ä¸ªç»§æ‰¿äºAbstractSequentialListçš„åŒå‘é“¾è¡¨ã€‚å®ƒä¹Ÿå¯ä»¥è¢«å½“ä½œå †æ ˆã€é˜Ÿåˆ—æˆ–åŒç«¯é˜Ÿåˆ—è¿›è¡Œæ“ä½œã€‚</font></p>
<h2 id="Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰"><a href="#Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰" class="headerlink" title="Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰"></a><font style="color:rgb(51, 51, 51);">Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰</font></h2><p><font style="color:rgb(51, 51, 51);">Vector ä¸ ArrayList ä¸€æ ·ï¼Œä¹Ÿæ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œ</font><font style="color:rgb(0, 0, 0);">Vectorå’ŒArrayListç”¨æ³•ä¸Šå‡ ä¹ç›¸åŒï¼Œä½†Vectoræ¯”è¾ƒå¤è€ï¼Œä¸€èˆ¬ä¸ç”¨ã€‚Vectoræ˜¯çº¿ç¨‹åŒæ­¥çš„ï¼Œæ•ˆç‡ä½ã€‚</font><font style="color:rgb(51, 51, 51);">å³æŸä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿå†™ Vectorï¼Œé¿å…å¤šçº¿ç¨‹åŒæ—¶å†™è€Œå¼•èµ·çš„ä¸ä¸€è‡´æ€§ï¼Œä½†å®ç°åŒæ­¥éœ€è¦å¾ˆé«˜çš„èŠ±è´¹ï¼Œå› æ­¤ï¼Œè®¿é—®å®ƒæ¯”è®¿é—® ArrayList æ…¢ã€‚é»˜è®¤æ‰©å±•ä¸€å€å®¹é‡ã€‚</font></p>
<blockquote>
<p>&#x2F;op8ey0ndh6st3bgz&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%A6%82%E4%BD%95%E7%A1%AE%E4%BF%9D%E5%87%BD%E6%95%B0%E4%B8%8D%E8%83%BD%E4%BF%AE%E6%94%B9%E9%9B%86%E5%90%88%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%A6%82%E4%BD%95%E7%A1%AE%E4%BF%9D%E5%87%BD%E6%95%B0%E4%B8%8D%E8%83%BD%E4%BF%AE%E6%94%B9%E9%9B%86%E5%90%88%EF%BC%9F/" itemprop="url">å¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œå¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆï¼Ÿ"><a href="#ğŸ‘Œå¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆï¼Ÿ" class="headerlink" title="ğŸ‘Œå¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆï¼Ÿ"></a>ğŸ‘Œå¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="ä½¿ç”¨Collections-unmodifiableCollectionæ–¹æ³•"><a href="#ä½¿ç”¨Collections-unmodifiableCollectionæ–¹æ³•" class="headerlink" title="ä½¿ç”¨Collections.unmodifiableCollectionæ–¹æ³•"></a>ä½¿ç”¨Collections.unmodifiableCollectionæ–¹æ³•</h2><p>Javaæä¾›äº†Collections.unmodifiableCollectionæ–¹æ³•ï¼Œå¯ä»¥å°†ä¸€ä¸ªé›†åˆåŒ…è£…æˆä¸€ä¸ªä¸å¯ä¿®æ”¹çš„è§†å›¾ã€‚å¯¹è¿™ä¸ªè§†å›¾çš„ä¿®æ”¹æ“ä½œå°†ä¼šæŠ›å‡ºUnsupportedOperationExceptionã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class UnmodifiableCollectionExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));</span><br><span class="line">        Collection&lt;String&gt; unmodifiableList = Collections.unmodifiableCollection(list);</span><br><span class="line"></span><br><span class="line">        // ä¼ é€’ä¸å¯ä¿®æ”¹çš„é›†åˆç»™å‡½æ•°</span><br><span class="line">        printCollection(unmodifiableList);</span><br><span class="line"></span><br><span class="line">        // å°è¯•ä¿®æ”¹é›†åˆå°†æŠ›å‡º UnsupportedOperationException</span><br><span class="line">        // unmodifiableList.add(&quot;D&quot;); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printCollection(Collection&lt;String&gt; collection) &#123;</span><br><span class="line">        for (String item : collection) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨Collections-unmodifiable"><a href="#ä½¿ç”¨Collections-unmodifiable" class="headerlink" title="ä½¿ç”¨Collections.unmodifiable"></a>ä½¿ç”¨Collections.unmodifiable</h2><p>å¯¹äºç‰¹å®šç±»å‹çš„é›†åˆï¼Œå¦‚Listã€Setå’ŒMapï¼ŒJava æä¾›äº†ç›¸åº”çš„ä¸å¯ä¿®æ”¹è§†å›¾æ–¹æ³•ï¼š</p>
<p>Collections.unmodifiableList</p>
<p>Collections.unmodifiableSet</p>
<p>Collections.unmodifiableMap</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class UnmodifiableSpecificCollectionsExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));</span><br><span class="line">        List&lt;String&gt; unmodifiableList = Collections.unmodifiableList(list);</span><br><span class="line"></span><br><span class="line">        Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;));</span><br><span class="line">        Set&lt;String&gt; unmodifiableSet = Collections.unmodifiableSet(set);</span><br><span class="line"></span><br><span class="line">        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">        map.put(&quot;One&quot;, 1);</span><br><span class="line">        map.put(&quot;Two&quot;, 2);</span><br><span class="line">        Map&lt;String, Integer&gt; unmodifiableMap = Collections.unmodifiableMap(map);</span><br><span class="line"></span><br><span class="line">        // ä¼ é€’ä¸å¯ä¿®æ”¹çš„é›†åˆç»™å‡½æ•°</span><br><span class="line">        printList(unmodifiableList);</span><br><span class="line">        printSet(unmodifiableSet);</span><br><span class="line">        printMap(unmodifiableMap);</span><br><span class="line"></span><br><span class="line">        // å°è¯•ä¿®æ”¹é›†åˆå°†æŠ›å‡º UnsupportedOperationException</span><br><span class="line">        // unmodifiableList.add(&quot;D&quot;); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">        // unmodifiableSet.add(&quot;W&quot;); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">        // unmodifiableMap.put(&quot;Three&quot;, 3); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printList(List&lt;String&gt; list) &#123;</span><br><span class="line">        for (String item : list) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printSet(Set&lt;String&gt; set) &#123;</span><br><span class="line">        for (String item : set) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printMap(Map&lt;String, Integer&gt; map) &#123;</span><br><span class="line">        for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨Collections-unmodifiableCollectioné€’å½’åŒ…è£…åµŒå¥—é›†åˆ"><a href="#ä½¿ç”¨Collections-unmodifiableCollectioné€’å½’åŒ…è£…åµŒå¥—é›†åˆ" class="headerlink" title="ä½¿ç”¨Collections.unmodifiableCollectioné€’å½’åŒ…è£…åµŒå¥—é›†åˆ"></a>ä½¿ç”¨Collections.unmodifiableCollectioné€’å½’åŒ…è£…åµŒå¥—é›†åˆ</h2><p>å¦‚æœé›†åˆä¸­åŒ…å«åµŒå¥—é›†åˆï¼ˆä¾‹å¦‚ä¸€ä¸ªListä¸­åŒ…å«Setï¼‰ï¼Œä½ éœ€è¦é€’å½’åœ°å°†æ‰€æœ‰åµŒå¥—é›†åˆä¹ŸåŒ…è£…æˆä¸å¯ä¿®æ”¹çš„è§†å›¾ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class UnmodifiableNestedCollectionsExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        List&lt;Set&lt;String&gt;&gt; listOfSets = new ArrayList&lt;&gt;();</span><br><span class="line">        listOfSets.add(new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)));</span><br><span class="line">        listOfSets.add(new HashSet&lt;&gt;(Arrays.asList(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;)));</span><br><span class="line"></span><br><span class="line">        List&lt;Set&lt;String&gt;&gt; unmodifiableListOfSets = new ArrayList&lt;&gt;();</span><br><span class="line">        for (Set&lt;String&gt; set : listOfSets) &#123;</span><br><span class="line">            unmodifiableListOfSets.add(Collections.unmodifiableSet(set));</span><br><span class="line">        &#125;</span><br><span class="line">        Collection&lt;List&lt;Set&lt;String&gt;&gt;&gt; unmodifiableCollection = Collections.unmodifiableCollection(Collections.singletonList(unmodifiableListOfSets));</span><br><span class="line"></span><br><span class="line">        // ä¼ é€’ä¸å¯ä¿®æ”¹çš„é›†åˆç»™å‡½æ•°</span><br><span class="line">        printNestedCollection(unmodifiableCollection);</span><br><span class="line"></span><br><span class="line">        // å°è¯•ä¿®æ”¹é›†åˆå°†æŠ›å‡º UnsupportedOperationException</span><br><span class="line">        // unmodifiableListOfSets.get(0).add(&quot;D&quot;); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printNestedCollection(Collection&lt;List&lt;Set&lt;String&gt;&gt;&gt; collection) &#123;</span><br><span class="line">        for (List&lt;Set&lt;String&gt;&gt; list : collection) &#123;</span><br><span class="line">            for (Set&lt;String&gt; set : list) &#123;</span><br><span class="line">                for (String item : set) &#123;</span><br><span class="line">                    System.out.println(item);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä»¥ä¸Šå¯ä»¥ç¡®ä¿ä¼ é€’ç»™å‡½æ•°çš„é›†åˆä¸ä¼šè¢«ä¿®æ”¹ï¼Œä»è€Œä¿è¯é›†åˆçš„ä¸å¯å˜æ€§ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%A6%82%E6%9E%9CHashMap%E7%9A%84%E5%A4%A7%E5%B0%8F%E8%B6%85%E8%BF%87%E4%BA%86%E8%B4%9F%E8%BD%BD%E5%9B%A0%E5%AD%90(loadfactor)%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AE%B9%E9%87%8F%EF%BC%8C%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%A6%82%E6%9E%9CHashMap%E7%9A%84%E5%A4%A7%E5%B0%8F%E8%B6%85%E8%BF%87%E4%BA%86%E8%B4%9F%E8%BD%BD%E5%9B%A0%E5%AD%90(loadfactor)%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AE%B9%E9%87%8F%EF%BC%8C%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9F/" itemprop="url">å¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­(load factor)å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œå¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­-load-factor-å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ"><a href="#ğŸ‘Œå¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­-load-factor-å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="ğŸ‘Œå¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­(load factor)å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ"></a>ğŸ‘Œå¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­(load factor)å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>å½“HashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­ï¼ˆload factorï¼‰å®šä¹‰çš„å®¹é‡æ—¶ï¼ŒHashMapä¼šè¿›è¡Œæ‰©å®¹ï¼ˆresizeï¼‰ã€‚</p>
<h2 id="æ‰©å®¹çš„å…·ä½“æ­¥éª¤"><a href="#æ‰©å®¹çš„å…·ä½“æ­¥éª¤" class="headerlink" title="æ‰©å®¹çš„å…·ä½“æ­¥éª¤"></a>æ‰©å®¹çš„å…·ä½“æ­¥éª¤</h2><p>å‡è®¾å½“å‰HashMapçš„å®¹é‡æ˜¯Nï¼Œè´Ÿè½½å› å­æ˜¯Lï¼Œå½“æ’å…¥çš„é”®å€¼å¯¹æ•°é‡è¶…è¿‡N * Læ—¶ï¼ŒHashMapä¼šè¿›è¡Œæ‰©å®¹ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>è®¡ç®—æ–°çš„å®¹é‡</strong>ï¼š æ–°çš„å®¹é‡é€šå¸¸æ˜¯å½“å‰å®¹é‡çš„ä¸¤å€ã€‚å‡è®¾å½“å‰å®¹é‡æ˜¯Nï¼Œæ–°çš„å®¹é‡æ˜¯2 * Nã€‚</li>
<li><strong>åˆ›å»ºæ–°çš„æ¡¶æ•°ç»„</strong>ï¼š æ ¹æ®æ–°çš„å®¹é‡åˆ›å»ºä¸€ä¸ªæ–°çš„æ¡¶æ•°ç»„ã€‚</li>
<li><strong>é‡æ–°å“ˆå¸Œæ‰€æœ‰çš„é”®å€¼å¯¹</strong>ï¼š å¯¹æ—§æ¡¶æ•°ç»„ä¸­çš„æ‰€æœ‰é”®å€¼å¯¹é‡æ–°è®¡ç®—å“ˆå¸Œå€¼ï¼Œå¹¶å°†å®ƒä»¬æ”¾å…¥æ–°çš„æ¡¶æ•°ç»„ä¸­ã€‚è¿™ä¸€æ­¥æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºå“ˆå¸Œå€¼æ˜¯åŸºäºæ•°ç»„é•¿åº¦è®¡ç®—çš„ï¼Œæ•°ç»„é•¿åº¦æ”¹å˜åï¼Œå“ˆå¸Œå€¼ä¹Ÿéœ€è¦é‡æ–°è®¡ç®—ã€‚</li>
</ol>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class HashMapResizeExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // åˆ›å»ºä¸€ä¸ªåˆå§‹å®¹é‡ä¸º4ï¼Œè´Ÿè½½å› å­ä¸º0.75çš„HashMap</span><br><span class="line">        Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;(4, 0.75f);</span><br><span class="line"></span><br><span class="line">        // æ’å…¥ä¸€äº›é”®å€¼å¯¹</span><br><span class="line">        map.put(1, &quot;one&quot;);</span><br><span class="line">        map.put(2, &quot;two&quot;);</span><br><span class="line">        map.put(3, &quot;three&quot;);</span><br><span class="line">        // è§¦å‘æ‰©å®¹</span><br><span class="line">        map.put(4, &quot;four&quot;);</span><br><span class="line"></span><br><span class="line">        // æ‰“å°æ‰©å®¹åçš„HashMap</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå½“æ’å…¥ç¬¬å››ä¸ªé”®å€¼å¯¹æ—¶ï¼ŒHashMapçš„å¤§å°è¶…è¿‡äº†4 * 0.75 &#x3D; 3ï¼Œå› æ­¤ä¼šè§¦å‘æ‰©å®¹ï¼Œå®¹é‡ä» 4 å¢åŠ åˆ° 8ã€‚</p>
<h2 id="æ‰©å®¹çš„å…·ä½“å®ç°"><a href="#æ‰©å®¹çš„å…·ä½“å®ç°" class="headerlink" title="æ‰©å®¹çš„å…·ä½“å®ç°"></a>æ‰©å®¹çš„å…·ä½“å®ç°</h2><p>åœ¨ Java çš„HashMapå®ç°ä¸­ï¼Œæ‰©å®¹çš„å…·ä½“ä»£ç åœ¨resizeæ–¹æ³•ä¸­ã€‚ä»¥ä¸‹æ˜¯resizeæ–¹æ³•çš„ç®€åŒ–ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">void resize() &#123;</span><br><span class="line">    // è®¡ç®—æ–°çš„å®¹é‡</span><br><span class="line">    int newCapacity = oldCapacity * 2;</span><br><span class="line"></span><br><span class="line">    // åˆ›å»ºæ–°çš„æ¡¶æ•°ç»„</span><br><span class="line">    Node&lt;K,V&gt;[] newTable = (Node&lt;K,V&gt;[])new Node[newCapacity];</span><br><span class="line"></span><br><span class="line">    // é‡æ–°å“ˆå¸Œæ‰€æœ‰çš„é”®å€¼å¯¹</span><br><span class="line">    for (Node&lt;K,V&gt; node : oldTable) &#123;</span><br><span class="line">        while (node != null) &#123;</span><br><span class="line">            Node&lt;K,V&gt; next = node.next;</span><br><span class="line">            int hash = node.hash % newCapacity;</span><br><span class="line">            node.next = newTable[hash];</span><br><span class="line">            newTable[hash] = node;</span><br><span class="line">            node = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ›¿æ¢æ—§çš„æ¡¶æ•°ç»„</span><br><span class="line">    table = newTable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p><strong>æ€§èƒ½å½±å“</strong>ï¼šæ‰©å®¹æ˜¯ä¸€ä¸ªç›¸å¯¹æ˜‚è´µçš„æ“ä½œï¼Œå› ä¸ºå®ƒéœ€è¦é‡æ–°å“ˆå¸Œå¹¶ç§»åŠ¨æ‰€æœ‰ç°æœ‰çš„é”®å€¼å¯¹ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡HashMapæ—¶ï¼Œåº”å°½é‡é€‰æ‹©åˆé€‚çš„åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­ï¼Œä»¥å‡å°‘æ‰©å®¹æ¬¡æ•°ã€‚</p>
<p><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šé»˜è®¤çš„HashMapæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨HashMapï¼Œéœ€è¦ä½¿ç”¨Collections.synchronizedMapæˆ–ä½¿ç”¨ConcurrentHashMapã€‚</p>
<p><strong>å†…å­˜æ¶ˆè€—</strong>ï¼šæ‰©å®¹ä¼šä¸´æ—¶å ç”¨æ›´å¤šçš„å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ç»´æŠ¤æ—§çš„å’Œæ–°çš„æ¡¶æ•°ç»„ã€‚å› æ­¤ï¼Œåœ¨å†…å­˜å—é™çš„ç¯å¢ƒä¸­éœ€è¦è°¨æ…ä½¿ç”¨ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E6%8B%89%E9%93%BE%E6%B3%95%E5%AF%BC%E8%87%B4%E7%9A%84%E9%93%BE%E8%A1%A8%E8%BF%87%E6%B7%B1%E9%97%AE%E9%A2%98%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E6%8B%89%E9%93%BE%E6%B3%95%E5%AF%BC%E8%87%B4%E7%9A%84%E9%93%BE%E8%A1%A8%E8%BF%87%E6%B7%B1%E9%97%AE%E9%A2%98%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91%EF%BC%9F/" itemprop="url">æ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œæ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Ÿ"><a href="#ğŸ‘Œæ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Ÿ" class="headerlink" title="ğŸ‘Œæ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Ÿ"></a>ğŸ‘Œæ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>åœ¨JDK 8ä¸­ï¼ŒHashMapé‡‡ç”¨çº¢é»‘æ ‘æ¥è§£å†³æ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ï¼Œä¸»è¦æ˜¯ä¸ºäº†æé«˜åœ¨é«˜å†²çªæƒ…å†µä¸‹çš„æ€§èƒ½ã€‚</p>
<h2 id="æ‹‰é“¾æ³•ä¸­çš„é“¾è¡¨è¿‡æ·±é—®é¢˜"><a href="#æ‹‰é“¾æ³•ä¸­çš„é“¾è¡¨è¿‡æ·±é—®é¢˜" class="headerlink" title="æ‹‰é“¾æ³•ä¸­çš„é“¾è¡¨è¿‡æ·±é—®é¢˜"></a>æ‹‰é“¾æ³•ä¸­çš„é“¾è¡¨è¿‡æ·±é—®é¢˜</h2><p>åœ¨ä¼ ç»Ÿçš„æ‹‰é“¾æ³•ä¸­ï¼Œå½“å¤šä¸ªé”®çš„å“ˆå¸Œå€¼å†²çªæ—¶ï¼Œè¿™äº›é”®ä¼šè¢«å­˜å‚¨åœ¨åŒä¸€ä¸ªæ¡¶ï¼ˆbucketï¼‰ä¸­ï¼Œå½¢æˆä¸€ä¸ªé“¾è¡¨ã€‚å¦‚æœé“¾è¡¨è¿‡é•¿ï¼ŒæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¼šé€€åŒ–ä¸ºO(n)ï¼Œå…¶ä¸­næ˜¯é“¾è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒHashMapçš„æ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚</p>
<h2 id="çº¢é»‘æ ‘çš„ä¼˜åŠ¿"><a href="#çº¢é»‘æ ‘çš„ä¼˜åŠ¿" class="headerlink" title="çº¢é»‘æ ‘çš„ä¼˜åŠ¿"></a>çº¢é»‘æ ‘çš„ä¼˜åŠ¿</h2><p>çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ol>
<li><strong>è‡ªå¹³è¡¡</strong>ï¼šçº¢é»‘æ ‘é€šè¿‡é¢œè‰²å±æ€§ï¼ˆçº¢è‰²å’Œé»‘è‰²ï¼‰å’Œä¸€ç³»åˆ—çš„æ—‹è½¬æ“ä½œï¼Œä¿è¯æ ‘çš„é«˜åº¦è¿‘ä¼¼å¹³è¡¡ã€‚å…¶é«˜åº¦ä¸ä¼šè¶…è¿‡2 * log(n)ï¼Œå…¶ä¸­næ˜¯æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ã€‚</li>
<li><strong>é«˜æ•ˆçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤</strong>ï¼šçº¢é»‘æ ‘çš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(log n)ï¼Œè¿œä¼˜äºé“¾è¡¨åœ¨æœ€åæƒ…å†µä¸‹çš„O(n)ã€‚</li>
</ol>
<h2 id="ä¸ºä»€ä¹ˆé€‰æ‹©çº¢é»‘æ ‘"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©çº¢é»‘æ ‘" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹©çº¢é»‘æ ‘"></a>ä¸ºä»€ä¹ˆé€‰æ‹©çº¢é»‘æ ‘</h2><ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šåœ¨é“¾è¡¨é•¿åº¦è¾ƒçŸ­æ—¶ï¼Œé“¾è¡¨æ“ä½œçš„æ€§èƒ½æ˜¯å¯ä»¥æ¥å—çš„ã€‚ç„¶è€Œï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼ˆJDK 8ä¸­ä¸º8ï¼‰æ—¶ï¼Œé“¾è¡¨æ“ä½œçš„æ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚æ­¤æ—¶ï¼Œå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå¯ä»¥å°†æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä»O(n)é™ä½åˆ°O(log n)ï¼Œæ˜¾è‘—æé«˜æ€§èƒ½ã€‚</li>
<li><strong>å¹³è¡¡æ€§</strong>ï¼šçº¢é»‘æ ‘é€šè¿‡è‡ªå¹³è¡¡æœºåˆ¶ï¼Œä¿è¯æ ‘çš„é«˜åº¦å§‹ç»ˆä¿æŒåœ¨ä¸€ä¸ªè¾ƒä½çš„æ°´å¹³ï¼Œé¿å…äº†é“¾è¡¨è¿‡é•¿å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚</li>
<li><strong>ç©ºé—´æ•ˆç‡</strong>ï¼šè™½ç„¶çº¢é»‘æ ‘æ¯”é“¾è¡¨å ç”¨æ›´å¤šçš„ç©ºé—´ï¼ˆå› ä¸ºéœ€è¦å­˜å‚¨é¢œè‰²å’ŒæŒ‡é’ˆä¿¡æ¯ï¼‰ï¼Œä½†åœ¨é“¾è¡¨é•¿åº¦è¾ƒé•¿æ—¶ï¼Œæ€§èƒ½çš„æå‡é€šå¸¸ä¼šè¶…è¿‡ç©ºé—´å¼€é”€çš„å¢åŠ ã€‚</li>
</ol>
<h2 id="å®ç°ç»†èŠ‚"><a href="#å®ç°ç»†èŠ‚" class="headerlink" title="å®ç°ç»†èŠ‚"></a>å®ç°ç»†èŠ‚</h2><p>åœ¨JDK 8çš„HashMapä¸­ï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡é˜ˆå€¼ï¼ˆ8ï¼‰æ—¶ï¼Œä¼šå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st</span><br><span class="line">    treeifyBin(tab, hash);</span><br></pre></td></tr></table></figure>

<p>treeifyBinæ–¹æ³•å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) &#123;</span><br><span class="line">    int n, index; Node&lt;K,V&gt; e;</span><br><span class="line">    if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)</span><br><span class="line">        resize();</span><br><span class="line">    else if ((e = tab[index = (n - 1) &amp; hash]) != null) &#123;</span><br><span class="line">        TreeNode&lt;K,V&gt; hd = null, tl = null;</span><br><span class="line">        do &#123;</span><br><span class="line">            TreeNode&lt;K,V&gt; p = replacementTreeNode(e, null);</span><br><span class="line">            if (tl == null)</span><br><span class="line">                hd = p;</span><br><span class="line">            else &#123;</span><br><span class="line">                p.prev = tl;</span><br><span class="line">                tl.next = p;</span><br><span class="line">            &#125;</span><br><span class="line">            tl = p;</span><br><span class="line">        &#125; while ((e = e.next) != null);</span><br><span class="line">        if ((tab[index] = hd) != null)</span><br><span class="line">            hd.treeify(tab);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E8%81%8A%E8%81%8A%E5%B8%B8%E8%A7%81set%E7%B1%BB%E9%83%BD%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E8%81%8A%E8%81%8A%E5%B8%B8%E8%A7%81set%E7%B1%BB%E9%83%BD%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%9F/" itemprop="url">èŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-03-06T01:24:58+00:00">
                2025-03-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒèŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§ï¼Ÿ"><a href="#ğŸ‘ŒèŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§ï¼Ÿ" class="headerlink" title="ğŸ‘ŒèŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§ï¼Ÿ"></a>ğŸ‘ŒèŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>åœ¨Javaä¸­ï¼ŒSetæ˜¯ä¸€ç§ä¸åŒ…å«é‡å¤å…ƒç´ çš„é›†åˆï¼Œå®ƒç»§æ‰¿è‡ªCollectionæ¥å£ã€‚<font style="color:rgb(51, 51, 51);">ç”¨äºå­˜å‚¨æ— åº(å­˜å…¥å’Œå–å‡ºçš„é¡ºåºä¸ä¸€å®šç›¸åŒ)å…ƒç´ ï¼Œå€¼ä¸èƒ½é‡å¤ã€‚å¯¹è±¡çš„ç›¸ç­‰æ€§æœ¬è´¨æ˜¯å¯¹è±¡ hashCode å€¼ï¼ˆjava æ˜¯ä¾æ®å¯¹è±¡çš„å†…å­˜åœ°å€è®¡ç®—å‡ºçš„æ­¤åºå·ï¼‰åˆ¤æ–­çš„ï¼Œå¦‚æœæƒ³è¦è®©ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡è§†ä¸ºç›¸ç­‰çš„ï¼Œå°±å¿…é¡»è¦†ç›– Object çš„ hashCode æ–¹æ³•å’Œ equals æ–¹æ³•ã€‚</font>Javaä¸­å¸¸è§çš„Setå®ç°ç±»ä¸»è¦æœ‰ä¸‰ä¸ªï¼šHashSetã€LinkedHashSetå’ŒTreeSetã€‚</p>
<h2 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h2><p>HashSetæ˜¯Setæ¥å£çš„ä¸€ä¸ªå®ç°ç±»ï¼Œå®ƒåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œå…·æœ‰å¿«é€Ÿçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚</p>
<p>HashSetä¸ä¿è¯å…ƒç´ çš„è¿­ä»£é¡ºåºï¼Œå…è®¸nullå…ƒç´ çš„å­˜åœ¨ï¼Œä½†åªèƒ½æœ‰ä¸€ä¸ªnullå…ƒç´ ï¼Œä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å¹¶ä¿®æ”¹HashSetï¼Œåˆ™éœ€è¦å¤–éƒ¨åŒæ­¥ã€‚</p>
<p>å½“å­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡æ—¶ï¼Œéœ€è¦é‡å†™å¯¹è±¡çš„<code>hashCode()</code>å’Œ<code>equals()</code>æ–¹æ³•ï¼Œä»¥ç¡®ä¿å¯¹è±¡çš„å”¯ä¸€æ€§ã€‚</p>
<h2 id="LinkedHashSet"><a href="#LinkedHashSet" class="headerlink" title="LinkedHashSet"></a>LinkedHashSet</h2><p>LinkedHashSetæ˜¯HashSetçš„å­ç±»ï¼Œå®ƒåŸºäºå“ˆå¸Œè¡¨å’ŒåŒå‘é“¾è¡¨å®ç°ï¼Œ<font style="color:rgb(51, 51, 51);">ç»§æ‰¿ä¸ HashSetã€åˆåŸºäº LinkedHashMap æ¥å®ç°çš„ã€‚</font>å¯ä»¥ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºã€‚ç›¸æ¯”äº HashSet å¢åŠ äº†é¡ºåºæ€§ã€‚</p>
<p>å…¶ä¸»è¦æ˜¯å°†å…ƒç´ æŒ‰ç…§æ’å…¥çš„é¡ºåºè¿›è¡Œè¿­ä»£ï¼ŒåŒæ—¶ç»§æ‰¿äº†HashSetçš„æ‰€æœ‰ç‰¹æ€§ã€‚å› æ­¤å½“éœ€è¦ä¿æŒå…ƒç´ æ’å…¥é¡ºåºæ—¶ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨LinkedHashSetã€‚</p>
<h2 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h2><p>TreeSetæ˜¯Setæ¥å£çš„å¦ä¸€ä¸ªå®ç°ç±»ï¼Œå®ƒåŸºäºçº¢é»‘æ ‘å®ç°ï¼Œå¯ä»¥å¯¹å…ƒç´ è¿›è¡Œè‡ªç„¶æ’åºæˆ–è‡ªå®šä¹‰æ’åºã€‚</p>
<p>å¯ä»¥å®ç°å…ƒç´ æŒ‰ç…§å‡åºè¿›è¡Œæ’åºï¼ˆè‡ªç„¶æ’åºæˆ–è‡ªå®šä¹‰æ’åºï¼‰ã€‚ä¸è¿‡å®ƒä¸å…è®¸nullå…ƒç´ çš„å­˜åœ¨ã€‚treeset åŒæ ·æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚</p>
<p>å½“å­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡æ—¶ï¼Œå¦‚æœæƒ³è¦è¿›è¡Œæ’åºï¼Œéœ€è¦å®ç°<code>Comparable</code>æ¥å£å¹¶é‡å†™<code>compareTo()</code>æ–¹æ³•ï¼Œæˆ–æä¾›è‡ªå®šä¹‰çš„<code>Comparator</code>å¯¹è±¡æ¥è¿›è¡Œæ’åºã€‚</p>
<h2 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h2><p><code>HashSet</code>ï¼šé€‚ç”¨äºéœ€è¦å¿«é€ŸæŸ¥æ‰¾çš„åœºæ™¯ï¼Œä¸ä¿è¯å…ƒç´ çš„é¡ºåºã€‚</p>
<p><code>LinkedHashSet</code>ï¼šé€‚ç”¨äºéœ€è¦ä¿æŒå…ƒç´ æ’å…¥é¡ºåºçš„åœºæ™¯ã€‚</p>
<p><code>TreeSet</code>ï¼šé€‚ç”¨äºéœ€è¦å…ƒç´ æ’åºçš„åœºæ™¯ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/11.jpg"
               alt="" />
          <p class="site-author-name" itemprop="name"></p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">117</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">javayun</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Gemini
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
