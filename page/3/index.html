<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="ä½™å£°-ä¸ªäººåšå®¢">
<meta property="og:url" content="https://xiaoyaofeihu.github.io/page/3/index.html">
<meta property="og:site_name" content="ä½™å£°-ä¸ªäººåšå®¢">
<meta property="og:locale">
<meta property="article:author" content="javayun">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'ä½™å£°'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://xiaoyaofeihu.github.io/page/3/"/>





  <title>ä½™å£°-ä¸ªäººåšå®¢</title>
  














<meta name="generator" content="Hexo 6.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ä½™å£°-ä¸ªäººåšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFfail-safe%E6%9C%BA%E5%88%B6%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%80%E4%B9%88%E6%98%AFfail-safe%E6%9C%BA%E5%88%B6%EF%BC%9F/" itemprop="url">fail-safeæœºåˆ¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»€ä¹ˆæ˜¯fail-safeæœºåˆ¶ï¼Ÿ"><a href="#ğŸ‘Œä»€ä¹ˆæ˜¯fail-safeæœºåˆ¶ï¼Ÿ" class="headerlink" title="ğŸ‘Œä»€ä¹ˆæ˜¯fail-safeæœºåˆ¶ï¼Ÿ"></a>ğŸ‘Œä»€ä¹ˆæ˜¯fail-safeæœºåˆ¶ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>fail-safeæœºåˆ¶æ˜¯ä¸fail-fastæœºåˆ¶ç›¸å¯¹çš„ä¸€ç§å¹¶å‘å¤„ç†æœºåˆ¶ã€‚åœ¨ Java é›†åˆæ¡†æ¶ä¸­ï¼Œfail-safeè¿­ä»£å™¨åœ¨æ£€æµ‹åˆ°é›†åˆåœ¨éå†è¿‡ç¨‹ä¸­è¢«ä¿®æ”¹æ—¶ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯å…è®¸è¿™ç§ä¿®æ”¹ç»§ç»­è¿›è¡Œã€‚fail-safeè¿­ä»£å™¨é€šå¸¸æ˜¯é€šè¿‡åœ¨éå†æ—¶ä½¿ç”¨é›†åˆçš„å‰¯æœ¬æ¥å®ç°çš„ï¼Œè¿™æ ·å³ä½¿åŸé›†åˆè¢«ä¿®æ”¹ï¼Œè¿­ä»£å™¨ä¹Ÿä¸ä¼šå—åˆ°å½±å“ã€‚</p>
<h2 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h2><p>fail-safeè¿­ä»£å™¨åœ¨éå†é›†åˆæ—¶ï¼Œå®é™…ä¸Šæ˜¯éå†é›†åˆçš„ä¸€ä¸ªå‰¯æœ¬ã€‚å› æ­¤ï¼Œä»»ä½•å¯¹åŸé›†åˆçš„ä¿®æ”¹éƒ½ä¸ä¼šå½±å“åˆ°è¿­ä»£å™¨æ­£åœ¨éå†çš„å‰¯æœ¬ã€‚è¿™ç§æœºåˆ¶ä¿è¯äº†éå†æ“ä½œçš„å®‰å…¨æ€§ï¼Œä½†ä¹Ÿæ„å‘³ç€è¿­ä»£å™¨ä¸èƒ½åæ˜ é›†åˆçš„å®æ—¶å˜åŒ–ã€‚</p>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import java.util.concurrent.CopyOnWriteArrayList;</span><br><span class="line">import java.util.Iterator;</span><br><span class="line">public class FailSafeExample &#123;</span><br><span class="line">    publicstaticvoidmain(String[] args) &#123;</span><br><span class="line">        CopyOnWriteArrayList&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;();</span><br><span class="line">        list.add(&quot;A&quot;);</span><br><span class="line">        list.add(&quot;B&quot;);</span><br><span class="line">        list.add(&quot;C&quot;);</span><br><span class="line"></span><br><span class="line">        Iterator&lt;String&gt; iterator = list.iterator();</span><br><span class="line">        while (iterator.hasNext()) &#123;</span><br><span class="line">            Stringelement= iterator.next();</span><br><span class="line">            System.out.println(element);</span><br><span class="line">            // åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ä¿®æ”¹é›†åˆ</span><br><span class="line">            if (element.equals(&quot;B&quot;)) &#123;</span><br><span class="line">                list.add(&quot;D&quot;); // ä¸ä¼šå¼•å‘ ConcurrentModificationException</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;After modification: &quot; + list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä½¿ç”¨CopyOnWriteArrayListä½œä¸ºé›†åˆã€‚CopyOnWriteArrayListæ˜¯ä¸€ä¸ªå…¸å‹çš„fail-safeé›†åˆç±»ï¼Œå®ƒåœ¨æ¯æ¬¡ä¿®æ”¹æ—¶éƒ½ä¼šåˆ›å»ºé›†åˆçš„ä¸€ä¸ªå‰¯æœ¬ï¼Œå› æ­¤è¿­ä»£å™¨ä¸ä¼šæ£€æµ‹åˆ°å¹¶å‘ä¿®æ”¹ï¼Œä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionã€‚</p>
<h2 id="ä¸»è¦ç‰¹ç‚¹"><a href="#ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="ä¸»è¦ç‰¹ç‚¹"></a>ä¸»è¦ç‰¹ç‚¹</h2><ol>
<li><strong>ä¸æŠ›å¼‚å¸¸</strong>ï¼šfail-safeè¿­ä»£å™¨åœ¨æ£€æµ‹åˆ°é›†åˆè¢«ä¿®æ”¹æ—¶ï¼Œä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚</li>
<li><strong>å‰¯æœ¬éå†</strong>ï¼šfail-safeè¿­ä»£å™¨éå†çš„æ˜¯é›†åˆçš„ä¸€ä¸ªå‰¯æœ¬ï¼Œè€Œä¸æ˜¯åŸé›†åˆã€‚è¿™æ„å‘³ç€å¯¹åŸé›†åˆçš„ä¿®æ”¹ä¸ä¼šå½±å“è¿­ä»£å™¨çš„éå†ã€‚</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šfail-safeé›†åˆç±»ï¼ˆå¦‚CopyOnWriteArrayListã€ConcurrentHashMapç­‰ï¼‰é€šå¸¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œé€‚ç”¨äºå¹¶å‘ç¯å¢ƒã€‚</li>
</ol>
<h2 id="å¸¸è§çš„fail-safeé›†åˆç±»"><a href="#å¸¸è§çš„fail-safeé›†åˆç±»" class="headerlink" title="å¸¸è§çš„fail-safeé›†åˆç±»"></a>å¸¸è§çš„fail-safeé›†åˆç±»</h2><p>CopyOnWriteArrayListï¼ŒConcurrentHashMapï¼ŒConcurrentLinkedQueueï¼ŒConcurrentSkipListMapï¼ŒConcurrentSkipListSet</p>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol>
<li><strong>æ€§èƒ½å¼€é”€</strong>ï¼šç”±äºfail-safeæœºåˆ¶é€šå¸¸éœ€è¦åˆ›å»ºé›†åˆçš„å‰¯æœ¬ï¼Œå› æ­¤åœ¨ä¿®æ”¹é¢‘ç¹çš„åœºæ™¯ä¸‹ï¼Œæ€§èƒ½å¼€é”€è¾ƒå¤§ã€‚é€‚ç”¨äºè¯»å¤šå†™å°‘çš„åœºæ™¯ã€‚</li>
<li><strong>ä¸€è‡´æ€§é—®é¢˜</strong>ï¼šç”±äºè¿­ä»£å™¨éå†çš„æ˜¯é›†åˆçš„å‰¯æœ¬ï¼Œå› æ­¤å®ƒä¸èƒ½åæ˜ é›†åˆçš„å®æ—¶å˜åŒ–ã€‚å¦‚æœéœ€è¦å®æ—¶ä¸€è‡´æ€§ï¼Œfail-safeæœºåˆ¶å¯èƒ½ä¸é€‚ç”¨ã€‚</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8BHashMap%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8BHashMap%EF%BC%9F/" itemprop="url">ä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ"><a href="#ğŸ‘Œä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ" class="headerlink" title="ğŸ‘Œä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ"></a>ğŸ‘Œä»‹ç»ä¸€ä¸‹HashMapï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>HashMapä¸»è¦æ˜¯ç”¨äºå­˜å‚¨é”®å€¼å¯¹ã€‚å®ƒæ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°çš„ï¼Œæä¾›äº†å¿«é€Ÿçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚ä»å®‰å…¨è§’åº¦ï¼ŒHashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ªHashMapå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å®ƒï¼Œåˆ™å¿…é¡»æ‰‹åŠ¨åŒæ­¥ã€‚</p>
<p>HashMapå…è®¸ä¸€ä¸ª null é”®å’Œå¤šä¸ª null å€¼ã€‚</p>
<p>HashMapä¸ä¿è¯æ˜ å°„çš„é¡ºåºï¼Œç‰¹åˆ«æ˜¯å®ƒä¸ä¿è¯é¡ºåºä¼šéšç€æ—¶é—´çš„æ¨ç§»ä¿æŒä¸å˜ã€‚</p>
<p>HashMapæä¾›äº† O(1) æ—¶é—´å¤æ‚åº¦çš„åŸºæœ¬æ“ä½œï¼ˆå¦‚ get å’Œ putï¼‰ï¼Œå‰ææ˜¯å“ˆå¸Œå‡½æ•°çš„åˆ†å¸ƒè‰¯å¥½ä¸”å†²çªè¾ƒå°‘ã€‚</p>
<h2 id="HashMapä¸»è¦æ–¹æ³•"><a href="#HashMapä¸»è¦æ–¹æ³•" class="headerlink" title="HashMapä¸»è¦æ–¹æ³•"></a>HashMapä¸»è¦æ–¹æ³•</h2><p>**put(K key, V value)**ï¼šå°†æŒ‡å®šçš„å€¼ä¸è¯¥æ˜ å°„ä¸­çš„æŒ‡å®šé”®å…³è”ã€‚å¦‚æœæ˜ å°„ä»¥å‰åŒ…å«ä¸€ä¸ªè¯¥é”®çš„æ˜ å°„ï¼Œåˆ™æ—§å€¼å°†è¢«æ›¿æ¢ã€‚</p>
<p>**get(Object key)**ï¼šè¿”å›æŒ‡å®šé”®æ‰€æ˜ å°„çš„å€¼ï¼›å¦‚æœæ­¤æ˜ å°„ä¸åŒ…å«è¯¥é”®çš„æ˜ å°„ï¼Œåˆ™è¿”å› nullã€‚</p>
<p>**remove(Object key)**ï¼šå¦‚æœå­˜åœ¨ä¸€ä¸ªé”®çš„æ˜ å°„ï¼Œåˆ™å°†å…¶ä»æ˜ å°„ä¸­ç§»é™¤ã€‚</p>
<p>**containsKey(Object key)**ï¼šå¦‚æœæ­¤æ˜ å°„åŒ…å«æŒ‡å®šé”®çš„æ˜ å°„ï¼Œåˆ™è¿”å› trueã€‚</p>
<p>**containsValue(Object value)**ï¼šå¦‚æœæ­¤æ˜ å°„å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ˜ å°„åˆ°æŒ‡å®šå€¼ï¼Œåˆ™è¿”å› trueã€‚</p>
<p>**size()**ï¼šè¿”å›æ­¤æ˜ å°„ä¸­çš„é”®å€¼æ˜ å°„å…³ç³»çš„æ•°é‡ã€‚</p>
<p>**isEmpty()**ï¼šå¦‚æœæ­¤æ˜ å°„ä¸åŒ…å«é”®å€¼æ˜ å°„å…³ç³»ï¼Œåˆ™è¿”å› trueã€‚</p>
<p>**clear()**ï¼šä»æ­¤æ˜ å°„ä¸­ç§»é™¤æ‰€æœ‰é”®å€¼æ˜ å°„å…³ç³»ã€‚</p>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class HashMapExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // åˆ›å»ºä¸€ä¸ª HashMap å®ä¾‹</span><br><span class="line">        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        // æ·»åŠ é”®å€¼å¯¹</span><br><span class="line">        map.put(&quot;apple&quot;, 1);</span><br><span class="line">        map.put(&quot;banana&quot;, 2);</span><br><span class="line">        map.put(&quot;orange&quot;, 3);</span><br><span class="line"></span><br><span class="line">        // è®¿é—®å…ƒç´ </span><br><span class="line">        System.out.println(&quot;Value for key &#x27;apple&#x27;: &quot; + map.get(&quot;apple&quot;));</span><br><span class="line"></span><br><span class="line">        // æ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªé”®æˆ–å€¼</span><br><span class="line">        System.out.println(&quot;Contains key &#x27;banana&#x27;: &quot; + map.containsKey(&quot;banana&quot;));</span><br><span class="line">        System.out.println(&quot;Contains value 3: &quot; + map.containsValue(3));</span><br><span class="line"></span><br><span class="line">        // ç§»é™¤å…ƒç´ </span><br><span class="line">        map.remove(&quot;orange&quot;);</span><br><span class="line"></span><br><span class="line">        // éå† HashMap</span><br><span class="line">        for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">            System.out.println(&quot;Key: &quot; + entry.getKey() + &quot;, Value: &quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // è·å–å¤§å°</span><br><span class="line">        System.out.println(&quot;Size of map: &quot; + map.size());</span><br><span class="line"></span><br><span class="line">        // æ¸…ç©º HashMap</span><br><span class="line">        map.clear();</span><br><span class="line">        System.out.println(&quot;Is map empty: &quot; + map.isEmpty());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å†…éƒ¨å·¥ä½œåŸç†"><a href="#å†…éƒ¨å·¥ä½œåŸç†" class="headerlink" title="å†…éƒ¨å·¥ä½œåŸç†"></a>å†…éƒ¨å·¥ä½œåŸç†</h2><p>HashMapä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨æ•°æ®ã€‚å“ˆå¸Œè¡¨æ˜¯åŸºäºæ•°ç»„å’Œé“¾è¡¨çš„ç»„åˆç»“æ„ã€‚</p>
<ol>
<li><strong>å“ˆå¸Œå‡½æ•°</strong>ï¼šHashMapä½¿ç”¨é”®çš„hashCode()æ–¹æ³•æ¥è®¡ç®—å“ˆå¸Œå€¼ï¼Œç„¶åå°†å“ˆå¸Œå€¼æ˜ å°„åˆ°æ•°ç»„çš„ç´¢å¼•ä½ç½®ã€‚</li>
<li><strong>æ•°ç»„å’Œé“¾è¡¨</strong>ï¼šHashMapä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨é“¾è¡¨æˆ–æ ‘ç»“æ„ï¼ˆJava 8 åŠä»¥åï¼‰ã€‚æ¯ä¸ªæ•°ç»„ä½ç½®è¢«ç§°ä¸ºä¸€ä¸ªâ€œæ¡¶â€ï¼Œæ¯ä¸ªæ¡¶å­˜å‚¨é“¾è¡¨æˆ–æ ‘ã€‚</li>
<li><strong>å†²çªå¤„ç†</strong>ï¼šå½“ä¸¤ä¸ªé”®çš„å“ˆå¸Œå€¼ç›¸åŒæ—¶ï¼Œå®ƒä»¬ä¼šè¢«å­˜å‚¨åœ¨åŒä¸€ä¸ªæ¡¶ä¸­ï¼Œå½¢æˆä¸€ä¸ªé“¾è¡¨ï¼ˆæˆ–æ ‘ï¼‰ã€‚è¿™ç§æƒ…å†µç§°ä¸ºå“ˆå¸Œå†²çªã€‚</li>
<li><strong>å†å“ˆå¸Œ</strong>ï¼šå½“HashMapä¸­çš„å…ƒç´ æ•°é‡è¶…è¿‡å®¹é‡çš„è´Ÿè½½å› å­ï¼ˆé»˜è®¤ 0.75ï¼‰æ—¶ï¼ŒHashMapä¼šè¿›è¡Œå†å“ˆå¸Œï¼Œå°†æ‰€æœ‰å…ƒç´ é‡æ–°åˆ†é…åˆ°ä¸€ä¸ªæ›´å¤§çš„æ•°ç»„ä¸­ã€‚</li>
</ol>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p><strong>åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­</strong>ï¼šå¯ä»¥é€šè¿‡æ„é€ å‡½æ•°è®¾ç½®HashMapçš„åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­ï¼Œä»¥ä¼˜åŒ–æ€§èƒ½ã€‚åˆå§‹å®¹é‡è¶Šå¤§ï¼Œå‡å°‘å†å“ˆå¸Œçš„æ¬¡æ•°ï¼›è´Ÿè½½å› å­è¶Šå°ï¼Œå‡å°‘å†²çªçš„æ¦‚ç‡ï¼Œä½†ä¼šå¢åŠ ç©ºé—´å¼€é”€ã€‚</p>
<p><strong>å“ˆå¸Œå‡½æ•°çš„è´¨é‡</strong>ï¼šå“ˆå¸Œå‡½æ•°çš„è´¨é‡ç›´æ¥å½±å“HashMapçš„æ€§èƒ½ã€‚ç†æƒ³çš„å“ˆå¸Œå‡½æ•°åº”å°½å¯èƒ½å‡åŒ€åœ°åˆ†å¸ƒé”®ã€‚</p>
<h2 id="çº¿ç¨‹å®‰å…¨æ€§"><a href="#çº¿ç¨‹å®‰å…¨æ€§" class="headerlink" title="çº¿ç¨‹å®‰å…¨æ€§"></a>çº¿ç¨‹å®‰å…¨æ€§</h2><p>å¦‚å‰æ‰€è¿°ï¼ŒHashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœéœ€è¦çº¿ç¨‹å®‰å…¨çš„æ˜ å°„ï¼Œå¯ä»¥ä½¿ç”¨Collections.synchronizedMapæ¥åŒ…è£…HashMapï¼Œæˆ–è€…ä½¿ç”¨ConcurrentHashMapï¼Œåè€…åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹æ€§èƒ½æ›´å¥½ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Integer&gt; synchronizedMap = Collections.synchronizedMap(newHashMap&lt;&gt;());</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨ConcurrentHashMapï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Integer&gt; concurrentMap = newConcurrentHashMap&lt;&gt;();</span><br></pre></td></tr></table></figure>



<blockquote>
<p>&#x2F;iwe6pgyi65omsy8l&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E5%B8%B8%E8%A7%81%E7%9A%84list%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E5%B8%B8%E8%A7%81%E7%9A%84list%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%9F/" itemprop="url">å¸¸è§çš„listå®ç°ç±»</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»‹ç»ä¸€ä¸‹å¸¸è§çš„listå®ç°ç±»ï¼Ÿ"><a href="#ğŸ‘Œä»‹ç»ä¸€ä¸‹å¸¸è§çš„listå®ç°ç±»ï¼Ÿ" class="headerlink" title="ğŸ‘Œä»‹ç»ä¸€ä¸‹å¸¸è§çš„listå®ç°ç±»ï¼Ÿ"></a>ğŸ‘Œä»‹ç»ä¸€ä¸‹å¸¸è§çš„listå®ç°ç±»ï¼Ÿ</h1><h2 id><a href="#" class="headerlink" title></a></h2><p>ArrayList æ˜¯æœ€å¸¸ç”¨çš„ List å®ç°ç±»ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œå†…éƒ¨æ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œç»§æ‰¿äº†AbstractListï¼Œå®ç°äº†Listã€‚å®ƒå…è®¸å¯¹å…ƒç´ è¿›è¡Œå¿«é€Ÿéšæœºè®¿é—®ã€‚æ•°ç»„çš„ç¼ºç‚¹æ˜¯æ¯ä¸ªå…ƒç´ ä¹‹é—´ä¸èƒ½æœ‰é—´éš”ï¼Œå½“æ•°ç»„å¤§å°ä¸æ»¡è¶³æ—¶éœ€è¦å¢åŠ å­˜å‚¨èƒ½åŠ›ï¼Œå°±è¦å°†å·²ç»æœ‰æ•°ç»„çš„æ•°æ®å¤åˆ¶åˆ°æ–°çš„å­˜å‚¨ç©ºé—´ä¸­ã€‚å½“ä» ArrayList çš„ä¸­é—´ä½ç½®æ’å…¥æˆ–è€…åˆ é™¤å…ƒç´ æ—¶ï¼Œéœ€è¦å¯¹æ•°ç»„è¿›è¡Œå¤åˆ¶ã€ç§»åŠ¨ã€ä»£ä»·æ¯”è¾ƒé«˜ã€‚å› æ­¤ï¼Œå®ƒé€‚åˆéšæœºæŸ¥æ‰¾å’Œéå†ï¼Œä¸é€‚åˆæ’å…¥å’Œåˆ é™¤ã€‚æ’åˆ—æœ‰åºï¼Œå¯é‡å¤ï¼Œå®¹é‡ä¸å¤Ÿçš„æ—¶å€™ï¼Œæ–°å®¹é‡çš„è®¡ç®—å…¬å¼ä¸ºï¼š</p>
<p>newCapacity &#x3D; oldCapacity + (oldCapacity &gt;&gt; 1)ï¼Œè¿™å®é™…ä¸Šæ˜¯å°†åŸå®¹é‡å¢åŠ 50%ï¼ˆå³ä¹˜ä»¥1.5ï¼‰ã€‚</p>
<p>ArrayListå®ç°äº†RandomAccessæ¥å£ï¼Œå³æä¾›äº†éšæœºè®¿é—®åŠŸèƒ½ã€‚RandomAccessæ˜¯javaä¸­ç”¨æ¥è¢«Listå®ç°ï¼Œä¸ºListæä¾›å¿«é€Ÿè®¿é—®åŠŸèƒ½çš„ã€‚åœ¨ArrayListä¸­ï¼Œæˆ‘ä»¬å³å¯ä»¥é€šè¿‡å…ƒç´ çš„åºå·å¿«é€Ÿè·å–å…ƒç´ å¯¹è±¡ï¼Œè¿™å°±æ˜¯å¿«é€Ÿéšæœºè®¿é—®ã€‚</p>
<p>ArrayListå®ç°java.io.Serializableæ¥å£ï¼Œè¿™æ„å‘³ç€ArrayListæ”¯æŒåºåˆ—åŒ–ï¼Œèƒ½é€šè¿‡åºåˆ—åŒ–å»ä¼ è¾“ã€‚</p>
<h2 id="LinkedListï¼ˆé“¾è¡¨ï¼‰"><a href="#LinkedListï¼ˆé“¾è¡¨ï¼‰" class="headerlink" title="LinkedListï¼ˆé“¾è¡¨ï¼‰"></a><font style="color:rgb(51, 51, 51);">LinkedListï¼ˆé“¾è¡¨ï¼‰</font></h2><p><font style="color:rgb(51, 51, 51);">LinkedList æ˜¯ç”¨é“¾è¡¨ç»“æ„å­˜å‚¨æ•°æ®çš„ï¼Œ</font><font style="color:rgb(0, 0, 0);">çº¿ç¨‹ä¸å®‰å…¨ã€‚</font><font style="color:rgb(51, 51, 51);">å¾ˆé€‚åˆæ•°æ®çš„åŠ¨æ€æ’å…¥å’Œåˆ é™¤ï¼Œéšæœºè®¿é—®å’Œéå†é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œ</font><font style="color:rgb(0, 0, 0);">å¢åˆ å¿«</font><font style="color:rgb(51, 51, 51);">ã€‚å¦å¤–ï¼Œä»–è¿˜æä¾›äº† List æ¥å£ä¸­æ²¡æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œä¸“é—¨ç”¨äºæ“ä½œè¡¨å¤´å’Œè¡¨å°¾å…ƒç´ ï¼Œå¯ä»¥å½“ä½œå †æ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ä½¿ç”¨ã€‚åº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨æ•°æ®ç»“æ„ã€‚</font></p>
<p><font style="color:rgb(0, 0, 0);">LinkedListæ˜¯ä¸€ä¸ªç»§æ‰¿äºAbstractSequentialListçš„åŒå‘é“¾è¡¨ã€‚å®ƒä¹Ÿå¯ä»¥è¢«å½“ä½œå †æ ˆã€é˜Ÿåˆ—æˆ–åŒç«¯é˜Ÿåˆ—è¿›è¡Œæ“ä½œã€‚</font></p>
<h2 id="Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰"><a href="#Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰" class="headerlink" title="Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰"></a><font style="color:rgb(51, 51, 51);">Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰</font></h2><p><font style="color:rgb(51, 51, 51);">Vector ä¸ ArrayList ä¸€æ ·ï¼Œä¹Ÿæ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œ</font><font style="color:rgb(0, 0, 0);">Vectorå’ŒArrayListç”¨æ³•ä¸Šå‡ ä¹ç›¸åŒï¼Œä½†Vectoræ¯”è¾ƒå¤è€ï¼Œä¸€èˆ¬ä¸ç”¨ã€‚Vectoræ˜¯çº¿ç¨‹åŒæ­¥çš„ï¼Œæ•ˆç‡ä½ã€‚</font><font style="color:rgb(51, 51, 51);">å³æŸä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿå†™ Vectorï¼Œé¿å…å¤šçº¿ç¨‹åŒæ—¶å†™è€Œå¼•èµ·çš„ä¸ä¸€è‡´æ€§ï¼Œä½†å®ç°åŒæ­¥éœ€è¦å¾ˆé«˜çš„èŠ±è´¹ï¼Œå› æ­¤ï¼Œè®¿é—®å®ƒæ¯”è®¿é—® ArrayList æ…¢ã€‚é»˜è®¤æ‰©å±•ä¸€å€å®¹é‡ã€‚</font></p>
<blockquote>
<p>&#x2F;op8ey0ndh6st3bgz&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%A6%82%E4%BD%95%E7%A1%AE%E4%BF%9D%E5%87%BD%E6%95%B0%E4%B8%8D%E8%83%BD%E4%BF%AE%E6%94%B9%E9%9B%86%E5%90%88%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%A6%82%E4%BD%95%E7%A1%AE%E4%BF%9D%E5%87%BD%E6%95%B0%E4%B8%8D%E8%83%BD%E4%BF%AE%E6%94%B9%E9%9B%86%E5%90%88%EF%BC%9F/" itemprop="url">å¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œå¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆï¼Ÿ"><a href="#ğŸ‘Œå¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆï¼Ÿ" class="headerlink" title="ğŸ‘Œå¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆï¼Ÿ"></a>ğŸ‘Œå¦‚ä½•ç¡®ä¿å‡½æ•°ä¸èƒ½ä¿®æ”¹é›†åˆï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="ä½¿ç”¨Collections-unmodifiableCollectionæ–¹æ³•"><a href="#ä½¿ç”¨Collections-unmodifiableCollectionæ–¹æ³•" class="headerlink" title="ä½¿ç”¨Collections.unmodifiableCollectionæ–¹æ³•"></a>ä½¿ç”¨Collections.unmodifiableCollectionæ–¹æ³•</h2><p>Javaæä¾›äº†Collections.unmodifiableCollectionæ–¹æ³•ï¼Œå¯ä»¥å°†ä¸€ä¸ªé›†åˆåŒ…è£…æˆä¸€ä¸ªä¸å¯ä¿®æ”¹çš„è§†å›¾ã€‚å¯¹è¿™ä¸ªè§†å›¾çš„ä¿®æ”¹æ“ä½œå°†ä¼šæŠ›å‡ºUnsupportedOperationExceptionã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class UnmodifiableCollectionExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));</span><br><span class="line">        Collection&lt;String&gt; unmodifiableList = Collections.unmodifiableCollection(list);</span><br><span class="line"></span><br><span class="line">        // ä¼ é€’ä¸å¯ä¿®æ”¹çš„é›†åˆç»™å‡½æ•°</span><br><span class="line">        printCollection(unmodifiableList);</span><br><span class="line"></span><br><span class="line">        // å°è¯•ä¿®æ”¹é›†åˆå°†æŠ›å‡º UnsupportedOperationException</span><br><span class="line">        // unmodifiableList.add(&quot;D&quot;); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printCollection(Collection&lt;String&gt; collection) &#123;</span><br><span class="line">        for (String item : collection) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨Collections-unmodifiable"><a href="#ä½¿ç”¨Collections-unmodifiable" class="headerlink" title="ä½¿ç”¨Collections.unmodifiable"></a>ä½¿ç”¨Collections.unmodifiable</h2><p>å¯¹äºç‰¹å®šç±»å‹çš„é›†åˆï¼Œå¦‚Listã€Setå’ŒMapï¼ŒJava æä¾›äº†ç›¸åº”çš„ä¸å¯ä¿®æ”¹è§†å›¾æ–¹æ³•ï¼š</p>
<p>Collections.unmodifiableList</p>
<p>Collections.unmodifiableSet</p>
<p>Collections.unmodifiableMap</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class UnmodifiableSpecificCollectionsExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));</span><br><span class="line">        List&lt;String&gt; unmodifiableList = Collections.unmodifiableList(list);</span><br><span class="line"></span><br><span class="line">        Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;));</span><br><span class="line">        Set&lt;String&gt; unmodifiableSet = Collections.unmodifiableSet(set);</span><br><span class="line"></span><br><span class="line">        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">        map.put(&quot;One&quot;, 1);</span><br><span class="line">        map.put(&quot;Two&quot;, 2);</span><br><span class="line">        Map&lt;String, Integer&gt; unmodifiableMap = Collections.unmodifiableMap(map);</span><br><span class="line"></span><br><span class="line">        // ä¼ é€’ä¸å¯ä¿®æ”¹çš„é›†åˆç»™å‡½æ•°</span><br><span class="line">        printList(unmodifiableList);</span><br><span class="line">        printSet(unmodifiableSet);</span><br><span class="line">        printMap(unmodifiableMap);</span><br><span class="line"></span><br><span class="line">        // å°è¯•ä¿®æ”¹é›†åˆå°†æŠ›å‡º UnsupportedOperationException</span><br><span class="line">        // unmodifiableList.add(&quot;D&quot;); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">        // unmodifiableSet.add(&quot;W&quot;); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">        // unmodifiableMap.put(&quot;Three&quot;, 3); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printList(List&lt;String&gt; list) &#123;</span><br><span class="line">        for (String item : list) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printSet(Set&lt;String&gt; set) &#123;</span><br><span class="line">        for (String item : set) &#123;</span><br><span class="line">            System.out.println(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printMap(Map&lt;String, Integer&gt; map) &#123;</span><br><span class="line">        for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨Collections-unmodifiableCollectioné€’å½’åŒ…è£…åµŒå¥—é›†åˆ"><a href="#ä½¿ç”¨Collections-unmodifiableCollectioné€’å½’åŒ…è£…åµŒå¥—é›†åˆ" class="headerlink" title="ä½¿ç”¨Collections.unmodifiableCollectioné€’å½’åŒ…è£…åµŒå¥—é›†åˆ"></a>ä½¿ç”¨Collections.unmodifiableCollectioné€’å½’åŒ…è£…åµŒå¥—é›†åˆ</h2><p>å¦‚æœé›†åˆä¸­åŒ…å«åµŒå¥—é›†åˆï¼ˆä¾‹å¦‚ä¸€ä¸ªListä¸­åŒ…å«Setï¼‰ï¼Œä½ éœ€è¦é€’å½’åœ°å°†æ‰€æœ‰åµŒå¥—é›†åˆä¹ŸåŒ…è£…æˆä¸å¯ä¿®æ”¹çš„è§†å›¾ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class UnmodifiableNestedCollectionsExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        List&lt;Set&lt;String&gt;&gt; listOfSets = new ArrayList&lt;&gt;();</span><br><span class="line">        listOfSets.add(new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)));</span><br><span class="line">        listOfSets.add(new HashSet&lt;&gt;(Arrays.asList(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;)));</span><br><span class="line"></span><br><span class="line">        List&lt;Set&lt;String&gt;&gt; unmodifiableListOfSets = new ArrayList&lt;&gt;();</span><br><span class="line">        for (Set&lt;String&gt; set : listOfSets) &#123;</span><br><span class="line">            unmodifiableListOfSets.add(Collections.unmodifiableSet(set));</span><br><span class="line">        &#125;</span><br><span class="line">        Collection&lt;List&lt;Set&lt;String&gt;&gt;&gt; unmodifiableCollection = Collections.unmodifiableCollection(Collections.singletonList(unmodifiableListOfSets));</span><br><span class="line"></span><br><span class="line">        // ä¼ é€’ä¸å¯ä¿®æ”¹çš„é›†åˆç»™å‡½æ•°</span><br><span class="line">        printNestedCollection(unmodifiableCollection);</span><br><span class="line"></span><br><span class="line">        // å°è¯•ä¿®æ”¹é›†åˆå°†æŠ›å‡º UnsupportedOperationException</span><br><span class="line">        // unmodifiableListOfSets.get(0).add(&quot;D&quot;); // è¿™è¡Œä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void printNestedCollection(Collection&lt;List&lt;Set&lt;String&gt;&gt;&gt; collection) &#123;</span><br><span class="line">        for (List&lt;Set&lt;String&gt;&gt; list : collection) &#123;</span><br><span class="line">            for (Set&lt;String&gt; set : list) &#123;</span><br><span class="line">                for (String item : set) &#123;</span><br><span class="line">                    System.out.println(item);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä»¥ä¸Šå¯ä»¥ç¡®ä¿ä¼ é€’ç»™å‡½æ•°çš„é›†åˆä¸ä¼šè¢«ä¿®æ”¹ï¼Œä»è€Œä¿è¯é›†åˆçš„ä¸å¯å˜æ€§ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%A6%82%E6%9E%9CHashMap%E7%9A%84%E5%A4%A7%E5%B0%8F%E8%B6%85%E8%BF%87%E4%BA%86%E8%B4%9F%E8%BD%BD%E5%9B%A0%E5%AD%90(loadfactor)%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AE%B9%E9%87%8F%EF%BC%8C%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%A6%82%E6%9E%9CHashMap%E7%9A%84%E5%A4%A7%E5%B0%8F%E8%B6%85%E8%BF%87%E4%BA%86%E8%B4%9F%E8%BD%BD%E5%9B%A0%E5%AD%90(loadfactor)%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AE%B9%E9%87%8F%EF%BC%8C%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9F/" itemprop="url">å¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­(load factor)å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œå¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­-load-factor-å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ"><a href="#ğŸ‘Œå¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­-load-factor-å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="ğŸ‘Œå¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­(load factor)å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ"></a>ğŸ‘Œå¦‚æœHashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­(load factor)å®šä¹‰çš„å®¹é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>å½“HashMapçš„å¤§å°è¶…è¿‡äº†è´Ÿè½½å› å­ï¼ˆload factorï¼‰å®šä¹‰çš„å®¹é‡æ—¶ï¼ŒHashMapä¼šè¿›è¡Œæ‰©å®¹ï¼ˆresizeï¼‰ã€‚</p>
<h2 id="æ‰©å®¹çš„å…·ä½“æ­¥éª¤"><a href="#æ‰©å®¹çš„å…·ä½“æ­¥éª¤" class="headerlink" title="æ‰©å®¹çš„å…·ä½“æ­¥éª¤"></a>æ‰©å®¹çš„å…·ä½“æ­¥éª¤</h2><p>å‡è®¾å½“å‰HashMapçš„å®¹é‡æ˜¯Nï¼Œè´Ÿè½½å› å­æ˜¯Lï¼Œå½“æ’å…¥çš„é”®å€¼å¯¹æ•°é‡è¶…è¿‡N * Læ—¶ï¼ŒHashMapä¼šè¿›è¡Œæ‰©å®¹ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>è®¡ç®—æ–°çš„å®¹é‡</strong>ï¼š æ–°çš„å®¹é‡é€šå¸¸æ˜¯å½“å‰å®¹é‡çš„ä¸¤å€ã€‚å‡è®¾å½“å‰å®¹é‡æ˜¯Nï¼Œæ–°çš„å®¹é‡æ˜¯2 * Nã€‚</li>
<li><strong>åˆ›å»ºæ–°çš„æ¡¶æ•°ç»„</strong>ï¼š æ ¹æ®æ–°çš„å®¹é‡åˆ›å»ºä¸€ä¸ªæ–°çš„æ¡¶æ•°ç»„ã€‚</li>
<li><strong>é‡æ–°å“ˆå¸Œæ‰€æœ‰çš„é”®å€¼å¯¹</strong>ï¼š å¯¹æ—§æ¡¶æ•°ç»„ä¸­çš„æ‰€æœ‰é”®å€¼å¯¹é‡æ–°è®¡ç®—å“ˆå¸Œå€¼ï¼Œå¹¶å°†å®ƒä»¬æ”¾å…¥æ–°çš„æ¡¶æ•°ç»„ä¸­ã€‚è¿™ä¸€æ­¥æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºå“ˆå¸Œå€¼æ˜¯åŸºäºæ•°ç»„é•¿åº¦è®¡ç®—çš„ï¼Œæ•°ç»„é•¿åº¦æ”¹å˜åï¼Œå“ˆå¸Œå€¼ä¹Ÿéœ€è¦é‡æ–°è®¡ç®—ã€‚</li>
</ol>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class HashMapResizeExample &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // åˆ›å»ºä¸€ä¸ªåˆå§‹å®¹é‡ä¸º4ï¼Œè´Ÿè½½å› å­ä¸º0.75çš„HashMap</span><br><span class="line">        Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;(4, 0.75f);</span><br><span class="line"></span><br><span class="line">        // æ’å…¥ä¸€äº›é”®å€¼å¯¹</span><br><span class="line">        map.put(1, &quot;one&quot;);</span><br><span class="line">        map.put(2, &quot;two&quot;);</span><br><span class="line">        map.put(3, &quot;three&quot;);</span><br><span class="line">        // è§¦å‘æ‰©å®¹</span><br><span class="line">        map.put(4, &quot;four&quot;);</span><br><span class="line"></span><br><span class="line">        // æ‰“å°æ‰©å®¹åçš„HashMap</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå½“æ’å…¥ç¬¬å››ä¸ªé”®å€¼å¯¹æ—¶ï¼ŒHashMapçš„å¤§å°è¶…è¿‡äº†4 * 0.75 &#x3D; 3ï¼Œå› æ­¤ä¼šè§¦å‘æ‰©å®¹ï¼Œå®¹é‡ä» 4 å¢åŠ åˆ° 8ã€‚</p>
<h2 id="æ‰©å®¹çš„å…·ä½“å®ç°"><a href="#æ‰©å®¹çš„å…·ä½“å®ç°" class="headerlink" title="æ‰©å®¹çš„å…·ä½“å®ç°"></a>æ‰©å®¹çš„å…·ä½“å®ç°</h2><p>åœ¨ Java çš„HashMapå®ç°ä¸­ï¼Œæ‰©å®¹çš„å…·ä½“ä»£ç åœ¨resizeæ–¹æ³•ä¸­ã€‚ä»¥ä¸‹æ˜¯resizeæ–¹æ³•çš„ç®€åŒ–ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">void resize() &#123;</span><br><span class="line">    // è®¡ç®—æ–°çš„å®¹é‡</span><br><span class="line">    int newCapacity = oldCapacity * 2;</span><br><span class="line"></span><br><span class="line">    // åˆ›å»ºæ–°çš„æ¡¶æ•°ç»„</span><br><span class="line">    Node&lt;K,V&gt;[] newTable = (Node&lt;K,V&gt;[])new Node[newCapacity];</span><br><span class="line"></span><br><span class="line">    // é‡æ–°å“ˆå¸Œæ‰€æœ‰çš„é”®å€¼å¯¹</span><br><span class="line">    for (Node&lt;K,V&gt; node : oldTable) &#123;</span><br><span class="line">        while (node != null) &#123;</span><br><span class="line">            Node&lt;K,V&gt; next = node.next;</span><br><span class="line">            int hash = node.hash % newCapacity;</span><br><span class="line">            node.next = newTable[hash];</span><br><span class="line">            newTable[hash] = node;</span><br><span class="line">            node = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ›¿æ¢æ—§çš„æ¡¶æ•°ç»„</span><br><span class="line">    table = newTable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p><strong>æ€§èƒ½å½±å“</strong>ï¼šæ‰©å®¹æ˜¯ä¸€ä¸ªç›¸å¯¹æ˜‚è´µçš„æ“ä½œï¼Œå› ä¸ºå®ƒéœ€è¦é‡æ–°å“ˆå¸Œå¹¶ç§»åŠ¨æ‰€æœ‰ç°æœ‰çš„é”®å€¼å¯¹ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡HashMapæ—¶ï¼Œåº”å°½é‡é€‰æ‹©åˆé€‚çš„åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­ï¼Œä»¥å‡å°‘æ‰©å®¹æ¬¡æ•°ã€‚</p>
<p><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šé»˜è®¤çš„HashMapæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨HashMapï¼Œéœ€è¦ä½¿ç”¨Collections.synchronizedMapæˆ–ä½¿ç”¨ConcurrentHashMapã€‚</p>
<p><strong>å†…å­˜æ¶ˆè€—</strong>ï¼šæ‰©å®¹ä¼šä¸´æ—¶å ç”¨æ›´å¤šçš„å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ç»´æŠ¤æ—§çš„å’Œæ–°çš„æ¡¶æ•°ç»„ã€‚å› æ­¤ï¼Œåœ¨å†…å­˜å—é™çš„ç¯å¢ƒä¸­éœ€è¦è°¨æ…ä½¿ç”¨ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E6%8B%89%E9%93%BE%E6%B3%95%E5%AF%BC%E8%87%B4%E7%9A%84%E9%93%BE%E8%A1%A8%E8%BF%87%E6%B7%B1%E9%97%AE%E9%A2%98%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E6%8B%89%E9%93%BE%E6%B3%95%E5%AF%BC%E8%87%B4%E7%9A%84%E9%93%BE%E8%A1%A8%E8%BF%87%E6%B7%B1%E9%97%AE%E9%A2%98%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91%EF%BC%9F/" itemprop="url">æ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œæ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Ÿ"><a href="#ğŸ‘Œæ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Ÿ" class="headerlink" title="ğŸ‘Œæ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Ÿ"></a>ğŸ‘Œæ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>åœ¨JDK 8ä¸­ï¼ŒHashMapé‡‡ç”¨çº¢é»‘æ ‘æ¥è§£å†³æ‹‰é“¾æ³•å¯¼è‡´çš„é“¾è¡¨è¿‡æ·±é—®é¢˜ï¼Œä¸»è¦æ˜¯ä¸ºäº†æé«˜åœ¨é«˜å†²çªæƒ…å†µä¸‹çš„æ€§èƒ½ã€‚</p>
<h2 id="æ‹‰é“¾æ³•ä¸­çš„é“¾è¡¨è¿‡æ·±é—®é¢˜"><a href="#æ‹‰é“¾æ³•ä¸­çš„é“¾è¡¨è¿‡æ·±é—®é¢˜" class="headerlink" title="æ‹‰é“¾æ³•ä¸­çš„é“¾è¡¨è¿‡æ·±é—®é¢˜"></a>æ‹‰é“¾æ³•ä¸­çš„é“¾è¡¨è¿‡æ·±é—®é¢˜</h2><p>åœ¨ä¼ ç»Ÿçš„æ‹‰é“¾æ³•ä¸­ï¼Œå½“å¤šä¸ªé”®çš„å“ˆå¸Œå€¼å†²çªæ—¶ï¼Œè¿™äº›é”®ä¼šè¢«å­˜å‚¨åœ¨åŒä¸€ä¸ªæ¡¶ï¼ˆbucketï¼‰ä¸­ï¼Œå½¢æˆä¸€ä¸ªé“¾è¡¨ã€‚å¦‚æœé“¾è¡¨è¿‡é•¿ï¼ŒæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¼šé€€åŒ–ä¸ºO(n)ï¼Œå…¶ä¸­næ˜¯é“¾è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒHashMapçš„æ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚</p>
<h2 id="çº¢é»‘æ ‘çš„ä¼˜åŠ¿"><a href="#çº¢é»‘æ ‘çš„ä¼˜åŠ¿" class="headerlink" title="çº¢é»‘æ ‘çš„ä¼˜åŠ¿"></a>çº¢é»‘æ ‘çš„ä¼˜åŠ¿</h2><p>çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ol>
<li><strong>è‡ªå¹³è¡¡</strong>ï¼šçº¢é»‘æ ‘é€šè¿‡é¢œè‰²å±æ€§ï¼ˆçº¢è‰²å’Œé»‘è‰²ï¼‰å’Œä¸€ç³»åˆ—çš„æ—‹è½¬æ“ä½œï¼Œä¿è¯æ ‘çš„é«˜åº¦è¿‘ä¼¼å¹³è¡¡ã€‚å…¶é«˜åº¦ä¸ä¼šè¶…è¿‡2 * log(n)ï¼Œå…¶ä¸­næ˜¯æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ã€‚</li>
<li><strong>é«˜æ•ˆçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤</strong>ï¼šçº¢é»‘æ ‘çš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(log n)ï¼Œè¿œä¼˜äºé“¾è¡¨åœ¨æœ€åæƒ…å†µä¸‹çš„O(n)ã€‚</li>
</ol>
<h2 id="ä¸ºä»€ä¹ˆé€‰æ‹©çº¢é»‘æ ‘"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©çº¢é»‘æ ‘" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹©çº¢é»‘æ ‘"></a>ä¸ºä»€ä¹ˆé€‰æ‹©çº¢é»‘æ ‘</h2><ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šåœ¨é“¾è¡¨é•¿åº¦è¾ƒçŸ­æ—¶ï¼Œé“¾è¡¨æ“ä½œçš„æ€§èƒ½æ˜¯å¯ä»¥æ¥å—çš„ã€‚ç„¶è€Œï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼ˆJDK 8ä¸­ä¸º8ï¼‰æ—¶ï¼Œé“¾è¡¨æ“ä½œçš„æ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚æ­¤æ—¶ï¼Œå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå¯ä»¥å°†æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä»O(n)é™ä½åˆ°O(log n)ï¼Œæ˜¾è‘—æé«˜æ€§èƒ½ã€‚</li>
<li><strong>å¹³è¡¡æ€§</strong>ï¼šçº¢é»‘æ ‘é€šè¿‡è‡ªå¹³è¡¡æœºåˆ¶ï¼Œä¿è¯æ ‘çš„é«˜åº¦å§‹ç»ˆä¿æŒåœ¨ä¸€ä¸ªè¾ƒä½çš„æ°´å¹³ï¼Œé¿å…äº†é“¾è¡¨è¿‡é•¿å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚</li>
<li><strong>ç©ºé—´æ•ˆç‡</strong>ï¼šè™½ç„¶çº¢é»‘æ ‘æ¯”é“¾è¡¨å ç”¨æ›´å¤šçš„ç©ºé—´ï¼ˆå› ä¸ºéœ€è¦å­˜å‚¨é¢œè‰²å’ŒæŒ‡é’ˆä¿¡æ¯ï¼‰ï¼Œä½†åœ¨é“¾è¡¨é•¿åº¦è¾ƒé•¿æ—¶ï¼Œæ€§èƒ½çš„æå‡é€šå¸¸ä¼šè¶…è¿‡ç©ºé—´å¼€é”€çš„å¢åŠ ã€‚</li>
</ol>
<h2 id="å®ç°ç»†èŠ‚"><a href="#å®ç°ç»†èŠ‚" class="headerlink" title="å®ç°ç»†èŠ‚"></a>å®ç°ç»†èŠ‚</h2><p>åœ¨JDK 8çš„HashMapä¸­ï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡é˜ˆå€¼ï¼ˆ8ï¼‰æ—¶ï¼Œä¼šå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st</span><br><span class="line">    treeifyBin(tab, hash);</span><br></pre></td></tr></table></figure>

<p>treeifyBinæ–¹æ³•å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) &#123;</span><br><span class="line">    int n, index; Node&lt;K,V&gt; e;</span><br><span class="line">    if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)</span><br><span class="line">        resize();</span><br><span class="line">    else if ((e = tab[index = (n - 1) &amp; hash]) != null) &#123;</span><br><span class="line">        TreeNode&lt;K,V&gt; hd = null, tl = null;</span><br><span class="line">        do &#123;</span><br><span class="line">            TreeNode&lt;K,V&gt; p = replacementTreeNode(e, null);</span><br><span class="line">            if (tl == null)</span><br><span class="line">                hd = p;</span><br><span class="line">            else &#123;</span><br><span class="line">                p.prev = tl;</span><br><span class="line">                tl.next = p;</span><br><span class="line">            &#125;</span><br><span class="line">            tl = p;</span><br><span class="line">        &#125; while ((e = e.next) != null);</span><br><span class="line">        if ((tab[index] = hd) != null)</span><br><span class="line">            hd.treeify(tab);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E8%81%8A%E8%81%8A%E5%B8%B8%E8%A7%81set%E7%B1%BB%E9%83%BD%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E8%81%8A%E8%81%8A%E5%B8%B8%E8%A7%81set%E7%B1%BB%E9%83%BD%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%9F/" itemprop="url">èŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒèŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§ï¼Ÿ"><a href="#ğŸ‘ŒèŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§ï¼Ÿ" class="headerlink" title="ğŸ‘ŒèŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§ï¼Ÿ"></a>ğŸ‘ŒèŠèŠå¸¸è§setç±»éƒ½æœ‰å“ªå‡ ç§ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>åœ¨Javaä¸­ï¼ŒSetæ˜¯ä¸€ç§ä¸åŒ…å«é‡å¤å…ƒç´ çš„é›†åˆï¼Œå®ƒç»§æ‰¿è‡ªCollectionæ¥å£ã€‚<font style="color:rgb(51, 51, 51);">ç”¨äºå­˜å‚¨æ— åº(å­˜å…¥å’Œå–å‡ºçš„é¡ºåºä¸ä¸€å®šç›¸åŒ)å…ƒç´ ï¼Œå€¼ä¸èƒ½é‡å¤ã€‚å¯¹è±¡çš„ç›¸ç­‰æ€§æœ¬è´¨æ˜¯å¯¹è±¡ hashCode å€¼ï¼ˆjava æ˜¯ä¾æ®å¯¹è±¡çš„å†…å­˜åœ°å€è®¡ç®—å‡ºçš„æ­¤åºå·ï¼‰åˆ¤æ–­çš„ï¼Œå¦‚æœæƒ³è¦è®©ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡è§†ä¸ºç›¸ç­‰çš„ï¼Œå°±å¿…é¡»è¦†ç›– Object çš„ hashCode æ–¹æ³•å’Œ equals æ–¹æ³•ã€‚</font>Javaä¸­å¸¸è§çš„Setå®ç°ç±»ä¸»è¦æœ‰ä¸‰ä¸ªï¼šHashSetã€LinkedHashSetå’ŒTreeSetã€‚</p>
<h2 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h2><p>HashSetæ˜¯Setæ¥å£çš„ä¸€ä¸ªå®ç°ç±»ï¼Œå®ƒåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œå…·æœ‰å¿«é€Ÿçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚</p>
<p>HashSetä¸ä¿è¯å…ƒç´ çš„è¿­ä»£é¡ºåºï¼Œå…è®¸nullå…ƒç´ çš„å­˜åœ¨ï¼Œä½†åªèƒ½æœ‰ä¸€ä¸ªnullå…ƒç´ ï¼Œä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å¹¶ä¿®æ”¹HashSetï¼Œåˆ™éœ€è¦å¤–éƒ¨åŒæ­¥ã€‚</p>
<p>å½“å­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡æ—¶ï¼Œéœ€è¦é‡å†™å¯¹è±¡çš„<code>hashCode()</code>å’Œ<code>equals()</code>æ–¹æ³•ï¼Œä»¥ç¡®ä¿å¯¹è±¡çš„å”¯ä¸€æ€§ã€‚</p>
<h2 id="LinkedHashSet"><a href="#LinkedHashSet" class="headerlink" title="LinkedHashSet"></a>LinkedHashSet</h2><p>LinkedHashSetæ˜¯HashSetçš„å­ç±»ï¼Œå®ƒåŸºäºå“ˆå¸Œè¡¨å’ŒåŒå‘é“¾è¡¨å®ç°ï¼Œ<font style="color:rgb(51, 51, 51);">ç»§æ‰¿ä¸ HashSetã€åˆåŸºäº LinkedHashMap æ¥å®ç°çš„ã€‚</font>å¯ä»¥ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºã€‚ç›¸æ¯”äº HashSet å¢åŠ äº†é¡ºåºæ€§ã€‚</p>
<p>å…¶ä¸»è¦æ˜¯å°†å…ƒç´ æŒ‰ç…§æ’å…¥çš„é¡ºåºè¿›è¡Œè¿­ä»£ï¼ŒåŒæ—¶ç»§æ‰¿äº†HashSetçš„æ‰€æœ‰ç‰¹æ€§ã€‚å› æ­¤å½“éœ€è¦ä¿æŒå…ƒç´ æ’å…¥é¡ºåºæ—¶ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨LinkedHashSetã€‚</p>
<h2 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h2><p>TreeSetæ˜¯Setæ¥å£çš„å¦ä¸€ä¸ªå®ç°ç±»ï¼Œå®ƒåŸºäºçº¢é»‘æ ‘å®ç°ï¼Œå¯ä»¥å¯¹å…ƒç´ è¿›è¡Œè‡ªç„¶æ’åºæˆ–è‡ªå®šä¹‰æ’åºã€‚</p>
<p>å¯ä»¥å®ç°å…ƒç´ æŒ‰ç…§å‡åºè¿›è¡Œæ’åºï¼ˆè‡ªç„¶æ’åºæˆ–è‡ªå®šä¹‰æ’åºï¼‰ã€‚ä¸è¿‡å®ƒä¸å…è®¸nullå…ƒç´ çš„å­˜åœ¨ã€‚treeset åŒæ ·æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚</p>
<p>å½“å­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡æ—¶ï¼Œå¦‚æœæƒ³è¦è¿›è¡Œæ’åºï¼Œéœ€è¦å®ç°<code>Comparable</code>æ¥å£å¹¶é‡å†™<code>compareTo()</code>æ–¹æ³•ï¼Œæˆ–æä¾›è‡ªå®šä¹‰çš„<code>Comparator</code>å¯¹è±¡æ¥è¿›è¡Œæ’åºã€‚</p>
<h2 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h2><p><code>HashSet</code>ï¼šé€‚ç”¨äºéœ€è¦å¿«é€ŸæŸ¥æ‰¾çš„åœºæ™¯ï¼Œä¸ä¿è¯å…ƒç´ çš„é¡ºåºã€‚</p>
<p><code>LinkedHashSet</code>ï¼šé€‚ç”¨äºéœ€è¦ä¿æŒå…ƒç´ æ’å…¥é¡ºåºçš„åœºæ™¯ã€‚</p>
<p><code>TreeSet</code>ï¼šé€‚ç”¨äºéœ€è¦å…ƒç´ æ’åºçš„åœºæ™¯ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E8%AF%B4%E4%B8%80%E4%B8%8Bjava8%E5%AE%9E%E7%8E%B0%E7%9A%84concurrentHashMap%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E8%AF%B4%E4%B8%80%E4%B8%8Bjava8%E5%AE%9E%E7%8E%B0%E7%9A%84concurrentHashMap%EF%BC%9F/" itemprop="url">è¯´ä¸€ä¸‹java8å®ç°çš„concurrentHashMapï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œè¯´ä¸€ä¸‹java8å®ç°çš„concurrentHashMapï¼Ÿ"><a href="#ğŸ‘Œè¯´ä¸€ä¸‹java8å®ç°çš„concurrentHashMapï¼Ÿ" class="headerlink" title="ğŸ‘Œè¯´ä¸€ä¸‹java8å®ç°çš„concurrentHashMapï¼Ÿ"></a>ğŸ‘Œè¯´ä¸€ä¸‹java8å®ç°çš„concurrentHashMapï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>Java 8 å¯¹ConcurrentHashMapè¿›è¡Œäº†é‡æ–°è®¾è®¡ï¼Œå–æ¶ˆäº†åˆ†æ®µé”çš„æœºåˆ¶ï¼Œæ”¹ç”¨æ›´ç»†ç²’åº¦çš„é”å’Œæ— é”æ“ä½œæ¥æé«˜å¹¶å‘æ€§èƒ½ã€‚</p>
<h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p><strong>Node</strong>ï¼šåŸºæœ¬çš„é“¾è¡¨èŠ‚ç‚¹ï¼Œå­˜å‚¨é”®å€¼å¯¹å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p>
<p><strong>TreeNode</strong>ï¼šç”¨äºçº¢é»‘æ ‘çš„èŠ‚ç‚¹ï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼ˆé»˜è®¤æ˜¯8ï¼‰æ—¶ï¼Œé“¾è¡¨ä¼šè½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚</p>
<p><strong>TreeBin</strong>ï¼šçº¢é»‘æ ‘çš„å®¹å™¨ï¼Œç®¡ç†çº¢é»‘æ ‘çš„æ“ä½œã€‚</p>
<p><strong>ForwardingNode</strong>ï¼šåœ¨æ‰©å®¹è¿‡ç¨‹ä¸­ç”¨äºæŒ‡ç¤ºèŠ‚ç‚¹å·²ç»è¢«ç§»åŠ¨ã€‚</p>
<h2 id="ä¸»è¦æ“ä½œ"><a href="#ä¸»è¦æ“ä½œ" class="headerlink" title="ä¸»è¦æ“ä½œ"></a>ä¸»è¦æ“ä½œ</h2><p><strong>put æ“ä½œ</strong>ï¼šé€šè¿‡ CAS æ“ä½œå’Œç»†ç²’åº¦çš„é”æ¥å®ç°é«˜æ•ˆçš„å¹¶å‘æ’å…¥å’Œæ›´æ–°ã€‚</p>
<p><strong>get æ“ä½œ</strong>ï¼šä½¿ç”¨æ— é”çš„æ–¹å¼è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ€§èƒ½æ›´é«˜ã€‚</p>
<p><strong>æ‰©å®¹</strong>ï¼šé€šè¿‡é€æ­¥è¿ç§»èŠ‚ç‚¹å’Œåä½œæ‰©å®¹æœºåˆ¶ï¼Œæé«˜æ‰©å®¹æ•ˆç‡ã€‚</p>
<h2 id="ç»†ç²’åº¦çš„å¹¶å‘æ§åˆ¶"><a href="#ç»†ç²’åº¦çš„å¹¶å‘æ§åˆ¶" class="headerlink" title="ç»†ç²’åº¦çš„å¹¶å‘æ§åˆ¶"></a>ç»†ç²’åº¦çš„å¹¶å‘æ§åˆ¶</h2><p>Java 8 ä¸­çš„ConcurrentHashMapé‡‡ç”¨äº†æ›´ç»†ç²’åº¦çš„å¹¶å‘æ§åˆ¶ï¼Œä¸»è¦é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š</p>
<p><strong>CAS æ“ä½œ</strong>ï¼šä½¿ç”¨ CAS æ“ä½œï¼ˆCompare-And-Swapï¼‰è¿›è¡Œæ— é”æ’å…¥å’Œæ›´æ–°ï¼Œå‡å°‘é”ç«äº‰ã€‚</p>
<p><strong>synchronized å—</strong>ï¼šåœ¨å¿…è¦æ—¶å¯¹å•ä¸ªæ¡¶ï¼ˆbinï¼‰è¿›è¡ŒåŠ é”ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ®µï¼Œä»è€Œè¿›ä¸€æ­¥æé«˜å¹¶å‘æ€§ã€‚</p>
<p><strong>çº¢é»‘æ ‘</strong>ï¼šå½“é“¾è¡¨é•¿åº¦è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œè½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œé™ä½æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ï¼Œä» O(n) é™ä½åˆ° O(log n)ã€‚</p>
<h2 id="Java-8-ç›¸æ¯”-Java-7-çš„å¥½å¤„"><a href="#Java-8-ç›¸æ¯”-Java-7-çš„å¥½å¤„" class="headerlink" title="Java 8 ç›¸æ¯” Java 7 çš„å¥½å¤„"></a>Java 8 ç›¸æ¯” Java 7 çš„å¥½å¤„</h2><p><strong>æ›´é«˜çš„å¹¶å‘æ€§</strong>ï¼šJava 7 ä½¿ç”¨æ®µçº§åˆ«çš„é”ï¼Œè€Œ Java 8 ä½¿ç”¨æ›´ç»†ç²’åº¦çš„é”å’Œæ— é”æ“ä½œï¼Œå‡å°‘äº†é”ç«äº‰ï¼Œæé«˜äº†å¹¶å‘æ€§ã€‚</p>
<p><strong>æ›´å¥½çš„æ€§èƒ½</strong>ï¼šJava 8 ä¸­çš„getæ“ä½œæ˜¯æ— é”çš„ï¼Œæ€§èƒ½æ›´é«˜ã€‚putæ“ä½œä½¿ç”¨ CAS å’Œç»†ç²’åº¦çš„é”ï¼Œæé«˜äº†æ’å…¥å’Œæ›´æ–°çš„æ€§èƒ½ã€‚</p>
<p><strong>æ›´é«˜æ•ˆçš„æ‰©å®¹</strong>ï¼šJava 8 é€šè¿‡é€æ­¥è¿ç§»èŠ‚ç‚¹å’Œåä½œæ‰©å®¹æœºåˆ¶ï¼Œæé«˜äº†æ‰©å®¹æ•ˆç‡ï¼Œå‡å°‘äº†æ‰©å®¹è¿‡ç¨‹ä¸­å¯¹æ€§èƒ½çš„å½±å“ã€‚</p>
<p><strong>æ›´é«˜æ•ˆçš„æŸ¥æ‰¾</strong>ï¼šå½“é“¾è¡¨é•¿åº¦è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œè½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œé™ä½äº†æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ã€‚</p>
<blockquote>
<p>&#x2F;kfgmeauv8z37pxgd&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E9%87%8D%E6%96%B0%E8%B0%83%E6%95%B4HashMap%E5%A4%A7%E5%B0%8F%E5%AD%98%E5%9C%A8%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%E5%90%97%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E9%87%8D%E6%96%B0%E8%B0%83%E6%95%B4HashMap%E5%A4%A7%E5%B0%8F%E5%AD%98%E5%9C%A8%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%E5%90%97%EF%BC%9F/" itemprop="url">é‡æ–°è°ƒæ•´HashMapå¤§å°å­˜åœ¨ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œé‡æ–°è°ƒæ•´HashMapå¤§å°å­˜åœ¨ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ"><a href="#ğŸ‘Œé‡æ–°è°ƒæ•´HashMapå¤§å°å­˜åœ¨ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ" class="headerlink" title="ğŸ‘Œé‡æ–°è°ƒæ•´HashMapå¤§å°å­˜åœ¨ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ"></a>ğŸ‘Œé‡æ–°è°ƒæ•´HashMapå¤§å°å­˜åœ¨ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="æ€§èƒ½å½±å“"><a href="#æ€§èƒ½å½±å“" class="headerlink" title="æ€§èƒ½å½±å“"></a>æ€§èƒ½å½±å“</h2><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šæ‰©å®¹æ˜¯ä¸€ä¸ªç›¸å¯¹æ˜‚è´µçš„æ“ä½œï¼Œå› ä¸ºå®ƒéœ€è¦é‡æ–°è®¡ç®—æ‰€æœ‰ç°æœ‰é”®å€¼å¯¹çš„å“ˆå¸Œå€¼ï¼Œå¹¶å°†å®ƒä»¬é‡æ–°åˆ†é…åˆ°æ–°çš„æ¡¶æ•°ç»„ä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦ä¸º (O(n))ï¼Œå…¶ä¸­ (n) æ˜¯å“ˆå¸Œè¡¨ä¸­å…ƒç´ çš„æ•°é‡ã€‚å› æ­¤ï¼Œåœ¨æ‰©å®¹æœŸé—´ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½çš„çŸ­æš‚ä¸‹é™ï¼Œå°¤å…¶æ˜¯åœ¨æ’å…¥å¤§é‡æ•°æ®æ—¶ã€‚</p>
<p><strong>é˜»å¡æ“ä½œ</strong>ï¼šåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸­ï¼Œæ‰©å®¹ä¼šé˜»å¡å…¶ä»–æ“ä½œï¼ˆå¦‚æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤ï¼‰ï¼Œç›´åˆ°æ‰©å®¹å®Œæˆã€‚åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œå¦‚æœæ²¡æœ‰é€‚å½“çš„åŒæ­¥æœºåˆ¶ï¼Œæ‰©å®¹å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´æˆ–å…¶ä»–å¹¶å‘é—®é¢˜ã€‚</p>
<h2 id="å†…å­˜ä½¿ç”¨"><a href="#å†…å­˜ä½¿ç”¨" class="headerlink" title="å†…å­˜ä½¿ç”¨"></a>å†…å­˜ä½¿ç”¨</h2><p><strong>ä¸´æ—¶å†…å­˜æ¶ˆè€—</strong>ï¼šæ‰©å®¹æœŸé—´ï¼ŒHashMapéœ€è¦åˆ†é…ä¸€ä¸ªæ–°çš„æ¡¶æ•°ç»„ï¼ŒåŒæ—¶ä¿ç•™æ—§çš„æ¡¶æ•°ç»„ï¼Œç›´åˆ°é‡æ–°å“ˆå¸Œå®Œæˆã€‚è¿™ä¼šå¯¼è‡´ä¸´æ—¶çš„å†…å­˜æ¶ˆè€—å¢åŠ ã€‚å¦‚æœå“ˆå¸Œè¡¨éå¸¸å¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜ä¸è¶³çš„é—®é¢˜ã€‚</p>
<p><strong>å†…å­˜ç¢ç‰‡</strong>ï¼šé¢‘ç¹çš„æ‰©å®¹å’Œç¼©å®¹å¯èƒ½å¯¼è‡´å†…å­˜ç¢ç‰‡åŒ–ï¼Œé™ä½å†…å­˜åˆ©ç”¨æ•ˆç‡ã€‚</p>
<h2 id="å¹¶å‘é—®é¢˜"><a href="#å¹¶å‘é—®é¢˜" class="headerlink" title="å¹¶å‘é—®é¢˜"></a>å¹¶å‘é—®é¢˜</h2><p><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šé»˜è®¤çš„HashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹åœ¨è¿›è¡Œæ‰©å®¹æ“ä½œï¼Œè€Œå¦ä¸€ä¸ªçº¿ç¨‹åœ¨è¿›è¡Œæ’å…¥æˆ–åˆ é™¤æ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´æˆ–ç¨‹åºå´©æºƒã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ConcurrentHashMapæˆ–åœ¨å¤–éƒ¨è¿›è¡ŒåŒæ­¥ã€‚</p>
<p><strong>æ‰©å®¹æœŸé—´çš„æ•°æ®ä¸€è‡´æ€§</strong>ï¼šåœ¨æ‰©å®¹è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰å…¶ä»–çº¿ç¨‹åœ¨è¿›è¡Œè¯»å†™æ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚å› æ­¤ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œå¿…é¡»ç¡®ä¿æ‰©å®¹æ“ä½œæ˜¯åŸå­çš„ï¼Œæˆ–è€…ä½¿ç”¨å¹¶å‘å®‰å…¨çš„æ•°æ®ç»“æ„ã€‚</p>
<h2 id="é‡æ–°å“ˆå¸Œçš„æˆæœ¬"><a href="#é‡æ–°å“ˆå¸Œçš„æˆæœ¬" class="headerlink" title="é‡æ–°å“ˆå¸Œçš„æˆæœ¬"></a>é‡æ–°å“ˆå¸Œçš„æˆæœ¬</h2><p><strong>å“ˆå¸Œå‡½æ•°çš„å¤æ‚æ€§</strong>ï¼šé‡æ–°å“ˆå¸Œæ‰€æœ‰é”®å€¼å¯¹éœ€è¦è°ƒç”¨å“ˆå¸Œå‡½æ•°ã€‚å¦‚æœå“ˆå¸Œå‡½æ•°è¾ƒä¸ºå¤æ‚ï¼Œé‡æ–°å“ˆå¸Œçš„æˆæœ¬ä¹Ÿä¼šå¢åŠ ã€‚</p>
<p><strong>å“ˆå¸Œå†²çªçš„å¤„ç†</strong>ï¼šåœ¨æ‰©å®¹è¿‡ç¨‹ä¸­ï¼Œå“ˆå¸Œå†²çªçš„å¤„ç†ï¼ˆå¦‚é“¾åœ°å€æ³•ä¸­çš„é“¾è¡¨æˆ–çº¢é»‘æ ‘ï¼‰ä¹Ÿä¼šå¢åŠ é¢å¤–çš„å¼€é”€ã€‚</p>
<h2 id="åº”ç”¨å±‚é¢çš„å½±å“"><a href="#åº”ç”¨å±‚é¢çš„å½±å“" class="headerlink" title="åº”ç”¨å±‚é¢çš„å½±å“"></a>åº”ç”¨å±‚é¢çš„å½±å“</h2><p><strong>å®æ—¶æ€§è¦æ±‚</strong>ï¼šåœ¨æŸäº›å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ä¸­ï¼Œæ‰©å®¹æ“ä½œå¯èƒ½å¯¼è‡´çŸ­æš‚çš„æ€§èƒ½ä¸‹é™ï¼Œå½±å“ç³»ç»Ÿçš„å“åº”æ—¶é—´ã€‚</p>
<p><strong>æ•°æ®ä¸€è‡´æ€§è¦æ±‚</strong>ï¼šåœ¨æŸäº›åº”ç”¨ä¸­ï¼Œæ•°æ®çš„ä¸€è‡´æ€§è¦æ±‚è¾ƒé«˜ï¼Œæ‰©å®¹è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå¯¼è‡´çŸ­æš‚çš„æ•°æ®ä¸ä¸€è‡´ï¼Œéœ€è¦é¢å¤–çš„æœºåˆ¶æ¥ä¿è¯ä¸€è‡´æ€§ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆå’Œä¼˜åŒ–"><a href="#è§£å†³æ–¹æ¡ˆå’Œä¼˜åŒ–" class="headerlink" title="è§£å†³æ–¹æ¡ˆå’Œä¼˜åŒ–"></a>è§£å†³æ–¹æ¡ˆå’Œä¼˜åŒ–</h2><ol>
<li><strong>é¢„ä¼°åˆå§‹å®¹é‡</strong>ï¼šå¦‚æœå¯ä»¥é¢„ä¼°æ•°æ®é‡ï¼Œå°½é‡åœ¨åˆ›å»ºHashMapæ—¶è®¾ç½®åˆé€‚çš„åˆå§‹å®¹é‡ï¼Œå‡å°‘æ‰©å®¹æ¬¡æ•°ã€‚</li>
<li><strong>ä½¿ç”¨å¹¶å‘æ•°æ®ç»“æ„</strong>ï¼šåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œä½¿ç”¨ConcurrentHashMapä»£æ›¿HashMapï¼Œå®ƒé‡‡ç”¨äº†åˆ†æ®µé”æœºåˆ¶ï¼Œå‡å°‘äº†æ‰©å®¹å¸¦æ¥çš„å¹¶å‘é—®é¢˜ã€‚</li>
<li><strong>åŠ¨æ€è°ƒæ•´è´Ÿè½½å› å­</strong>ï¼šæ ¹æ®åº”ç”¨éœ€æ±‚ï¼ŒåŠ¨æ€è°ƒæ•´è´Ÿè½½å› å­ä»¥é€‚åº”æ•°æ®é‡çš„å˜åŒ–ã€‚</li>
</ol>
<blockquote>
<p>&#x2F;gifnny9n0u67fo68&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97%E5%8E%9F%E7%90%86%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/16/%E9%9D%A2%E8%AF%95%E9%A2%98/%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97%E5%8E%9F%E7%90%86%EF%BC%9F/" itemprop="url">é˜»å¡é˜Ÿåˆ—åŸç†ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-16T13:33:41+00:00">
                2024-10-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œé˜»å¡é˜Ÿåˆ—åŸç†ï¼Ÿ"><a href="#ğŸ‘Œé˜»å¡é˜Ÿåˆ—åŸç†ï¼Ÿ" class="headerlink" title="ğŸ‘Œé˜»å¡é˜Ÿåˆ—åŸç†ï¼Ÿ"></a>ğŸ‘Œé˜»å¡é˜Ÿåˆ—åŸç†ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>é˜»å¡é˜Ÿåˆ—æ˜¯ä¸€ç§çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ï¼Œå®ƒåœ¨æ’å…¥å’Œåˆ é™¤æ“ä½œä¸Šå¯ä»¥é˜»å¡çº¿ç¨‹ï¼Œä»¥å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ç­‰å¹¶å‘ç¼–ç¨‹éœ€æ±‚ã€‚é˜»å¡é˜Ÿåˆ—çš„æ ¸å¿ƒåŸç†åŒ…æ‹¬é”æœºåˆ¶å’Œæ¡ä»¶å˜é‡ã€‚</p>
<h2 id="åŸºæœ¬åŸç†"><a href="#åŸºæœ¬åŸç†" class="headerlink" title="åŸºæœ¬åŸç†"></a>åŸºæœ¬åŸç†</h2><h3 id="é”æœºåˆ¶"><a href="#é”æœºåˆ¶" class="headerlink" title="é”æœºåˆ¶"></a>é”æœºåˆ¶</h3><p>é˜»å¡é˜Ÿåˆ—ä½¿ç”¨é”ï¼ˆå¦‚ReentrantLockï¼‰æ¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚é”ä¿è¯äº†åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‰§è¡Œæ’å…¥æˆ–åˆ é™¤æ“ä½œï¼Œä»è€Œé¿å…å¹¶å‘é—®é¢˜ã€‚</p>
<h3 id="æ¡ä»¶å˜é‡"><a href="#æ¡ä»¶å˜é‡" class="headerlink" title="æ¡ä»¶å˜é‡"></a>æ¡ä»¶å˜é‡</h3><p>é˜»å¡é˜Ÿåˆ—ä½¿ç”¨æ¡ä»¶å˜é‡ï¼ˆConditionï¼‰æ¥ç®¡ç†çº¿ç¨‹çš„ç­‰å¾…å’Œé€šçŸ¥ã€‚æ¡ä»¶å˜é‡æ˜¯ä¸é”å…³è”çš„ï¼Œå¯ä»¥åœ¨ç‰¹å®šæ¡ä»¶ä¸‹é˜»å¡çº¿ç¨‹å¹¶åœ¨æ¡ä»¶æ»¡è¶³æ—¶å”¤é†’çº¿ç¨‹ã€‚ä¾‹å¦‚ï¼ŒnotEmptyå’ŒnotFullæ˜¯å¸¸è§çš„æ¡ä»¶å˜é‡ï¼Œåˆ†åˆ«ç”¨äºè¡¨ç¤ºé˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºå’Œæ˜¯å¦å·²æ»¡ã€‚</p>
<h3 id="ç­‰å¾…å’Œé€šçŸ¥æœºåˆ¶ï¼š"><a href="#ç­‰å¾…å’Œé€šçŸ¥æœºåˆ¶ï¼š" class="headerlink" title="ç­‰å¾…å’Œé€šçŸ¥æœºåˆ¶ï¼š"></a>ç­‰å¾…å’Œé€šçŸ¥æœºåˆ¶ï¼š</h3><p>å½“çº¿ç¨‹è¯•å›¾æ‰§è¡Œæ’å…¥æ“ä½œè€Œé˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œå®ƒä¼šåœ¨notFullæ¡ä»¶å˜é‡ä¸Šç­‰å¾…ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ç©ºé—´ã€‚</p>
<p>å½“çº¿ç¨‹è¯•å›¾æ‰§è¡Œåˆ é™¤æ“ä½œè€Œé˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œå®ƒä¼šåœ¨notEmptyæ¡ä»¶å˜é‡ä¸Šç­‰å¾…ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰å¯ç”¨çš„å…ƒç´ ã€‚</p>
<p>å½“æ’å…¥æˆ–åˆ é™¤æ“ä½œæˆåŠŸåï¼Œç›¸åº”çš„æ¡ä»¶å˜é‡ä¼šè¢«é€šçŸ¥ï¼ˆå”¤é†’ï¼‰ï¼Œä»¥ä¾¿å…¶ä»–ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚</p>
<h2 id="å…·ä½“å®ç°-Demo"><a href="#å…·ä½“å®ç°-Demo" class="headerlink" title="å…·ä½“å®ç° Demo"></a>å…·ä½“å®ç° Demo</h2><p>LinkedBlockingQueueæ˜¯ä¸€ä¸ªåŸºäºé“¾è¡¨å®ç°çš„å¯é€‰æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚å®ƒçš„åŸºæœ¬åŸç†å¦‚ä¸‹ï¼š</p>
<p><strong>å†…éƒ¨ç»“æ„</strong>ï¼šä½¿ç”¨ä¸€ä¸ªé“¾è¡¨æ¥å­˜å‚¨å…ƒç´ ã€‚ä½¿ç”¨ä¸¤ä¸ªé”ï¼štakeLockå’ŒputLockï¼Œåˆ†åˆ«ç”¨äºæ§åˆ¶åˆ é™¤å’Œæ’å…¥æ“ä½œã€‚ä½¿ç”¨ä¸¤ä¸ªæ¡ä»¶å˜é‡ï¼šnotEmptyå’ŒnotFullï¼Œåˆ†åˆ«ç”¨äºè¡¨ç¤ºé˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºå’Œæ˜¯å¦å·²æ»¡ã€‚</p>
<p><strong>æ’å…¥æ“ä½œï¼ˆputï¼‰</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public void put(E e) throws InterruptedException &#123;</span><br><span class="line">    if (e == null) throw new NullPointerException();</span><br><span class="line">    int c = -1;</span><br><span class="line">    Node&lt;E&gt; node = new Node&lt;E&gt;(e);</span><br><span class="line">    final ReentrantLock putLock = this.putLock;</span><br><span class="line">    final AtomicInteger count = this.count;</span><br><span class="line">    putLock.lockInterruptibly();</span><br><span class="line">    try &#123;</span><br><span class="line">        while (count.get() == capacity) &#123;</span><br><span class="line">            notFull.await();</span><br><span class="line">        &#125;</span><br><span class="line">        enqueue(node);</span><br><span class="line">        c = count.getAndIncrement();</span><br><span class="line">        if (c + 1 &lt; capacity) &#123;</span><br><span class="line">            notFull.signal();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">        putLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">    if (c == 0) &#123;</span><br><span class="line">        signalNotEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤æ“ä½œï¼ˆtakeï¼‰</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public E take() throws InterruptedException &#123;</span><br><span class="line">    E x;</span><br><span class="line">    int c = -1;</span><br><span class="line">    final AtomicInteger count = this.count;</span><br><span class="line">    final ReentrantLock takeLock = this.takeLock;</span><br><span class="line">    takeLock.lockInterruptibly();</span><br><span class="line">    try &#123;</span><br><span class="line">        while (count.get() == 0) &#123;</span><br><span class="line">            notEmpty.await();</span><br><span class="line">        &#125;</span><br><span class="line">        x = dequeue();</span><br><span class="line">        c = count.getAndDecrement();</span><br><span class="line">        if (c &gt; 1) &#123;</span><br><span class="line">            notEmpty.signal();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">        takeLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">    if (c == capacity) &#123;</span><br><span class="line">        signalNotFull();</span><br><span class="line">    &#125;</span><br><span class="line">    return x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç­‰å¾…å’Œé€šçŸ¥</strong>ï¼š</p>
<p>åœ¨æ’å…¥æ“ä½œä¸­ï¼Œå¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œçº¿ç¨‹ä¼šåœ¨notFullæ¡ä»¶å˜é‡ä¸Šç­‰å¾…ã€‚</p>
<p>åœ¨åˆ é™¤æ“ä½œä¸­ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œçº¿ç¨‹ä¼šåœ¨notEmptyæ¡ä»¶å˜é‡ä¸Šç­‰å¾…ã€‚</p>
<p>æ’å…¥æˆ–åˆ é™¤æ“ä½œæˆåŠŸåï¼Œä¼šç›¸åº”åœ°é€šçŸ¥ç­‰å¾…çš„çº¿ç¨‹ã€‚</p>
<h3 id><a href="#" class="headerlink" title></a></h3><blockquote>
<p>&#x2F;rizcvgg0mxqp9iv7&gt;</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/HashMap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/HashMap/" itemprop="url">HashMapåº•å±‚</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="HashMapæ˜¯Javaä¸­ä¸€ç§éå¸¸é‡è¦çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŸºäºå“ˆå¸Œè¡¨çš„åŸç†ï¼Œå®ç°äº†å¯¹é”®å€¼å¯¹ï¼ˆkey-value-pairï¼‰çš„å¿«é€Ÿå­˜å‚¨å’Œè®¿é—®ã€‚ä¸‹é¢è¯¦ç»†è§£é‡ŠHashMapçš„æ•°æ®ç»“æ„ä»¥åŠå…¶åœ¨JDK-1-8ä¸­çš„å˜åŒ–ã€‚"><a href="#HashMapæ˜¯Javaä¸­ä¸€ç§éå¸¸é‡è¦çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŸºäºå“ˆå¸Œè¡¨çš„åŸç†ï¼Œå®ç°äº†å¯¹é”®å€¼å¯¹ï¼ˆkey-value-pairï¼‰çš„å¿«é€Ÿå­˜å‚¨å’Œè®¿é—®ã€‚ä¸‹é¢è¯¦ç»†è§£é‡ŠHashMapçš„æ•°æ®ç»“æ„ä»¥åŠå…¶åœ¨JDK-1-8ä¸­çš„å˜åŒ–ã€‚" class="headerlink" title="HashMapæ˜¯Javaä¸­ä¸€ç§éå¸¸é‡è¦çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŸºäºå“ˆå¸Œè¡¨çš„åŸç†ï¼Œå®ç°äº†å¯¹é”®å€¼å¯¹ï¼ˆkey-value pairï¼‰çš„å¿«é€Ÿå­˜å‚¨å’Œè®¿é—®ã€‚ä¸‹é¢è¯¦ç»†è§£é‡ŠHashMapçš„æ•°æ®ç»“æ„ä»¥åŠå…¶åœ¨JDK 1.8ä¸­çš„å˜åŒ–ã€‚"></a>HashMapæ˜¯Javaä¸­ä¸€ç§éå¸¸é‡è¦çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŸºäºå“ˆå¸Œè¡¨çš„åŸç†ï¼Œå®ç°äº†å¯¹é”®å€¼å¯¹ï¼ˆkey-value pairï¼‰çš„å¿«é€Ÿå­˜å‚¨å’Œè®¿é—®ã€‚ä¸‹é¢è¯¦ç»†è§£é‡ŠHashMapçš„æ•°æ®ç»“æ„ä»¥åŠå…¶åœ¨JDK 1.8ä¸­çš„å˜åŒ–ã€‚</h2><h3 id="HashMapçš„åŸºæœ¬æ•°æ®ç»“æ„"><a href="#HashMapçš„åŸºæœ¬æ•°æ®ç»“æ„" class="headerlink" title="HashMapçš„åŸºæœ¬æ•°æ®ç»“æ„"></a>HashMapçš„åŸºæœ¬æ•°æ®ç»“æ„</h3><p>åœ¨HashMapä¸­ï¼Œæ•°æ®æ˜¯é€šè¿‡â€œæ•°ç»„+é“¾è¡¨â€çš„æ–¹å¼å­˜å‚¨çš„ï¼Œè¿™ç§ç»“æ„ä¹Ÿè¢«ç§°ä¸ºâ€œé“¾è¡¨çš„æ•°ç»„â€ã€‚å…·ä½“æ¥è¯´ï¼š</p>
<ol>
<li><p><strong>æ•°ç»„</strong>ï¼šHashMapå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªEntryæ•°ç»„ï¼ˆåœ¨JDK 1.8åŠä»¥åç‰ˆæœ¬ä¸­ï¼ŒEntryè¢«Nodeç±»æ›¿ä»£ï¼Œä½†åŠŸèƒ½ç›¸åŒï¼‰ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæ¡¶ï¼ˆBucketï¼‰ï¼Œæ¡¶ä¸­å­˜æ”¾çš„æ˜¯æŒ‡å‘é“¾è¡¨èŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p>
</li>
<li><p><strong>é“¾è¡¨</strong>ï¼šå½“å‘ç”Ÿå“ˆå¸Œå†²çªï¼ˆå³ä¸åŒçš„keyé€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å¾—åˆ°çš„ä¸‹æ ‡ç›¸åŒï¼‰æ—¶ï¼Œè¿™äº›key-valueå¯¹ä¼šè¢«å­˜å‚¨åœ¨åŒä¸€æ¡¶ä¸­çš„é“¾è¡¨ä¸­ã€‚é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«keyã€valueã€nextç­‰å­—æ®µï¼Œç”¨äºå­˜å‚¨æ•°æ®å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p>
</li>
</ol>
<h3 id="å“ˆå¸Œå‡½æ•°ä¸å†²çªè§£å†³"><a href="#å“ˆå¸Œå‡½æ•°ä¸å†²çªè§£å†³" class="headerlink" title="å“ˆå¸Œå‡½æ•°ä¸å†²çªè§£å†³"></a>å“ˆå¸Œå‡½æ•°ä¸å†²çªè§£å†³</h3><ol>
<li><p><strong>å“ˆå¸Œå‡½æ•°</strong>ï¼šHashMapé€šè¿‡å“ˆå¸Œå‡½æ•°ï¼ˆhash()æ–¹æ³•ï¼‰å°†keyè½¬æ¢ä¸ºæ•°ç»„çš„ä¸‹æ ‡ã€‚è¿™ä¸ªå“ˆå¸Œå‡½æ•°çš„ç›®æ ‡æ˜¯å°½é‡å‡åŒ€åœ°åˆ†å¸ƒå…ƒç´ ï¼Œä»¥å‡å°‘å“ˆå¸Œå†²çªçš„å‘ç”Ÿã€‚</p>
</li>
<li><p><strong>å†²çªè§£å†³</strong>ï¼šå½“å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼ŒHashMapé‡‡ç”¨é“¾åœ°å€æ³•ï¼ˆä¹Ÿç§°ä¸ºæ‹‰é“¾æ³•ï¼‰æ¥è§£å†³ã€‚å³åœ¨åŒä¸€æ¡¶ä¸­ç»´æŠ¤ä¸€ä¸ªé“¾è¡¨ï¼Œå°†å†²çªçš„å…ƒç´ ä¾æ¬¡æ·»åŠ åˆ°é“¾è¡¨ä¸­ã€‚</p>
</li>
</ol>
<h3 id="JDK-1-8ä¸­çš„ä¼˜åŒ–"><a href="#JDK-1-8ä¸­çš„ä¼˜åŒ–" class="headerlink" title="JDK 1.8ä¸­çš„ä¼˜åŒ–"></a>JDK 1.8ä¸­çš„ä¼˜åŒ–</h3><p>åœ¨JDK 1.8ä¸­ï¼ŒHashMapè¿›è¡Œäº†é‡è¦çš„ä¼˜åŒ–ï¼Œå¼•å…¥äº†çº¢é»‘æ ‘æ¥è¿›ä¸€æ­¥å‡å°‘å“ˆå¸Œå†²çªå¯¹æ€§èƒ½çš„å½±å“ã€‚å…·ä½“æ¥è¯´ï¼š</p>
<ol>
<li><p><strong>é“¾è¡¨è½¬çº¢é»‘æ ‘</strong>ï¼šå½“æ¡¶ä¸­çš„é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º8ï¼‰æ—¶ï¼ŒHashMapä¼šå°†è¿™ä¸ªé“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚çº¢é»‘æ ‘æ˜¯ä¸€ç§å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œå…·æœ‰æ›´é«˜çš„æŸ¥æ‰¾æ•ˆç‡ï¼ˆO(log n)ï¼‰ï¼Œä»è€Œæé«˜äº†HashMapçš„æ€§èƒ½ã€‚</p>
</li>
<li><p><strong>é˜ˆå€¼è°ƒæ•´</strong>ï¼šåœ¨JDK 1.8ä¸­ï¼ŒHashMapè¿˜å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å‚æ•°<code>treeifyThreshold</code>æ¥æ§åˆ¶é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„é˜ˆå€¼ï¼Œä»¥åŠ<code>untreeifyThreshold</code>æ¥æ§åˆ¶çº¢é»‘æ ‘è½¬æ¢ä¸ºé“¾è¡¨çš„é˜ˆå€¼ï¼ˆå½“é“¾è¡¨é•¿åº¦å°äºç­‰äº6æ—¶ï¼‰ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª<code>minTreeifyCapacity</code>å‚æ•°ï¼Œç”¨äºç¡®ä¿åœ¨é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ä¹‹å‰ï¼ŒHashMapçš„å®¹é‡è‡³å°‘è¾¾åˆ°ä¸€å®šçš„é˜ˆå€¼ï¼ˆé»˜è®¤ä¸º64ï¼‰ï¼Œä»¥é¿å…é¢‘ç¹çš„æ ‘åŒ–æ“ä½œã€‚</p>
</li>
</ol>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>HashMapçš„æ•°æ®ç»“æ„æ˜¯åŸºäºâ€œæ•°ç»„+é“¾è¡¨â€çš„ï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°å°†keyæ˜ å°„åˆ°æ•°ç»„çš„ä¸‹æ ‡ï¼Œå¹¶é€šè¿‡é“¾è¡¨è§£å†³å“ˆå¸Œå†²çªã€‚åœ¨JDK 1.8ä¸­ï¼ŒHashMapå¼•å…¥äº†çº¢é»‘æ ‘æ¥ä¼˜åŒ–æ€§èƒ½ï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶ï¼Œä¼šå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ä»¥æé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚è¿™äº›ä¼˜åŒ–ä½¿å¾—HashMapåœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶å…·æœ‰æ›´é«˜çš„æ€§èƒ½å’Œæ›´å¥½çš„ç¨³å®šæ€§ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/HashMap%E5%92%8CHashTable%E7%9A%84%E6%AF%94%E8%BE%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/HashMap%E5%92%8CHashTable%E7%9A%84%E6%AF%94%E8%BE%83/" itemprop="url">HashMapã€Hashtableå’ŒConcurrentHashMap</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åœ¨Javaä¸­ï¼Œ<code>HashMap</code>ã€<code>Hashtable</code>å’Œ<code>ConcurrentHashMap</code>éƒ½æ˜¯ç”¨äºå­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼Œä½†å®ƒä»¬åœ¨ä½¿ç”¨åœºæ™¯å’Œå†…éƒ¨å®ç°ä¸Šæœ‰æ˜¾è‘—çš„åŒºåˆ«ã€‚ä¸‹é¢æ˜¯å¯¹è¿™äº›åŒºåˆ«çš„è¯¦ç»†è§£é‡Šï¼š</p>
<h3 id="çº¿ç¨‹å®‰å…¨"><a href="#çº¿ç¨‹å®‰å…¨" class="headerlink" title="çº¿ç¨‹å®‰å…¨"></a>çº¿ç¨‹å®‰å…¨</h3><ol>
<li><p><strong>HashMap</strong>ï¼š</p>
<ul>
<li><strong>éçº¿ç¨‹å®‰å…¨</strong>ï¼š<code>HashMap</code>æ²¡æœ‰è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå¦‚æœåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¸åŠ åŒæ­¥åœ°ä½¿ç”¨<code>HashMap</code>ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¦‚æ­»é”ã€æ•°æ®ä¸¢å¤±æˆ–è¦†ç›–ã€‚</li>
</ul>
</li>
<li><p><strong>Hashtable</strong>ï¼š</p>
<ul>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼š<code>Hashtable</code>æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå®ƒçš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯åŒæ­¥çš„ã€‚è¿™æ„å‘³ç€åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼ŒåŒæ—¶è®¿é—®å’Œä¿®æ”¹<code>Hashtable</code>ä¸ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚ä½†æ˜¯ï¼Œç”±äºæ¯ä¸ªæ–¹æ³•éƒ½ä½¿ç”¨åŒæ­¥ï¼Œè¿™å¯èƒ½å¯¼è‡´åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹æ€§èƒ½è¾ƒä½ã€‚</li>
</ul>
</li>
<li><p><strong>ConcurrentHashMap</strong>ï¼š</p>
<ul>
<li><strong>çº¿ç¨‹å®‰å…¨ä¸”é«˜æ•ˆ</strong>ï¼š<code>ConcurrentHashMap</code>æ˜¯ä¸ºäº†è§£å†³åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹<code>HashMap</code>çš„æ€§èƒ½é—®é¢˜å’Œ<code>Hashtable</code>çš„åŒæ­¥æ€§èƒ½ç“¶é¢ˆè€Œè®¾è®¡çš„ã€‚</li>
<li><strong>JDK 1.7åŠä¹‹å‰</strong>ï¼šä½¿ç”¨åˆ†æ®µé”ï¼ˆSegment Lockï¼‰æœºåˆ¶ï¼Œå°†æ•´ä¸ªå“ˆå¸Œè¡¨åˆ†ä¸ºå¤šä¸ªæ®µï¼ˆSegmentï¼‰ï¼Œæ¯ä¸ªæ®µæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå°çš„å“ˆå¸Œè¡¨ï¼Œå¹¶ä¸”æœ‰è‡ªå·±çš„é”ã€‚è¿™æ ·ï¼Œåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹ï¼Œåªè¦å¤šä¸ªçº¿ç¨‹è®¿é—®çš„æ˜¯ä¸åŒçš„æ®µï¼Œå°±å¯ä»¥å¹¶è¡Œå¤„ç†ï¼Œæé«˜äº†å¹¶å‘æ€§èƒ½ã€‚</li>
<li><strong>JDK 1.8åŠä¹‹å</strong>ï¼šå–æ¶ˆäº†åˆ†æ®µé”ï¼Œè€Œæ˜¯é‡‡ç”¨äº†CASï¼ˆCompare-And-Swapï¼‰æ“ä½œå’Œ<code>synchronized</code>å…³é”®å­—æ¥å®ç°æ›´ç»†ç²’åº¦çš„é”ã€‚æ¯ä¸ªæ¡¶ï¼ˆNodeï¼‰çš„é”æ§åˆ¶æ›´åŠ ç²¾ç¡®ï¼Œåªæœ‰åœ¨å¿…è¦æ—¶æ‰é”å®šç›¸å…³çš„æ¡¶ï¼Œè¿›ä¸€æ­¥æé«˜äº†å¹¶å‘æ€§èƒ½ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ç»§æ‰¿å…³ç³»"><a href="#ç»§æ‰¿å…³ç³»" class="headerlink" title="ç»§æ‰¿å…³ç³»"></a>ç»§æ‰¿å…³ç³»</h3><ol>
<li><p><strong>Hashtable</strong>ï¼š</p>
<ul>
<li>ç»§æ‰¿è‡ª<code>java.util.Dictionary</code>ç±»ï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæä¾›äº†åŸºæœ¬çš„é”®å€¼å¯¹å­˜å‚¨åŠŸèƒ½ã€‚<code>Hashtable</code>æ˜¯æœ€æ—©çš„é”®å€¼å¯¹å­˜å‚¨å®ç°ä¹‹ä¸€ï¼Œå› æ­¤åœ¨Javaæ—©æœŸç‰ˆæœ¬ä¸­å¹¿æ³›ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><p><strong>HashMap</strong>å’Œ<strong>ConcurrentHashMap</strong>ï¼š</p>
<ul>
<li>éƒ½ç»§æ‰¿è‡ª<code>java.util.AbstractMap</code>æŠ½è±¡ç±»ï¼Œå¹¶å®ç°äº†<code>java.util.Map</code>æ¥å£ã€‚<code>AbstractMap</code>æä¾›äº†Mapæ¥å£çš„éƒ¨åˆ†å®ç°ï¼Œä»¥å‡å°‘å­ç±»å®ç°çš„å·¥ä½œé‡ã€‚</li>
<li><code>HashMap</code>å’Œ<code>ConcurrentHashMap</code>éƒ½æä¾›äº†Mapæ¥å£çš„æ‰€æœ‰åŠŸèƒ½ï¼Œä½†åœ¨å®ç°ä¸Šæœ‰æ‰€ä¸åŒï¼Œä»¥é€‚åº”ä¸åŒçš„ä½¿ç”¨åœºæ™¯ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><ul>
<li><strong>HashMap</strong>ï¼šé€‚ç”¨äºå•çº¿ç¨‹ç¯å¢ƒæˆ–ä¸éœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨çš„æƒ…å†µï¼Œå› ä¸ºå®ƒæä¾›äº†æœ€å¥½çš„æ€§èƒ½ã€‚</li>
<li><strong>Hashtable</strong>ï¼šé€‚ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒï¼Œä½†éœ€è¦åŒæ­¥ï¼ˆå³çº¿ç¨‹å®‰å…¨ï¼‰çš„é”®å€¼å¯¹å­˜å‚¨ã€‚ç„¶è€Œï¼Œç”±äºæ€§èƒ½åŸå› ï¼Œç°åœ¨é€šå¸¸æ¨èä½¿ç”¨<code>ConcurrentHashMap</code>ã€‚</li>
<li><strong>ConcurrentHashMap</strong>ï¼šé€‚ç”¨äºé«˜å¹¶å‘ç¯å¢ƒï¼Œæä¾›äº†çº¿ç¨‹å®‰å…¨çš„é”®å€¼å¯¹å­˜å‚¨ï¼Œå¹¶ä¸”æ€§èƒ½ä¼˜äº<code>Hashtable</code>ã€‚</li>
</ul>
<p>æ€»ä¹‹ï¼Œé€‰æ‹©å“ªç§Mapå®ç°å–å†³äºåº”ç”¨ç¨‹åºçš„å…·ä½“éœ€æ±‚ï¼ŒåŒ…æ‹¬æ˜¯å¦éœ€è¦çº¿ç¨‹å®‰å…¨ä»¥åŠå¹¶å‘æ€§èƒ½çš„è¦æ±‚ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/List%E7%9A%84%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/List%E7%9A%84%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F/" itemprop="url">Listä¸­çš„éå†æ–¹å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>åœ¨Javaä¸­ï¼Œéå†å¹¶ä¿®æ”¹ä¸€ä¸ªListé›†åˆæ˜¯ä¸€ä¸ªå¸¸è§çš„æ“ä½œï¼Œä½†å¦‚æœä¸å°å¿ƒå¤„ç†ï¼Œå¯èƒ½ä¼šé‡åˆ°<code>ConcurrentModificationException</code>å¼‚å¸¸ï¼Œè¿™é€šå¸¸æ˜¯å› ä¸ºåœ¨éå†è¿‡ç¨‹ä¸­ç›´æ¥ä¿®æ”¹äº†é›†åˆçš„ç»“æ„ï¼ˆå¦‚æ·»åŠ ã€åˆ é™¤å…ƒç´ ï¼‰ã€‚ä¸‹é¢æ˜¯ä½ æåˆ°çš„å‡ ç§å¤„ç†æ–¹æ¡ˆåŠå…¶è¯¦ç»†è§£é‡Šï¼š</li>
</ul>
<ol>
<li><p><strong>é€šè¿‡æ™®é€šçš„forå¾ªç¯ï¼ˆä¸å»ºè®®ï¼Œå¯èƒ½ä¼šæ¼åˆ ï¼‰</strong>ï¼š<br>ä½¿ç”¨æ™®é€šçš„forå¾ªç¯éå†Listï¼Œå¹¶é€šè¿‡ç´¢å¼•ç›´æ¥ä¿®æ”¹æˆ–åˆ é™¤å…ƒç´ ã€‚è¿™ç§æ–¹æ³•çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœåˆ é™¤å…ƒç´ åæ²¡æœ‰ç›¸åº”åœ°è°ƒæ•´ç´¢å¼•ï¼ˆä¾‹å¦‚ï¼Œè¿ç»­åˆ é™¤å…ƒç´ æ—¶ï¼‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´è·³è¿‡æŸäº›å…ƒç´ çš„æ£€æŸ¥æˆ–ç´¢å¼•è¶Šç•Œå¼‚å¸¸ã€‚</p>
</li>
<li><p><strong>é€šè¿‡æ™®é€šçš„forå¾ªç¯è¿›è¡Œå€’åºéå†</strong>ï¼š<br>å€’åºéå†å¯ä»¥é¿å…å› åˆ é™¤å…ƒç´ è€Œå¯¼è‡´çš„ç´¢å¼•è°ƒæ•´é—®é¢˜ï¼Œå› ä¸ºå³ä½¿åˆ é™¤äº†å…ƒç´ ï¼Œåé¢çš„å…ƒç´ ç´¢å¼•ä¹Ÿä¸ä¼šæ”¹å˜ï¼ˆç›¸å¯¹äºå½“å‰éå†æ–¹å‘ï¼‰ã€‚è¿™ç§æ–¹æ³•å¯ä»¥æœ‰æ•ˆé¿å…æ¼åˆ çš„é—®é¢˜ã€‚</p>
</li>
<li><p><strong>ä½¿ç”¨è¿­ä»£å™¨å¾ªç¯</strong>ï¼š<br>è¿­ä»£å™¨æä¾›äº†ä¸€ç§å®‰å…¨çš„æ–¹å¼æ¥éå†å¹¶ä¿®æ”¹é›†åˆã€‚ä½¿ç”¨è¿­ä»£å™¨çš„<code>remove</code>æ–¹æ³•å¯ä»¥å®‰å…¨åœ°åˆ é™¤å½“å‰å…ƒç´ ï¼Œè€Œä¸ä¼šè§¦å‘<code>ConcurrentModificationException</code>ã€‚æ³¨æ„ï¼Œä¸èƒ½ä½¿ç”¨é›†åˆçš„<code>remove</code>æ–¹æ³•ï¼Œè€Œåº”è¯¥ä½¿ç”¨è¿­ä»£å™¨çš„<code>remove</code>æ–¹æ³•ã€‚</p>
</li>
<li><p><strong>å¤åˆ¶åˆ—è¡¨</strong>ï¼š<br>åˆ›å»ºä¸€ä¸ªåŸå§‹åˆ—è¡¨çš„å‰¯æœ¬ï¼Œéå†åŸå§‹åˆ—è¡¨ï¼ŒåŒæ—¶åœ¨å‰¯æœ¬ä¸Šè¿›è¡Œåˆ é™¤æ“ä½œã€‚è¿™ç§æ–¹æ³•æ˜¯fail-safeçš„ï¼Œå› ä¸ºéå†å’Œä¿®æ”¹å‘ç”Ÿåœ¨ä¸åŒçš„åˆ—è¡¨ä¸Šã€‚ä½†è¿™ç§æ–¹æ³•ç›¸å¯¹å¤æ‚ï¼Œä¸”éœ€è¦é¢å¤–çš„å†…å­˜æ¥å­˜å‚¨å‰¯æœ¬ã€‚æ­¤å¤–ï¼Œå¦‚æœåˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯å¤æ‚å¯¹è±¡ï¼Œå¯èƒ½éœ€è¦æ­£ç¡®åœ°å®ç°<code>equals</code>å’Œ<code>hashCode</code>æ–¹æ³•ä»¥ç¡®ä¿æ­£ç¡®çš„åˆ é™¤ã€‚</p>
</li>
<li><p><strong>ä½¿ç”¨å¹¶å‘å®‰å…¨çš„é›†åˆç±»</strong>ï¼š<br>ä½¿ç”¨å¦‚<code>CopyOnWriteArrayList</code>è¿™æ ·çš„çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»ã€‚è¿™ç§é›†åˆç±»åœ¨ä¿®æ”¹æ—¶åˆ›å»ºé›†åˆçš„å‰¯æœ¬ï¼Œå› æ­¤éå†å’Œä¿®æ”¹å¯ä»¥å®‰å…¨åœ°è¿›è¡Œï¼Œä½†è¿™ä¹Ÿå¯èƒ½å¯¼è‡´åœ¨å¤§é‡ä¿®æ”¹æ—¶æ€§èƒ½ä¸‹é™ï¼Œå› ä¸ºæ¯æ¬¡ä¿®æ”¹éƒ½éœ€è¦å¤åˆ¶æ•´ä¸ªé›†åˆã€‚</p>
</li>
<li><p><strong>ä½¿ç”¨Streamçš„è¿‡æ»¤æ–¹æ³•</strong>ï¼š<br>Java 8å¼•å…¥çš„Stream APIæä¾›äº†ä¸€ç§å£°æ˜æ€§çš„æ–¹å¼æ¥å¤„ç†é›†åˆã€‚é€šè¿‡<code>filter</code>æ–¹æ³•ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„Streamï¼ŒåªåŒ…å«æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç´ ã€‚ç„¶åï¼Œå¯ä»¥ä½¿ç”¨<code>collect</code>æ–¹æ³•å°†ç»“æœæ”¶é›†åˆ°ä¸€ä¸ªæ–°çš„åˆ—è¡¨ä¸­ã€‚è¿™ç§æ–¹æ³•ç®€å•é«˜æ•ˆï¼Œå› ä¸ºå®ƒé¿å…äº†åœ¨éå†è¿‡ç¨‹ä¸­ç›´æ¥ä¿®æ”¹åŸå§‹é›†åˆã€‚</p>
</li>
<li><p><strong>é€šè¿‡<code>removeIf</code>æ–¹æ³•</strong>ï¼š<br>Java 8çš„<code>List</code>æ¥å£å¼•å…¥äº†<code>removeIf</code>æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªè°“è¯ï¼ˆPredicateï¼‰ï¼Œå¹¶åˆ é™¤æ‰€æœ‰æ»¡è¶³è¯¥è°“è¯çš„å…ƒç´ ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€æ´å’Œé«˜æ•ˆçš„æ–¹æ³•ï¼Œç”¨äºæ ¹æ®æ¡ä»¶åˆ é™¤å…ƒç´ ã€‚</p>
</li>
</ol>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶é€‚ç”¨çš„åœºæ™¯å’Œä¼˜ç¼ºç‚¹ã€‚åœ¨é€‰æ‹©æ–¹æ³•æ—¶ï¼Œåº”è€ƒè™‘é›†åˆçš„å¤§å°ã€ä¿®æ”¹çš„é¢‘ç‡ã€å†…å­˜ä½¿ç”¨ä»¥åŠå¯¹æ€§èƒ½çš„è¦æ±‚ã€‚å¯¹äºå¤§å¤šæ•°æƒ…å†µï¼Œä½¿ç”¨<code>removeIf</code>æˆ–Streamçš„<code>filter</code>æ–¹æ³•æ˜¯æ¨èçš„åšæ³•ï¼Œå› ä¸ºå®ƒä»¬æ—¢ç®€å•åˆé«˜æ•ˆã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/ThreadLocal/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/ThreadLocal/" itemprop="url">ThreadLocalçš„å®ç°åŸç†</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">ç¬”è®°</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ThreadLocalæ˜¯Javaä¸­ç”¨äºè§£å†³å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ•°æ®éš”ç¦»é—®é¢˜çš„ä¸€ä¸ªç±»ã€‚å®ƒæä¾›äº†ä¸€ç§æ–¹å¼ï¼Œä½¿å¾—æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥æ‹¥æœ‰å…¶ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œè¿™æ ·æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–çº¿ç¨‹çš„å‰¯æœ¬ã€‚è¿™ç§æœºåˆ¶åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“éœ€è¦åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«æŸäº›æ•°æ®ï¼Œä½†åˆä¸å¸Œæœ›è¿™äº›æ•°æ®å› ä¸ºå¹¶å‘è®¿é—®è€Œå¼•å‘é—®é¢˜æ—¶ã€‚"><a href="#ThreadLocalæ˜¯Javaä¸­ç”¨äºè§£å†³å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ•°æ®éš”ç¦»é—®é¢˜çš„ä¸€ä¸ªç±»ã€‚å®ƒæä¾›äº†ä¸€ç§æ–¹å¼ï¼Œä½¿å¾—æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥æ‹¥æœ‰å…¶ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œè¿™æ ·æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–çº¿ç¨‹çš„å‰¯æœ¬ã€‚è¿™ç§æœºåˆ¶åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“éœ€è¦åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«æŸäº›æ•°æ®ï¼Œä½†åˆä¸å¸Œæœ›è¿™äº›æ•°æ®å› ä¸ºå¹¶å‘è®¿é—®è€Œå¼•å‘é—®é¢˜æ—¶ã€‚" class="headerlink" title="ThreadLocalæ˜¯Javaä¸­ç”¨äºè§£å†³å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ•°æ®éš”ç¦»é—®é¢˜çš„ä¸€ä¸ªç±»ã€‚å®ƒæä¾›äº†ä¸€ç§æ–¹å¼ï¼Œä½¿å¾—æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥æ‹¥æœ‰å…¶ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œè¿™æ ·æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–çº¿ç¨‹çš„å‰¯æœ¬ã€‚è¿™ç§æœºåˆ¶åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“éœ€è¦åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«æŸäº›æ•°æ®ï¼Œä½†åˆä¸å¸Œæœ›è¿™äº›æ•°æ®å› ä¸ºå¹¶å‘è®¿é—®è€Œå¼•å‘é—®é¢˜æ—¶ã€‚"></a>ThreadLocalæ˜¯Javaä¸­ç”¨äºè§£å†³å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ•°æ®éš”ç¦»é—®é¢˜çš„ä¸€ä¸ªç±»ã€‚å®ƒæä¾›äº†ä¸€ç§æ–¹å¼ï¼Œä½¿å¾—æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥æ‹¥æœ‰å…¶ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œè¿™æ ·æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–çº¿ç¨‹çš„å‰¯æœ¬ã€‚è¿™ç§æœºåˆ¶åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“éœ€è¦åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«æŸäº›æ•°æ®ï¼Œä½†åˆä¸å¸Œæœ›è¿™äº›æ•°æ®å› ä¸ºå¹¶å‘è®¿é—®è€Œå¼•å‘é—®é¢˜æ—¶ã€‚</h2><h3 id="ThreadLocalçš„å®ç°åŸç†"><a href="#ThreadLocalçš„å®ç°åŸç†" class="headerlink" title="ThreadLocalçš„å®ç°åŸç†"></a>ThreadLocalçš„å®ç°åŸç†</h3><p>ThreadLocalçš„å®ç°ä¸»è¦ä¾èµ–äºä¸€ä¸ªå†…éƒ¨ç±»ThreadLocalMapã€‚è¿™ä¸ªMapä»¥ThreadLocalå¯¹è±¡ä¸ºé”®ï¼Œä»¥çº¿ç¨‹ç‹¬æœ‰çš„å˜é‡ä¸ºå€¼ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½ç»´æŠ¤ç€ä¸€ä¸ªThreadLocalMapçš„å¼•ç”¨ï¼Œè¿™æ ·çº¿ç¨‹å°±å¯ä»¥é€šè¿‡ThreadLocalå¯¹è±¡ä½œä¸ºé”®ï¼Œåœ¨å…¶è‡ªå·±çš„ThreadLocalMapä¸­æŸ¥æ‰¾æˆ–è®¾ç½®å€¼ã€‚</p>
<ol>
<li><p><strong>ThreadLocalMapçš„ç»“æ„</strong>ï¼š</p>
<ul>
<li>ThreadLocalMapæ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå®ƒçš„é”®ï¼ˆKeyï¼‰æ˜¯ThreadLocalå¯¹è±¡æœ¬èº«çš„ä¸€ä¸ªå¼±å¼•ç”¨ï¼ˆWeakReferenceï¼‰ï¼Œè€Œå€¼ï¼ˆValueï¼‰åˆ™æ˜¯çº¿ç¨‹ç‹¬æœ‰çš„å˜é‡ã€‚</li>
<li>ä½¿ç”¨å¼±å¼•ç”¨ä½œä¸ºé”®çš„å¥½å¤„æ˜¯ï¼Œå½“ThreadLocalå¯¹è±¡è¢«åƒåœ¾å›æ”¶æ—¶ï¼Œä¸ä¼šå› ä¸ºThreadLocalMapä¸­çš„å¼•ç”¨è€Œé˜»æ­¢å…¶è¢«å›æ”¶ã€‚ä½†è¿™ä¹Ÿå¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œå³å¦‚æœThreadLocalå¯¹è±¡è¢«å›æ”¶äº†ï¼Œè€ŒThreadLocalMapä¸­çš„Entryè¿˜å­˜åœ¨ï¼ˆä¸”Valueè¿˜æœªè¢«å›æ”¶ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°é”®ä¸ºnullçš„æƒ…å†µï¼Œè¿™éœ€è¦åœ¨ThreadLocalMapçš„æ“ä½œä¸­ç‰¹åˆ«å¤„ç†ã€‚</li>
</ul>
</li>
<li><p><strong>ThreadLocalçš„æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>initialValue()</code>ï¼šè¿”å›æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„åˆå§‹å€¼ã€‚</li>
<li><code>get()</code>ï¼šè¿”å›æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„å½“å‰çº¿ç¨‹å‰¯æœ¬ä¸­çš„å€¼ã€‚å¦‚æœè¿™æ˜¯çº¿ç¨‹ç¬¬ä¸€æ¬¡è°ƒç”¨è¯¥æ–¹æ³•ï¼Œåˆ™é€šè¿‡è°ƒç”¨<code>initialValue()</code>æ–¹æ³•åˆ›å»ºå¹¶åˆå§‹åŒ–æ­¤å‰¯æœ¬ã€‚</li>
<li><code>set(T value)</code>ï¼šå°†æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„å½“å‰çº¿ç¨‹å‰¯æœ¬ä¸­çš„å€¼è®¾ç½®ä¸ºæŒ‡å®šå€¼ã€‚</li>
<li><code>remove()</code>ï¼šç§»é™¤æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„å€¼ã€‚è¿™æ˜¯ä¸€ä¸ªæ¸…ç†æ“ä½œï¼Œæœ‰åŠ©äºé¿å…å†…å­˜æ³„æ¼ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨çº¿ç¨‹æ± æ—¶ã€‚</li>
</ul>
</li>
<li><p><strong>ThreadLocalMapçš„æ‰©å®¹å’Œæ¸…ç†</strong>ï¼š</p>
<ul>
<li>ThreadLocalMapçš„æ‰©å®¹æœºåˆ¶ä¸HashMapç±»ä¼¼ï¼Œå½“å…ƒç´ æ•°é‡è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œä¼šè¿›è¡Œæ‰©å®¹ã€‚</li>
<li>ç”±äºThreadLocalMapçš„é”®æ˜¯å¼±å¼•ç”¨ï¼Œå½“æ²¡æœ‰å¼ºå¼•ç”¨æŒ‡å‘ThreadLocalå¯¹è±¡æ—¶ï¼ŒThreadLocalå¯¹è±¡å¯ä»¥è¢«åƒåœ¾å›æ”¶ã€‚ä½†æ˜¯ï¼Œå¦‚æœThreadLocalå¯¹è±¡è¢«å›æ”¶äº†ï¼Œè€Œå¯¹åº”çš„Valueå¯¹è±¡è¿˜æœ‰å¼ºå¼•ç”¨å­˜åœ¨ï¼ˆå³è¿˜æ²¡æœ‰è¢«çº¿ç¨‹æ˜¾å¼åœ°è°ƒç”¨<code>remove()</code>æ–¹æ³•ç§»é™¤ï¼‰ï¼Œé‚£ä¹ˆè¿™äº›Valueå¯¹è±¡å°±å˜æˆäº†â€œå­¤å„¿å¯¹è±¡â€ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨ThreadLocalæ—¶ï¼Œå»ºè®®æ˜¾å¼åœ°è°ƒç”¨<code>remove()</code>æ–¹æ³•æ¥æ¸…ç†ä¸å†éœ€è¦çš„çº¿ç¨‹å±€éƒ¨å˜é‡ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><p>ThreadLocalçš„å…¸å‹ä½¿ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éœ€è¦ç»´æŠ¤ä¸€ä¸ªç‹¬ç«‹çš„ã€ä¸ä¸å…¶ä»–çº¿ç¨‹å…±äº«çš„çŠ¶æ€æˆ–æ•°æ®ã€‚</li>
<li>åœ¨å¤„ç†ç”¨æˆ·è¯·æ±‚æ—¶ï¼Œå°†ç”¨æˆ·ç›¸å…³çš„ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·IDã€ä¼šè¯ä¿¡æ¯ç­‰ï¼‰ä¿å­˜åœ¨ThreadLocalä¸­ï¼Œä»¥ä¾¿åœ¨åŒä¸€ä¸ªè¯·æ±‚å¤„ç†æµç¨‹ä¸­æ–¹ä¾¿åœ°è®¿é—®è¿™äº›ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦é€šè¿‡å‚æ•°ä¼ é€’ã€‚</li>
</ul>
<h3 id="å†…å­˜æ³„æ¼ä¸å†…å­˜æº¢å‡ºçš„åŒºåˆ«"><a href="#å†…å­˜æ³„æ¼ä¸å†…å­˜æº¢å‡ºçš„åŒºåˆ«" class="headerlink" title="å†…å­˜æ³„æ¼ä¸å†…å­˜æº¢å‡ºçš„åŒºåˆ«"></a>å†…å­˜æ³„æ¼ä¸å†…å­˜æº¢å‡ºçš„åŒºåˆ«</h3><ul>
<li><strong>å†…å­˜æ³„æ¼</strong>ï¼šæŒ‡çš„æ˜¯ç¨‹åºä¸­åˆ†é…çš„å†…å­˜åœ¨ä¸å†éœ€è¦æ—¶æ²¡æœ‰è¢«æ­£ç¡®é‡Šæ”¾æˆ–å›æ”¶çš„æƒ…å†µã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¯ç”¨å†…å­˜é€æ¸å‡å°‘ï¼Œæœ€ç»ˆå¯èƒ½å¯¼è‡´ç¨‹åºæ€§èƒ½ä¸‹é™æˆ–å´©æºƒã€‚</li>
<li><strong>å†…å­˜æº¢å‡º</strong>ï¼ˆOOM, Out of Memoryï¼‰ï¼šå½“ç¨‹åºè¿è¡Œæ—¶ï¼Œå¦‚æœè¯·æ±‚çš„å†…å­˜è¶…å‡ºäº†å¯ç”¨å†…å­˜çš„é™åˆ¶ï¼Œå°±ä¼šæŠ›å‡ºå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‚å†…å­˜æ³„æ¼å¦‚æœä¸åŠæ—¶è§£å†³ï¼Œæœ€ç»ˆå¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºã€‚</li>
</ul>
<h3 id="ThreadLocalå†…å­˜æ³„æ¼é—®é¢˜"><a href="#ThreadLocalå†…å­˜æ³„æ¼é—®é¢˜" class="headerlink" title="ThreadLocalå†…å­˜æ³„æ¼é—®é¢˜"></a>ThreadLocalå†…å­˜æ³„æ¼é—®é¢˜</h3><p>ThreadLocalæ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºçº¿ç¨‹æœ¬åœ°å˜é‡çš„ç±»ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„ã€åˆå§‹åŒ–ä¸ºnullçš„å˜é‡å‰¯æœ¬ï¼Œè¿™äº›å˜é‡å¯¹å…¶ä»–çº¿ç¨‹æ˜¯ä¸å¯è§çš„ã€‚ç„¶è€Œï¼ŒThreadLocalçš„å†…å­˜æ³„æ¼é—®é¢˜æ˜¯ä¸€ä¸ªæ¯”è¾ƒå…¸å‹çš„é—®é¢˜ã€‚</p>
<h4 id="ThreadLocalå†…å­˜æ³„æ¼çš„æ¥æº"><a href="#ThreadLocalå†…å­˜æ³„æ¼çš„æ¥æº" class="headerlink" title="ThreadLocalå†…å­˜æ³„æ¼çš„æ¥æº"></a>ThreadLocalå†…å­˜æ³„æ¼çš„æ¥æº</h4><ol>
<li><p><strong>ThreadLocalå¯¹è±¡åœ¨å †ä¸Šå­˜å‚¨çš„ThreadLocalMap</strong>ï¼š</p>
<ul>
<li>ThreadLocalMapæ˜¯ThreadLocalçš„å†…éƒ¨ç±»ï¼Œç”¨äºå­˜å‚¨çº¿ç¨‹å±€éƒ¨å˜é‡ã€‚</li>
<li>ThreadLocalMapçš„keyæ˜¯ThreadLocalå¯¹è±¡ï¼Œvalueæ˜¯çº¿ç¨‹å˜é‡çš„å€¼ã€‚</li>
</ul>
</li>
<li><p><strong>ThreadLocalçš„å¼•ç”¨é“¾</strong>ï¼š</p>
<ul>
<li>ThreadLocalå¯¹è±¡æœ‰ä¸¤ä¸ªå¼•ç”¨æºï¼šä¸€ä¸ªæ˜¯æ ˆä¸Šçš„ThreadLocalå¼•ç”¨ï¼ˆæ–¹æ³•å†…åˆ›å»ºï¼‰ï¼Œä¸€ä¸ªæ˜¯ThreadLocalMapä¸­çš„keyå¯¹å®ƒçš„å¼•ç”¨ã€‚</li>
<li>å¦‚æœæ ˆä¸Šçš„ThreadLocalå¼•ç”¨ä¸å†ä½¿ç”¨ï¼ˆæ–¹æ³•ç»“æŸï¼‰ï¼Œä½†ThreadLocalå¯¹è±¡å› ä¸ºè¿˜æœ‰ThreadLocalMapä¸­çš„keyå¼•ç”¨è€Œæ— æ³•è¢«å›æ”¶ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</li>
</ul>
</li>
<li><p><strong>çº¿ç¨‹å¯¹è±¡è¢«é‡å¤ä½¿ç”¨</strong>ï¼š</p>
<ul>
<li>åœ¨çº¿ç¨‹æ± åœºæ™¯ä¸­ï¼Œçº¿ç¨‹å¯¹è±¡ä¼šè¢«é‡å¤ä½¿ç”¨ã€‚å¦‚æœçº¿ç¨‹ä¸­çš„ThreadLocalMapæ²¡æœ‰åŠæ—¶æ¸…ç†ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</li>
</ul>
</li>
</ol>
<h4 id="å¼±å¼•ç”¨è§£å†³éƒ¨åˆ†å†…å­˜æ³„æ¼é—®é¢˜"><a href="#å¼±å¼•ç”¨è§£å†³éƒ¨åˆ†å†…å­˜æ³„æ¼é—®é¢˜" class="headerlink" title="å¼±å¼•ç”¨è§£å†³éƒ¨åˆ†å†…å­˜æ³„æ¼é—®é¢˜"></a>å¼±å¼•ç”¨è§£å†³éƒ¨åˆ†å†…å­˜æ³„æ¼é—®é¢˜</h4><p>ä¸ºäº†è§£å†³ThreadLocalå¯¹è±¡å› ä¸ºThreadLocalMapä¸­çš„keyå¼•ç”¨è€Œæ— æ³•è¢«å›æ”¶çš„é—®é¢˜ï¼ŒThreadLocalMapä½¿ç”¨äº†å¼±å¼•ç”¨ã€‚</p>
<ul>
<li><strong>å¼±å¼•ç”¨</strong>ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡åªå…·æœ‰å¼±å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°±ä¼šåœ¨ä¸‹æ¬¡åƒåœ¾å›æ”¶æ—¶è¢«å›æ”¶ã€‚</li>
<li>åœ¨ThreadLocalMapä¸­ï¼Œkeyï¼ˆThreadLocalå¯¹è±¡ï¼‰æ˜¯å¼±å¼•ç”¨ã€‚è¿™æ„å‘³ç€ï¼Œå½“æ ˆä¸Šçš„ThreadLocalå¼•ç”¨ä¸å†ä½¿ç”¨æ—¶ï¼ŒThreadLocalå¯¹è±¡å¯ä»¥è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼Œä»è€Œé¿å…äº†å› ä¸ºThreadLocalå¯¹è±¡æ— æ³•è¢«å›æ”¶è€Œå¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<p>ç„¶è€Œï¼Œå³ä½¿ä½¿ç”¨äº†å¼±å¼•ç”¨ï¼ŒThreadLocalçš„å†…å­˜æ³„æ¼é—®é¢˜å¹¶æ²¡æœ‰å®Œå…¨è§£å†³ã€‚å› ä¸ºvalueï¼ˆçº¿ç¨‹å˜é‡çš„å€¼ï¼‰è¿˜æ˜¯å¼ºå¼•ç”¨ï¼Œå¦‚æœçº¿ç¨‹å¯¹è±¡è¢«é‡å¤ä½¿ç”¨ï¼ˆå¦‚åœ¨çº¿ç¨‹æ± ä¸­ï¼‰ï¼Œå¹¶ä¸”ThreadLocalMapæ²¡æœ‰åŠæ—¶æ¸…ç†ï¼Œé‚£ä¹ˆvalueæ‰€å ç”¨çš„å†…å­˜ä»ç„¶æ— æ³•è¢«å›æ”¶ã€‚å› æ­¤ï¼Œå¼€å‘è€…è¿˜éœ€è¦åœ¨ä½¿ç”¨å®ŒThreadLocalåï¼Œæ˜¾å¼åœ°è°ƒç”¨<code>remove()</code>æ–¹æ³•æ¥æ¸…ç†ThreadLocalMapä¸­çš„entryï¼Œä»¥é¿å…å†…å­˜æ³„æ¼ã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒThreadLocalçš„å†…å­˜æ³„æ¼é—®é¢˜æ˜¯ä¸€ä¸ªå¤æ‚çš„é—®é¢˜ï¼Œéœ€è¦å¼€å‘è€…å’ŒJDKå…±åŒè§£å†³ã€‚JDKé€šè¿‡ä½¿ç”¨å¼±å¼•ç”¨æ¥è§£å†³äº†ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œä½†å¼€å‘è€…è¿˜éœ€è¦åœ¨ä½¿ç”¨å®ŒThreadLocalåæ˜¾å¼åœ°è°ƒç”¨<code>remove()</code>æ–¹æ³•æ¥é¿å…å†…å­˜æ³„æ¼ã€‚<br>æ€»ä¹‹ï¼ŒThreadLocalæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å®ç°æ•°æ®çš„éš”ç¦»å’Œçº¿ç¨‹å®‰å…¨ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨æ—¶ä¹Ÿéœ€è¦æ³¨æ„å…¶æ½œåœ¨çš„å†…å­˜æ³„æ¼é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨çº¿ç¨‹æ± æ—¶ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F/" itemprop="url">åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">ç¬”è®°</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p><strong>ç»§æ‰¿<code>Thread</code>ç±»åˆ›å»ºçº¿ç¨‹</strong>ï¼š</p>
<ul>
<li>è¿™ç§æ–¹å¼æ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼Œè¯¥ç±»ç»§æ‰¿è‡ª<code>Thread</code>ç±»ï¼Œå¹¶é‡å†™<code>run</code>æ–¹æ³•ã€‚ç„¶åï¼Œé€šè¿‡åˆ›å»ºè¯¥ç±»çš„å®ä¾‹å¹¶è°ƒç”¨å…¶<code>start</code>æ–¹æ³•æ¥å¯åŠ¨çº¿ç¨‹ã€‚</li>
<li>ä¼˜ç‚¹ï¼šä»£ç ç®€å•ï¼Œæ˜“äºç†è§£ã€‚</li>
<li>ç¼ºç‚¹ï¼šç”±äºJavaæ˜¯å•ç»§æ‰¿çš„ï¼Œç»§æ‰¿<code>Thread</code>ç±»åå°±ä¸èƒ½å†ç»§æ‰¿å…¶ä»–ç±»äº†ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†ç±»çš„æ‰©å±•æ€§ã€‚</li>
</ul>
</li>
<li><p><strong>å®ç°<code>Runnable</code>æ¥å£åˆ›å»ºçº¿ç¨‹</strong>ï¼š</p>
<ul>
<li>è¿™ç§æ–¹å¼æ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªå®ç°äº†<code>Runnable</code>æ¥å£çš„ç±»ï¼Œå¹¶å®ç°å…¶<code>run</code>æ–¹æ³•ã€‚ç„¶åï¼Œå°†è¯¥ç±»çš„å®ä¾‹ä½œä¸ºå‚æ•°ä¼ é€’ç»™<code>Thread</code>ç±»çš„æ„é€ å™¨ï¼Œåˆ›å»º<code>Thread</code>å¯¹è±¡å¹¶è°ƒç”¨å…¶<code>start</code>æ–¹æ³•æ¥å¯åŠ¨çº¿ç¨‹ã€‚</li>
<li>ä¼˜ç‚¹ï¼šç”±äºJavaæ”¯æŒæ¥å£çš„å¤šå®ç°ï¼Œå› æ­¤è¿™ç§æ–¹å¼æ›´å…·çµæ´»æ€§ï¼Œå¯ä»¥ç»§æ‰¿å…¶ä»–ç±»å¹¶å®ç°<code>Runnable</code>æ¥å£ã€‚</li>
<li>ç¼ºç‚¹ï¼šç›¸å¯¹äºç»§æ‰¿<code>Thread</code>ç±»ï¼Œä»£ç ç¨æ˜¾å¤æ‚ã€‚</li>
</ul>
</li>
<li><p><strong>é€šè¿‡<code>Callable</code>å’Œ<code>FutureTask</code>åˆ›å»ºçº¿ç¨‹</strong>ï¼š</p>
<ul>
<li><code>Callable</code>æ¥å£ç±»ä¼¼äº<code>Runnable</code>æ¥å£ï¼Œä½†å®ƒå¯ä»¥è¿”å›ç»“æœå¹¶ä¸”å¯ä»¥æŠ›å‡ºå—æ£€å¼‚å¸¸ï¼ˆchecked exceptionï¼‰ã€‚</li>
<li><code>FutureTask</code>æ˜¯<code>Future</code>æ¥å£çš„ä¸€ä¸ªå®ç°ï¼Œå®ƒåŒ…è£…äº†ä¸€ä¸ª<code>Callable</code>å¯¹è±¡ï¼Œå¯ä»¥æäº¤ç»™<code>Executor</code>ï¼ˆå¦‚çº¿ç¨‹æ± ï¼‰æ¥æ‰§è¡Œã€‚</li>
<li>è¿™ç§æ–¹å¼é€šå¸¸ç”¨äºéœ€è¦è·å–çº¿ç¨‹æ‰§è¡Œç»“æœæˆ–å¤„ç†å—æ£€å¼‚å¸¸çš„åœºæ™¯ã€‚</li>
</ul>
</li>
<li><p><strong>é€šè¿‡çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹</strong>ï¼š</p>
<ul>
<li>çº¿ç¨‹æ± æ˜¯æå‰åˆ›å»ºå¥½ä¸€æ‰¹çº¿ç¨‹ï¼Œå¹¶ä¿å­˜åœ¨æ± ä¸­ã€‚å½“æœ‰ä»»åŠ¡éœ€è¦æ‰§è¡Œæ—¶ï¼Œä»æ± ä¸­å–å‡ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚è¿™ç§æ–¹å¼å¯ä»¥æ˜¾è‘—æé«˜èµ„æºçš„åˆ©ç”¨ç‡å’Œæ€§èƒ½ã€‚</li>
<li>Javaä¸­çš„<code>ExecutorService</code>æ¥å£æä¾›äº†ç®¡ç†çº¿ç¨‹æ± çš„æ–¹æ³•ï¼Œå¦‚<code>newFixedThreadPool</code>ã€<code>newCachedThreadPool</code>ç­‰ã€‚</li>
<li>ä¼˜ç‚¹ï¼šæé«˜èµ„æºåˆ©ç”¨ç‡ã€æ€§èƒ½ï¼›ç®€åŒ–çº¿ç¨‹ç®¡ç†ã€‚</li>
<li>ç¼ºç‚¹ï¼šå¢åŠ äº†ä»£ç çš„å¤æ‚æ€§ï¼›éœ€è¦åˆç†é…ç½®çº¿ç¨‹æ± çš„å¤§å°ä»¥é¿å…èµ„æºè€—å°½æˆ–æ€§èƒ½ä¸‹é™ã€‚</li>
</ul>
</li>
</ol>
<p>å…³äº<code>Runnable</code>å’Œ<code>Callable</code>çš„åŒºåˆ«ï¼š</p>
<ul>
<li><code>Runnable</code>çš„<code>run</code>æ–¹æ³•æ— è¿”å›å€¼ï¼Œè€Œ<code>Callable</code>çš„<code>call</code>æ–¹æ³•æœ‰è¿”å›å€¼ã€‚</li>
<li><code>Callable</code>ä¸­å¯ä»¥æŠ›å‡ºå—æ£€å¼‚å¸¸ï¼Œè€Œ<code>Runnable</code>ä¸å¯ä»¥ã€‚</li>
<li><code>Callable</code>å’Œ<code>Runnable</code>éƒ½å¯ä»¥åº”ç”¨äº<code>executors</code>ï¼ˆæ‰§è¡Œå™¨ï¼‰ï¼Œä½†<code>Thread</code>ç±»åªæ”¯æŒ<code>Runnable</code>ã€‚</li>
</ul>
<p>å…³äº<code>Future</code>å’Œ<code>FutureTask</code>ï¼š</p>
<ul>
<li><code>Future</code>æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä»£è¡¨äº†ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œçš„ç»“æœã€‚å®ƒæä¾›äº†æ£€æŸ¥æ‰§è¡Œæ˜¯å¦å®Œæˆã€ç­‰å¾…å®Œæˆå’Œè·å–æ‰§è¡Œç»“æœçš„æ–¹æ³•ã€‚</li>
<li><code>FutureTask</code>æ˜¯<code>Future</code>æ¥å£çš„ä¸€ä¸ªå®ç°ï¼Œå®ƒå®ç°äº†ä¸€ä¸ªå¯ä»¥æäº¤ç»™<code>Executor</code>æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¹¶ä¸”å¯ä»¥ç”¨æ¥æ£€æŸ¥ä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€å’Œè·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æœã€‚</li>
</ul>
<p>æœ€åï¼Œçº¿ç¨‹æ± æ˜¯æ± åŒ–æŠ€æœ¯çš„ä¸€ç§å…¸å‹å®ç°ï¼Œç”¨äºæé«˜èµ„æºçš„åˆ©ç”¨ç‡å’Œæ€§èƒ½ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œçº¿ç¨‹æ± é€šå¸¸ç”¨äºç®¡ç†å¤§é‡å¹¶å‘ä»»åŠ¡çš„æ‰§è¡Œã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/%E5%B9%B6%E5%8F%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/%E5%B9%B6%E5%8F%91/" itemprop="url">å¹¶å‘ç¬”è®°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">ç¬”è®°</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a>å¹¶å‘</h1><h2 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h2><h3 id="åŒä¸€æ—¶åˆ»åªèƒ½ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä»£ç å—"><a href="#åŒä¸€æ—¶åˆ»åªèƒ½ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä»£ç å—" class="headerlink" title="åŒä¸€æ—¶åˆ»åªèƒ½ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä»£ç å—"></a>åŒä¸€æ—¶åˆ»åªèƒ½ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä»£ç å—</h3><h3 id="å¯ä»¥ä¿®é¥°æ–¹æ³•å’Œä»£ç å—"><a href="#å¯ä»¥ä¿®é¥°æ–¹æ³•å’Œä»£ç å—" class="headerlink" title="å¯ä»¥ä¿®é¥°æ–¹æ³•å’Œä»£ç å—"></a>å¯ä»¥ä¿®é¥°æ–¹æ³•å’Œä»£ç å—</h3><h3 id="å¦‚ä½•å®ç°å¯è§æ€§é—®é¢˜"><a href="#å¦‚ä½•å®ç°å¯è§æ€§é—®é¢˜" class="headerlink" title="å¦‚ä½•å®ç°å¯è§æ€§é—®é¢˜"></a>å¦‚ä½•å®ç°å¯è§æ€§é—®é¢˜</h3><ul>
<li><p>å®ç°å¯è§æ€§çš„è¿‡ç¨‹</p>
<ul>
<li><p>è·å–äº’æ–¥é”</p>
</li>
<li><p>æ¸…ç©ºæœ¬åœ°ä»£ç ï¼Œå°†ä¸»å†…å­˜ä¸­çš„æœ€æ–°æ‹·è´åˆ°æœ¬åœ°å†…å­˜</p>
</li>
<li><p>å°†æ›´æ”¹åå…±äº«å˜é‡å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜</p>
</li>
<li><p>é‡Šæ”¾äº’æ–¥é”</p>
</li>
</ul>
</li>
</ul>
<h3 id="å¦‚ä½•å®ç°åŒæ­¥"><a href="#å¦‚ä½•å®ç°åŒæ­¥" class="headerlink" title="å¦‚ä½•å®ç°åŒæ­¥"></a>å¦‚ä½•å®ç°åŒæ­¥</h3><ul>
<li><p>éƒ½æ˜¯ä½¿ç”¨mointorenterå’Œmonitorexitä¸¤ä¸ªJVMæŒ‡ä»¤å®ç°</p>
</li>
<li><p>ä»€ä¹ˆæ˜¯ç®¡ç¨‹</p>
<ul>
<li><p>ç®¡ç†å…±äº«å˜é‡ä»¥åŠå¯¹å…±äº«å˜é‡æ“ä½œè¿‡ç¨‹ï¼Œä½¿å¾—æ”¯æŒå¹¶å‘</p>
</li>
<li><p>çº¿ç¨‹å¯ä»¥å¯¹monitoræ‰§è¡Œlockå’Œunlockæ“ä½œè¿›è¡ŒåŠ é”å’Œé‡Šæ”¾é”</p>
</li>
<li><p>è§£å†³äº’æ–¥é—®é¢˜çš„æ€è·¯ï¼šå°†å…±äº«å˜é‡åŠå¯¹å…±äº«å˜é‡çš„æ“ä½œç»Ÿä¸€å°è£…èµ·æ¥</p>
</li>
</ul>
</li>
</ul>
<h3 id="é”ä¼˜åŒ–"><a href="#é”ä¼˜åŒ–" class="headerlink" title="é”ä¼˜åŒ–"></a>é”ä¼˜åŒ–</h3><ul>
<li><p>åŒæ­¥é”çš„å››ç§çŠ¶æ€ï¼šæ— é”ã€åå‘é”ã€è½»é‡çº§é”ã€é‡é‡çº§é”</p>
</li>
<li><p>åå‘é”ï¼šä¸€ä¸ªçº¿ç¨‹åŠ é”</p>
</li>
<li><p>è½»é‡çº§é”ï¼šä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿è‡ªæ—‹</p>
</li>
<li><p>åŒæ­¥é”é”å®šèµ„æºæ˜¯å¯¹è±¡</p>
</li>
</ul>
<h2 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a>volatile</h2><h3 id="å¯è§æ€§ï¼šå¯¹å˜é‡çš„ä¿®æ”¹å¯¹æ‰€æœ‰çº¿ç¨‹å¯è§"><a href="#å¯è§æ€§ï¼šå¯¹å˜é‡çš„ä¿®æ”¹å¯¹æ‰€æœ‰çº¿ç¨‹å¯è§" class="headerlink" title="å¯è§æ€§ï¼šå¯¹å˜é‡çš„ä¿®æ”¹å¯¹æ‰€æœ‰çº¿ç¨‹å¯è§"></a>å¯è§æ€§ï¼šå¯¹å˜é‡çš„ä¿®æ”¹å¯¹æ‰€æœ‰çº¿ç¨‹å¯è§</h3><ul>
<li><p>å¯è§æ€§</p>
<ul>
<li>volatileåœ¨å†™æ“ä½œçš„æ—¶å€™ï¼ŒJVMä¼šå‘ä¸€æ¡lockå‰ç¼€çš„æŒ‡ä»¤ï¼Œå°†è¿™ä¸ªç¼“å­˜çš„å˜é‡ä¼šå†™åˆ°ç³»ç»Ÿä¸»å­˜ä¸­ï¼›å…¶ä»–çš„ä½¿ç”¨çš„æ—¶å€™ä¼šä»ä¸»å­˜è¯»å–æœ€æ–°çš„æ•°æ®ã€‚æ‰€ä»¥å¯è§</li>
</ul>
</li>
</ul>
<h3 id="å†…å­˜å±éšœï¼ˆMemory-Barrierï¼‰æ˜¯CPUçš„ä¸€ç§æŒ‡ä»¤ï¼Œç”¨äºæ§åˆ¶ç‰¹å®šæ¡ä»¶ä¸‹çš„é‡æ’åºå’Œå†…å­˜å¯è§æ€§é—®é¢˜ã€‚"><a href="#å†…å­˜å±éšœï¼ˆMemory-Barrierï¼‰æ˜¯CPUçš„ä¸€ç§æŒ‡ä»¤ï¼Œç”¨äºæ§åˆ¶ç‰¹å®šæ¡ä»¶ä¸‹çš„é‡æ’åºå’Œå†…å­˜å¯è§æ€§é—®é¢˜ã€‚" class="headerlink" title="å†…å­˜å±éšœï¼ˆMemory Barrierï¼‰æ˜¯CPUçš„ä¸€ç§æŒ‡ä»¤ï¼Œç”¨äºæ§åˆ¶ç‰¹å®šæ¡ä»¶ä¸‹çš„é‡æ’åºå’Œå†…å­˜å¯è§æ€§é—®é¢˜ã€‚"></a>å†…å­˜å±éšœï¼ˆMemory Barrierï¼‰æ˜¯CPUçš„ä¸€ç§æŒ‡ä»¤ï¼Œç”¨äºæ§åˆ¶ç‰¹å®šæ¡ä»¶ä¸‹çš„é‡æ’åºå’Œå†…å­˜å¯è§æ€§é—®é¢˜ã€‚</h3><p>Javaç¼–è¯‘å™¨ä¼šæ ¹æ®å†…å­˜å±éšœçš„è§„åˆ™ç¦æ­¢é‡æ’åº</p>
<ul>
<li><p>ä¸ºäº†ä¿éšœvolatileå˜é‡çš„å¯è§æ€§å’Œç¦æ­¢æŒ‡ä»¤é‡æ’åºï¼Œjavaåœ¨å­—èŠ‚ç ä¸­æ’å…¥å†…å­˜å±éšœå®ç°</p>
<ul>
<li><p>å†…å­˜å±éšœè§£å†³æŒ‡ä»¤é‡æ’</p>
<ul>
<li></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="æœ‰åºæ€§ï¼šç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œéµå¾ªhappens-beforeåŸåˆ™"><a href="#æœ‰åºæ€§ï¼šç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œéµå¾ªhappens-beforeåŸåˆ™" class="headerlink" title="æœ‰åºæ€§ï¼šç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œéµå¾ªhappens-beforeåŸåˆ™"></a>æœ‰åºæ€§ï¼šç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œéµå¾ªhappens-beforeåŸåˆ™</h3><h3 id="åŒé‡æ£€éªŒé”å¿…é¡»åŠ volatileï¼Œå› ä¸ºå†…å­˜å±éšœ"><a href="#åŒé‡æ£€éªŒé”å¿…é¡»åŠ volatileï¼Œå› ä¸ºå†…å­˜å±éšœ" class="headerlink" title="åŒé‡æ£€éªŒé”å¿…é¡»åŠ volatileï¼Œå› ä¸ºå†…å­˜å±éšœ"></a>åŒé‡æ£€éªŒé”å¿…é¡»åŠ volatileï¼Œå› ä¸ºå†…å­˜å±éšœ</h3><ul>
<li><p>åŒé‡æ ¡éªŒé”å®ç°ä¸€ä¸ªå•ä¾‹</p>
</li>
<li><p>å¦åˆ™ä¼šå‡ºç°ç©ºæŒ‡é’ˆ</p>
</li>
</ul>
<h3 id="å­˜åœ¨é—®é¢˜"><a href="#å­˜åœ¨é—®é¢˜" class="headerlink" title="å­˜åœ¨é—®é¢˜"></a>å­˜åœ¨é—®é¢˜</h3><ul>
<li><p>ä¸æ»¡è¶³åŸå­æ€§</p>
<ul>
<li><p>è§£å†³æ–¹æ³•</p>
<ul>
<li><p>ä½¿ç”¨syn</p>
</li>
<li><p>ä½¿ç”¨å¯é‡å…¥é”</p>
</li>
<li><p>ä½¿ç”¨åŸå­ç±»</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="ä¸synçš„åŒºåˆ«"><a href="#ä¸synçš„åŒºåˆ«" class="headerlink" title="ä¸synçš„åŒºåˆ«"></a>ä¸synçš„åŒºåˆ«</h3><ul>
<li><p>volatileä¸éœ€è¦åŠ é”ï¼Œä¸ä¼šé˜»å¡çº¿ç¨‹</p>
</li>
<li><p>volatileæ˜¯ä¸€ç§ç®€å•çš„åŒæ­¥æœºåˆ¶</p>
</li>
</ul>
<h2 id="JUC"><a href="#JUC" class="headerlink" title="JUC"></a>JUC</h2><h3 id="é”çš„åˆ†ç±»"><a href="#é”çš„åˆ†ç±»" class="headerlink" title="é”çš„åˆ†ç±»"></a>é”çš„åˆ†ç±»</h3><h3 id="CASï¼šä¸€æ¡CPUçš„åŸå­æŒ‡ä»¤ï¼Œå¯ä»¥ä¿è¯å…±äº«å˜é‡ä¿®æ”¹çš„åŸå­æ€§"><a href="#CASï¼šä¸€æ¡CPUçš„åŸå­æŒ‡ä»¤ï¼Œå¯ä»¥ä¿è¯å…±äº«å˜é‡ä¿®æ”¹çš„åŸå­æ€§" class="headerlink" title="CASï¼šä¸€æ¡CPUçš„åŸå­æŒ‡ä»¤ï¼Œå¯ä»¥ä¿è¯å…±äº«å˜é‡ä¿®æ”¹çš„åŸå­æ€§"></a>CASï¼šä¸€æ¡CPUçš„åŸå­æŒ‡ä»¤ï¼Œå¯ä»¥ä¿è¯å…±äº«å˜é‡ä¿®æ”¹çš„åŸå­æ€§</h3><ul>
<li><p>ä½¿ç”¨unsafeç±»å®ç°ï¼Œå…¶ä¸­éƒ½æ˜¯nativeæ–¹æ³•</p>
</li>
<li><p>æ ¹æ®å†…å­˜åç§»é‡æ‰¾åˆ°å¾…æ›´æ–°çš„åŸå€¼çš„å‡†ç¡®å†…å­˜åœ°å€ï¼Œä½¿ç”¨compareAndSwaplantå°†å¾…æ›´æ–°çš„å€¼å’Œé¢„æœŸå€¼è¿›è¡Œæ¯”è¾ƒ</p>
</li>
<li><p>CASç¼ºé™·</p>
<ul>
<li><p>å¾ªç¯æ—¶é—´å¤ªé•¿</p>
</li>
<li><p>åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡åŸå­æ“ä½œ</p>
</li>
<li><p>ABAé—®é¢˜</p>
<ul>
<li>è§£å†³æ–¹æ¡ˆï¼šAtomicStampedReferenceï¼ˆåŠ ä¸ªæ—¶é—´ä½œä¸ºç‰ˆæœ¬å·ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="é—®é¢˜ï¼šThread-çš„joinæ–¹æ³•"><a href="#é—®é¢˜ï¼šThread-çš„joinæ–¹æ³•" class="headerlink" title="é—®é¢˜ï¼šThread çš„joinæ–¹æ³•"></a>é—®é¢˜ï¼šThread çš„joinæ–¹æ³•</h3><h3 id="ä¸synçš„æ¯”è¾ƒ"><a href="#ä¸synçš„æ¯”è¾ƒ" class="headerlink" title="ä¸synçš„æ¯”è¾ƒ"></a>ä¸synçš„æ¯”è¾ƒ</h3><ul>
<li><p>synåœ¨ä»¥ä¸‹æƒ…å†µä¸‹é‡Šæ”¾é”</p>
<ul>
<li><p>çº¿ç¨‹æ‰§è¡Œå®Œé‡Šæ”¾</p>
</li>
<li><p>çº¿ç¨‹æ‰§è¡Œæ—¶å‘ç”Ÿå¼‚å¸¸ï¼ŒJVMä¼šè‡ªåŠ¨é‡Šæ”¾</p>
</li>
<li><p>é”æ–¹æ³•æ‰§è¡Œäº†waitæ–¹æ³•ï¼Œè¿›è¡Œé‡Šæ”¾é”</p>
</li>
</ul>
</li>
<li><p>synçš„é—®é¢˜</p>
<ul>
<li><p>æ— æ³•æ§åˆ¶é˜»å¡æ—¶é•¿â€”â€”&gt;JUC trylock()è§£å†³</p>
</li>
<li><p>é˜»å¡ä¸å¯ä¸­æ–­â€”â€”&gt;lockInterruptiblyè§£å†³</p>
</li>
<li><p>synä¸æ”¯æŒè¯»å†™é”åˆ†ç¦»â€”â€”&gt;JUCçš„ReentrantReadWriteLocké”</p>
</li>
</ul>
</li>
</ul>
<h3 id="AQS"><a href="#AQS" class="headerlink" title="AQS"></a>AQS</h3><ul>
<li><p>å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—+CAS+volatile</p>
<ul>
<li>ç»´æŠ¤ä¸€ä¸ªvolatileçš„intç±»å‹çš„stateå˜é‡ï¼Œstate&#x3D;1æ˜¯è·å–åˆ°é”ï¼›stateçš„å€¼å˜åŒ–æ˜¯ç”±CASå®Œæˆçš„</li>
</ul>
</li>
<li><p>å®ç°</p>
<ul>
<li><p>CASæ“ä½œæä¾›åŸå­æ€§é¿å…é”</p>
</li>
<li><p>volatileç¡®ä¿ä¿®æ”¹çš„å¯è§æ€§å’Œå†…å­˜æ“ä½œçš„æœ‰åºæ€§</p>
</li>
</ul>
</li>
</ul>
<h2 id="ThreadLocal"><a href="#ThreadLocal" class="headerlink" title="ThreadLocal"></a>ThreadLocal</h2><h3 id="è§£å†³å¹¶å‘é—®é¢˜ï¼Œåœ¨çº¿ç¨‹ä¸­ä¼ é€’æ•°æ®"><a href="#è§£å†³å¹¶å‘é—®é¢˜ï¼Œåœ¨çº¿ç¨‹ä¸­ä¼ é€’æ•°æ®" class="headerlink" title="è§£å†³å¹¶å‘é—®é¢˜ï¼Œåœ¨çº¿ç¨‹ä¸­ä¼ é€’æ•°æ®"></a>è§£å†³å¹¶å‘é—®é¢˜ï¼Œåœ¨çº¿ç¨‹ä¸­ä¼ é€’æ•°æ®</h3><h3 id="é€šè¿‡ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºä¸€ä»½å…±äº«å˜é‡çš„å‰¯æœ¬ä¿è¯å„ä¸ªçº¿ç¨‹ä¹‹é—´çš„å˜é‡è®¿é—®å’Œä¿®æ”¹äº’ä¸å½±å“"><a href="#é€šè¿‡ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºä¸€ä»½å…±äº«å˜é‡çš„å‰¯æœ¬ä¿è¯å„ä¸ªçº¿ç¨‹ä¹‹é—´çš„å˜é‡è®¿é—®å’Œä¿®æ”¹äº’ä¸å½±å“" class="headerlink" title="é€šè¿‡ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºä¸€ä»½å…±äº«å˜é‡çš„å‰¯æœ¬ä¿è¯å„ä¸ªçº¿ç¨‹ä¹‹é—´çš„å˜é‡è®¿é—®å’Œä¿®æ”¹äº’ä¸å½±å“"></a>é€šè¿‡ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºä¸€ä»½å…±äº«å˜é‡çš„å‰¯æœ¬ä¿è¯å„ä¸ªçº¿ç¨‹ä¹‹é—´çš„å˜é‡è®¿é—®å’Œä¿®æ”¹äº’ä¸å½±å“</h3><h3 id="å†…å­˜æ³„æ¼é—®é¢˜"><a href="#å†…å­˜æ³„æ¼é—®é¢˜" class="headerlink" title="å†…å­˜æ³„æ¼é—®é¢˜"></a>å†…å­˜æ³„æ¼é—®é¢˜</h3><ul>
<li><p>ä¸ºä»€ä¹ˆ</p>
<ul>
<li><p>key ThreadLocalçš„å¼•ç”¨ç¼˜</p>
<ul>
<li><p>æ ˆä¸Šçš„ThreadLocalå¼•ç”¨</p>
</li>
<li><p>ThreadLocalMapä¸­çš„keyå¯¹ä»–çš„å¼•ç”¨</p>
</li>
</ul>
</li>
<li><p>value</p>
<ul>
<li>å¼•ç”¨åªæœ‰ä¸€æ¡ï¼Œä»Threadè¿‡æ¥çš„å¼•ç”¨</li>
</ul>
</li>
<li><p>å‡ºç°çš„é—®é¢˜</p>
<ul>
<li><p>ThreadLocalæ ˆä¸Šçš„å¼•ç”¨ä¸è§äº†ï¼Œä½†æ˜¯Threadlocalå¯¹è±¡å› ä¸ºè¿˜æœ‰ä¸€ä¸ªå¼•ç”¨ï¼Œç´¢å¼•æ— æ³•å›æ”¶</p>
<ul>
<li>è§£å†³æ–¹æ³•ï¼šThreadLocalçš„keyæ”¹æˆå¼±å¼•ç”¨</li>
</ul>
</li>
<li><p>Threadå¯¹è±¡ä¸€ç›´è¢«ä½¿ç”¨ï¼Œæ— æ³•é‡Šæ”¾</p>
<ul>
<li>è§£å†³æ–¹æ³•ï¼šå¯¹äºvalueï¼ŒThreadä¸€ç›´æ²¡æœ‰é‡Šæ”¾ï¼Œåªæœ‰åœ¨ä¸€ä¸ªThreadLocalç”¨å®Œçš„æ—¶å€™ï¼Œæ‰‹åŠ¨è°ƒç”¨ä¸€ä¸‹removeæ–¹æ³•</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>è§£å†³</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/%E6%8E%92%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/%E6%8E%92%E5%BA%8F/" itemprop="url">Javaä¸­å‡ ç§é›†åˆçš„æ’åºæ–¹å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>åŒ…æ‹¬å®ç°Comparableæ¥å£ã€å€ŸåŠ©Comparatoræ¯”è¾ƒå™¨è¿›è¡Œæ’åºï¼Œä»¥åŠé€šè¿‡Stream APIè¿›è¡Œæ’åºã€‚åŒæ—¶è¿˜è§£é‡Šäº†Comparableå’ŒComparatorçš„åŒºåˆ«ã€compareToå’Œequalsçš„ä½¿ç”¨åœºæ™¯å·®å¼‚ï¼Œä»¥åŠSeté›†åˆçš„æ’åºé—®é¢˜ã€‚</li>
</ul>
<ol>
<li><strong>å®ç°Comparableæ¥å£</strong>ï¼š<ul>
<li>Javaä¸­çš„ç±»å¯ä»¥é€šè¿‡å®ç°Comparableæ¥å£æ¥å…·å¤‡æ’åºèƒ½åŠ›ã€‚</li>
<li>å®ç°Comparableæ¥å£çš„ç±»éœ€è¦é‡å†™compareToæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®šä¹‰äº†å¯¹è±¡çš„æ’åºè§„åˆ™ã€‚</li>
<li>ä¾‹å¦‚ï¼Œå­¦ç”Ÿç±»ï¼ˆStudentï¼‰å¯ä»¥å®ç°Comparableæ¥å£ï¼Œå¹¶æŒ‰ç…§å§“åå’Œå¹´é¾„è¿›è¡Œæ’åºã€‚</li>
</ul>
</li>
<li><strong>å€ŸåŠ©Comparatoræ¯”è¾ƒå™¨è¿›è¡Œæ’åº</strong>ï¼š<ul>
<li>å½“ç±»æœ¬èº«æ²¡æœ‰å®ç°Comparableæ¥å£ï¼Œæˆ–è€…éœ€è¦ä¸åŒçš„æ’åºè§„åˆ™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Comparatoræ¥å£ã€‚</li>
<li>Comparatoræ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå¯ä»¥ç‹¬ç«‹äºåŸç±»ä¹‹å¤–å®šä¹‰æ’åºé€»è¾‘ã€‚</li>
<li>ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨Comparatorå¯¹å­¦ç”Ÿå¯¹è±¡æŒ‰ç…§å§“åå’Œå¹´é¾„è¿›è¡Œæ’åºã€‚</li>
</ul>
</li>
<li><strong>é€šè¿‡Stream APIè¿›è¡Œæ’åº</strong>ï¼š<ul>
<li>Java 8å¼•å…¥äº†Stream APIï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¯¹é›†åˆè¿›è¡Œæ’åºæ“ä½œã€‚</li>
<li>Stream APIçš„sortedæ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªComparatorä½œä¸ºå‚æ•°æ¥è¿›è¡Œæ’åºã€‚</li>
<li>ä¾‹å¦‚ï¼Œä½¿ç”¨Streamå¯¹å­¦ç”Ÿåˆ—è¡¨è¿›è¡Œæ’åºï¼Œå¯ä»¥ç®€åŒ–æ’åºçš„ä»£ç ã€‚</li>
</ul>
</li>
<li><strong>Comparableä¸Comparatorçš„åŒºåˆ«</strong>ï¼š<ul>
<li>Comparableç”¨äºä½¿ç±»æœ¬èº«å…·å¤‡æ’åºèƒ½åŠ›ï¼Œé€šè¿‡å®ç°compareToæ–¹æ³•å®ç°ã€‚</li>
<li>Comparatoræ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¯”è¾ƒå™¨ï¼Œå¯ä»¥ä¸ºä¸å…·å¤‡æ’åºèƒ½åŠ›çš„ç±»æä¾›æ’åºé€»è¾‘ï¼Œæˆ–è€…æä¾›ä¸åŒçš„æ’åºè§„åˆ™ã€‚</li>
</ul>
</li>
<li><strong>compareToä¸equalsçš„ä½¿ç”¨åœºæ™¯</strong>ï¼š<ul>
<li>compareToä¸»è¦ç”¨äºæ’åºå’Œæ•°å€¼æ¯”è¾ƒï¼Œå¦‚BigDecimalçš„æ¯”è¾ƒã€‚</li>
<li>equalsä¸»è¦ç”¨äºåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡åœ¨ä¸šåŠ¡è¯­ä¹‰ä¸Šæ˜¯å¦ç›¸åŒï¼Œå¦‚Stringçš„æ¯”è¾ƒé€šå¸¸ä½¿ç”¨equalsæ¥åˆ¤æ–­å­—é¢æ„ä¹‰æ˜¯å¦ç›¸åŒã€‚</li>
</ul>
</li>
<li><strong>Seté›†åˆçš„æ’åºé—®é¢˜</strong>ï¼š<ul>
<li>Seté›†åˆæœ¬èº«æ˜¯æ— åºçš„ï¼Œå³å…ƒç´ çš„æ’å…¥é¡ºåºä¸ä¿è¯ã€‚</li>
<li>ä½†æ˜¯ï¼ŒSortedSetæ¥å£å¯ä»¥ä¿è¯å…ƒç´ çš„æ’åºï¼Œé€šè¿‡è¦æ±‚å…ƒç´ å®ç°Comparableæ¥å£æ¥å®ç°ã€‚</li>
<li>LinkedHashSetç±»é€šè¿‡åŒå‘é“¾è¡¨è®°å½•æ’å…¥é¡ºåºï¼Œå®ç°äº†æ’å…¥æœ‰åºçš„Setã€‚</li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/%E6%AD%BB%E9%94%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/%E6%AD%BB%E9%94%81/" itemprop="url">æ­»é”</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">ç¬”è®°</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æ­»é”çš„å®šä¹‰"><a href="#æ­»é”çš„å®šä¹‰" class="headerlink" title="æ­»é”çš„å®šä¹‰"></a>æ­»é”çš„å®šä¹‰</h2><p>æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹ï¼ˆæˆ–çº¿ç¨‹ï¼‰åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› ç«äº‰èµ„æºæˆ–å½¼æ­¤é€šä¿¡è€Œé€ æˆçš„ä¸€ç§é˜»å¡ç°è±¡ã€‚å½“è¿™äº›è¿›ç¨‹éƒ½åœ¨ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºæ—¶ï¼Œå°±ä¼šå½¢æˆä¸€ä¸ªæ— æ³•æ‰“ç ´çš„åƒµå±€ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•ç»§ç»­æ‰§è¡Œã€‚æ­¤æ—¶ï¼Œç³»ç»Ÿå¤„äºæ­»é”çŠ¶æ€ã€‚</p>
<h3 id="äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶"><a href="#äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶" class="headerlink" title="äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶"></a>äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶</h3><ol>
<li><strong>äº’æ–¥æ¡ä»¶</strong>ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚</li>
<li><strong>å æœ‰ä¸”ç­‰å¾…</strong>ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚</li>
<li><strong>ä¸å¯æŠ¢å </strong>ï¼šè¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚</li>
<li><strong>å¾ªç¯ç­‰å¾…æ¡ä»¶</strong>ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚</li>
</ol>
<h3 id="å¦‚ä½•è§£å†³æ­»é”"><a href="#å¦‚ä½•è§£å†³æ­»é”" class="headerlink" title="å¦‚ä½•è§£å†³æ­»é”"></a>å¦‚ä½•è§£å†³æ­»é”</h3><p>è§£å†³æ­»é”çš„æ–¹æ³•ä¸»è¦åˆ†ä¸ºé¢„é˜²æ­»é”ã€é¿å…æ­»é”ã€æ£€æµ‹æ­»é”å’Œè§£é™¤æ­»é”å››ç§ã€‚</p>
<ol>
<li><p><strong>é¢„é˜²æ­»é”</strong>ï¼š</p>
<ul>
<li>ç ´åäº’æ–¥æ¡ä»¶ï¼šå…è®¸èµ„æºè¢«å¤šä¸ªè¿›ç¨‹åŒæ—¶è®¿é—®ï¼ˆä½†æŸäº›èµ„æºå¯èƒ½æ— æ³•è¿™æ ·åšï¼‰ã€‚</li>
<li>ç ´åå æœ‰ä¸”ç­‰å¾…æ¡ä»¶ï¼šè¦æ±‚è¿›ç¨‹ä¸€æ¬¡æ€§ç”³è¯·æ‰€æœ‰æ‰€éœ€èµ„æºï¼Œæˆ–è€…å…è®¸è¿›ç¨‹åœ¨æŒæœ‰èµ„æºçš„åŒæ—¶ç”³è¯·å…¶ä»–èµ„æºï¼ˆä½†å¯èƒ½é™ä½ç³»ç»Ÿæ•ˆç‡ï¼‰ã€‚</li>
<li>ç ´åä¸å¯æŠ¢å æ¡ä»¶ï¼šå…è®¸è¿›ç¨‹è¢«æŠ¢å å·²åˆ†é…çš„èµ„æºï¼ˆä½†å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ç­‰é—®é¢˜ï¼‰ã€‚</li>
<li>ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šå¯¹èµ„æºç¼–å·ï¼Œè¦æ±‚è¿›ç¨‹æŒ‰ç¼–å·é¡ºåºç”³è¯·èµ„æºï¼ˆä½†å¯èƒ½å¢åŠ èµ„æºç®¡ç†çš„å¤æ‚æ€§ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>é¿å…æ­»é”</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨é“¶è¡Œå®¶ç®—æ³•ç­‰ç®—æ³•æ¥åŠ¨æ€åœ°æ£€æŸ¥èµ„æºåˆ†é…çš„å®‰å…¨æ€§ï¼Œç¡®ä¿ç³»ç»Ÿä¸ä¼šè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ã€‚</li>
<li>åœ¨èµ„æºåˆ†é…è¿‡ç¨‹ä¸­ï¼Œé‡‡ç”¨èµ„æºé¢„åˆ†é…ç­–ç•¥æˆ–èµ„æºæŒ‰éœ€åˆ†é…ç­–ç•¥ï¼Œå¹¶ç›‘æ§ç³»ç»Ÿçš„èµ„æºä½¿ç”¨æƒ…å†µã€‚</li>
</ul>
</li>
<li><p><strong>æ£€æµ‹æ­»é”</strong>ï¼š</p>
<ul>
<li>å®šæœŸæ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å­˜åœ¨æ­»é”ç°è±¡ï¼Œå¦‚ä½¿ç”¨èµ„æºåˆ†é…å›¾ç­‰æ–¹æ³•ã€‚</li>
<li>ä¸€æ—¦å‘ç°æ­»é”ï¼Œç«‹å³é‡‡å–æªæ–½è¿›è¡Œè§£é™¤ã€‚</li>
</ul>
</li>
<li><p><strong>è§£é™¤æ­»é”</strong>ï¼š</p>
<ul>
<li>ç»ˆæ­¢ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼Œä»¥æ‰“ç ´å¾ªç¯ç­‰å¾…æ¡ä»¶ã€‚</li>
<li>å›æ»šåˆ°å®‰å…¨çŠ¶æ€ï¼Œé‡æ–°åˆ†é…èµ„æºã€‚</li>
<li>åœ¨æ•°æ®åº“ç³»ç»Ÿä¸­ï¼Œå¯ä»¥é‡‡ç”¨è‡ªåŠ¨å›æ»šäº‹åŠ¡ã€é‡å¯äº‹åŠ¡ç­‰æ–¹æ³•æ¥è§£é™¤æ­»é”ã€‚</li>
</ul>
</li>
</ol>
<h3 id="æ•°æ®åº“æ­»é”çš„å‘ç”Ÿä¸è§£å†³"><a href="#æ•°æ®åº“æ­»é”çš„å‘ç”Ÿä¸è§£å†³" class="headerlink" title="æ•°æ®åº“æ­»é”çš„å‘ç”Ÿä¸è§£å†³"></a>æ•°æ®åº“æ­»é”çš„å‘ç”Ÿä¸è§£å†³</h3><p>åœ¨æ•°æ®åº“ä¸­ï¼Œæ­»é”é€šå¸¸å‘ç”Ÿåœ¨å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ã€‚å½“äº‹åŠ¡AæŒæœ‰èµ„æºAçš„é”å¹¶å°è¯•è·å–èµ„æºBçš„é”æ—¶ï¼Œè€Œäº‹åŠ¡BæŒæœ‰èµ„æºBçš„é”å¹¶å°è¯•è·å–èµ„æºAçš„é”æ—¶ï¼Œå°±ä¼šå‘ç”Ÿæ­»é”ã€‚</p>
<p>è§£å†³æ•°æ®åº“æ­»é”çš„æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li>é¿å…å¹¶å‘ä¿®æ”¹ï¼šå°½é‡å‡å°‘å¤šä¸ªäº‹åŠ¡å¯¹åŒä¸€èµ„æºçš„å¹¶å‘è®¿é—®ã€‚</li>
<li>ä¿è¯æ“ä½œé¡ºåºï¼šç¡®ä¿å¤šä¸ªäº‹åŠ¡æŒ‰ç…§ç›¸åŒçš„é¡ºåºè®¿é—®èµ„æºã€‚</li>
<li>ä½¿ç”¨é”è¶…æ—¶æœºåˆ¶ï¼šè®¾ç½®é”çš„è¶…æ—¶æ—¶é—´ï¼Œå½“äº‹åŠ¡æŒæœ‰é”è¶…è¿‡ä¸€å®šæ—¶é—´æ—¶è‡ªåŠ¨é‡Šæ”¾é”ã€‚</li>
<li>ä½¿ç”¨ä¹è§‚é”æˆ–æ‚²è§‚é”ç­‰é”ç­–ç•¥æ¥ç®¡ç†èµ„æºè®¿é—®ã€‚</li>
</ul>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ­»é”æ˜¯å¹¶å‘ç³»ç»Ÿä¸­å¸¸è§çš„é—®é¢˜ä¹‹ä¸€ã€‚é€šè¿‡ç†è§£æ­»é”çš„äº§ç”Ÿæ¡ä»¶ã€æŒæ¡è§£å†³æ­»é”çš„æ–¹æ³•ä»¥åŠåˆç†è®¾è®¡èµ„æºè®¿é—®ç­–ç•¥ï¼Œå¯ä»¥æœ‰æ•ˆåœ°é¢„é˜²å’Œè§£å†³æ­»é”é—®é¢˜ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/%E7%BA%BF%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/%E7%BA%BF%E7%A8%8B/" itemprop="url">çº¿ç¨‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">ç¬”è®°</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="çº¿ç¨‹çŠ¶æ€çš„è¯¦ç»†è§£é‡Š"><a href="#çº¿ç¨‹çŠ¶æ€çš„è¯¦ç»†è§£é‡Š" class="headerlink" title="çº¿ç¨‹çŠ¶æ€çš„è¯¦ç»†è§£é‡Š"></a>çº¿ç¨‹çŠ¶æ€çš„è¯¦ç»†è§£é‡Š</h3><ol>
<li><p><strong>åˆå§‹(NEW)</strong></p>
<p>çº¿ç¨‹å¯¹è±¡è¢«åˆ›å»ºï¼Œä½†å°šæœªè°ƒç”¨<code>start()</code>æ–¹æ³•ã€‚æ­¤æ—¶çº¿ç¨‹è¿˜æœªå¼€å§‹æ‰§è¡Œï¼Œåªæ˜¯ä½œä¸ºä¸€ä¸ªå¯¹è±¡å­˜åœ¨äºå†…å­˜ä¸­ã€‚</p>
</li>
<li><p><strong>è¿è¡Œ(RUNNABLE)</strong></p>
<ul>
<li><strong>å°±ç»ª(READY)</strong>: çº¿ç¨‹å¯¹è±¡åˆ›å»ºåï¼Œé€šè¿‡è°ƒç”¨<code>start()</code>æ–¹æ³•å¯åŠ¨ã€‚æ­¤æ—¶çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œç­‰å¾…æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ï¼Œä»¥è·å–CPUæ—¶é—´ç‰‡ã€‚</li>
<li><strong>è¿è¡Œä¸­(RUNNING)</strong>: å½“å°±ç»ªçŠ¶æ€çš„çº¿ç¨‹è·å¾—CPUæ—¶é—´ç‰‡æ—¶ï¼Œå¼€å§‹æ‰§è¡Œç¨‹åºä»£ç ï¼Œè¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚</li>
</ul>
<p>åœ¨Javaä¸­ï¼Œç”±äºå°±ç»ªå’Œè¿è¡ŒçŠ¶æ€çš„åˆ‡æ¢éå¸¸é¢‘ç¹ï¼Œä¸”éš¾ä»¥å‡†ç¡®åŒºåˆ†ï¼Œå› æ­¤å°†ä¸¤è€…ç»Ÿç§°ä¸ºâ€œè¿è¡Œ(RUNNABLE)â€çŠ¶æ€ã€‚</p>
</li>
<li><p><strong>é˜»å¡(BLOCKED)</strong></p>
<p>çº¿ç¨‹å°è¯•è·å–æŸä¸ªå¯¹è±¡çš„é”ï¼ˆå¦‚é€šè¿‡<code>synchronized</code>å…³é”®å­—ï¼‰ï¼Œä½†é”å·²è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ã€‚æ­¤æ—¶çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œç›´åˆ°é”è¢«é‡Šæ”¾å¹¶æˆåŠŸè·å–ã€‚</p>
</li>
<li><p><strong>ç­‰å¾…(WAITING)</strong></p>
<p>çº¿ç¨‹é€šè¿‡è°ƒç”¨<code>Object</code>ç±»çš„<code>wait()</code>æ–¹æ³•æˆ–å…¶ä»–ç­‰å¾…æ–¹æ³•ï¼ˆå¦‚<code>Condition</code>çš„<code>await()</code>æ–¹æ³•ï¼‰è¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚æ­¤æ—¶çº¿ç¨‹éœ€è¦ç­‰å¾…å…¶ä»–çº¿ç¨‹çš„é€šçŸ¥ï¼ˆé€šè¿‡<code>notify()</code>æˆ–<code>notifyAll()</code>æ–¹æ³•ï¼‰æˆ–ä¸­æ–­æ¥å”¤é†’ã€‚</p>
</li>
<li><p><strong>è¶…æ—¶ç­‰å¾…(TIMED_WAITING)</strong></p>
<p>çº¿ç¨‹é€šè¿‡è°ƒç”¨å¸¦æœ‰è¶…æ—¶å‚æ•°çš„ç­‰å¾…æ–¹æ³•ï¼ˆå¦‚<code>Thread.sleep(long millis)</code>ã€<code>Object.wait(long timeout)</code>ç­‰ï¼‰è¿›å…¥è¶…æ—¶ç­‰å¾…çŠ¶æ€ã€‚æ­¤æ—¶çº¿ç¨‹åœ¨æŒ‡å®šçš„æ—¶é—´å†…ç­‰å¾…ï¼Œå¦‚æœè¶…æ—¶æ—¶é—´åˆ°è¾¾æˆ–æ”¶åˆ°å…¶ä»–çº¿ç¨‹çš„é€šçŸ¥ï¼Œåˆ™çº¿ç¨‹ä¼šè¢«å”¤é†’ã€‚</p>
</li>
<li><p><strong>ç»ˆæ­¢(TERMINATED)</strong></p>
<p>çº¿ç¨‹æ‰§è¡Œå®Œæ¯•æˆ–ç”±äºå¼‚å¸¸ç­‰åŸå› ç»ˆæ­¢æ‰§è¡Œï¼Œè¿›å…¥ç»ˆæ­¢çŠ¶æ€ã€‚æ­¤æ—¶çº¿ç¨‹ä¸å†å ç”¨ç³»ç»Ÿèµ„æºã€‚</p>
</li>
</ol>
<h3 id="çŠ¶æ€æµè½¬çš„ç»†åŒ–"><a href="#çŠ¶æ€æµè½¬çš„ç»†åŒ–" class="headerlink" title="çŠ¶æ€æµè½¬çš„ç»†åŒ–"></a>çŠ¶æ€æµè½¬çš„ç»†åŒ–</h3><ul>
<li>ä»<strong>åˆå§‹(NEW)<strong>åˆ°</strong>è¿è¡Œ(RUNNABLE)</strong>: è°ƒç”¨<code>start()</code>æ–¹æ³•ã€‚</li>
<li>ä»<strong>è¿è¡Œ(RUNNABLE)<strong>åˆ°</strong>é˜»å¡(BLOCKED)</strong>: å°è¯•è·å–é”å¤±è´¥ã€‚</li>
<li>ä»<strong>é˜»å¡(BLOCKED)<strong>åˆ°</strong>è¿è¡Œ(RUNNABLE)</strong>: æˆåŠŸè·å–é”ã€‚</li>
<li>ä»<strong>è¿è¡Œ(RUNNABLE)<strong>åˆ°</strong>ç­‰å¾…(WAITING)</strong>: è°ƒç”¨<code>wait()</code>ç­‰æ–¹æ³•ã€‚</li>
<li>ä»<strong>ç­‰å¾…(WAITING)<strong>åˆ°</strong>è¿è¡Œ(RUNNABLE)</strong>: æ”¶åˆ°å…¶ä»–çº¿ç¨‹çš„é€šçŸ¥æˆ–ä¸­æ–­ã€‚</li>
<li>ä»<strong>è¿è¡Œ(RUNNABLE)<strong>åˆ°</strong>è¶…æ—¶ç­‰å¾…(TIMED_WAITING)</strong>: è°ƒç”¨å¸¦æœ‰è¶…æ—¶å‚æ•°çš„ç­‰å¾…æ–¹æ³•ã€‚</li>
<li>ä»<strong>è¶…æ—¶ç­‰å¾…(TIMED_WAITING)<strong>åˆ°</strong>è¿è¡Œ(RUNNABLE)</strong>: è¶…æ—¶æ—¶é—´åˆ°è¾¾æˆ–æ”¶åˆ°å…¶ä»–çº¿ç¨‹çš„é€šçŸ¥ã€‚</li>
<li>ä»<strong>è¿è¡Œ(RUNNABLE)<strong>åˆ°</strong>ç»ˆæ­¢(TERMINATED)</strong>: çº¿ç¨‹æ‰§è¡Œå®Œæ¯•æˆ–å¼‚å¸¸ç»ˆæ­¢ã€‚</li>
</ul>
<h3 id="å…³äºRUNNINGçŠ¶æ€çš„ç¼ºå¤±"><a href="#å…³äºRUNNINGçŠ¶æ€çš„ç¼ºå¤±" class="headerlink" title="å…³äºRUNNINGçŠ¶æ€çš„ç¼ºå¤±"></a>å…³äºRUNNINGçŠ¶æ€çš„ç¼ºå¤±</h3><p>å¦‚ä½ æ‰€è¿°ï¼Œç”±äºCPUæ—¶é—´ç‰‡çš„åˆ†é…å’Œçº¿ç¨‹çŠ¶æ€çš„é¢‘ç¹åˆ‡æ¢ï¼Œå¾ˆéš¾å‡†ç¡®åŒºåˆ†çº¿ç¨‹æ˜¯å¤„äºå°±ç»ªçŠ¶æ€è¿˜æ˜¯è¿è¡ŒçŠ¶æ€ã€‚å› æ­¤ï¼ŒJavaå°†ä¸¤è€…ç»Ÿç§°ä¸ºâ€œè¿è¡Œ(RUNNABLE)â€çŠ¶æ€ï¼Œä»¥è¡¨ç¤ºçº¿ç¨‹å½“å‰æ˜¯å¯æ‰§è¡Œçš„ï¼Œåªè¦è·å¾—CPUæ—¶é—´ç‰‡å°±èƒ½ç«‹å³æ‰§è¡Œã€‚</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>äº†è§£çº¿ç¨‹çš„çŠ¶æ€åŠå…¶æµè½¬å¯¹äºç¼–å†™é«˜æ•ˆã€å¯é çš„å¹¶å‘ç¨‹åºè‡³å…³é‡è¦ã€‚é€šè¿‡åˆç†ç®¡ç†çº¿ç¨‹çŠ¶æ€ï¼Œå¯ä»¥ç¡®ä¿ç¨‹åºçš„æ­£ç¡®æ€§å’Œæ€§èƒ½ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2024/10/10/%E7%BA%BF%E7%A8%8B%E6%B1%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/10/%E7%BA%BF%E7%A8%8B%E6%B1%A0/" itemprop="url">çº¿ç¨‹æ± </a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2024-10-10T17:33:00+00:00">
                2024-10-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2024-11-18T08:48:47+00:00">
                2024-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">ç¬”è®°</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>çº¿ç¨‹æ± çš„è§£é‡Šä¸å®ç°åŸç†</strong></p>
<p><strong>ä¸€ã€çº¿ç¨‹æ± çš„æ¦‚å¿µ</strong></p>
<p>çº¿ç¨‹æ± æ˜¯æ± åŒ–æŠ€æœ¯çš„ä¸€ç§å…¸å‹å®ç°ï¼Œæ‰€è°“æ± åŒ–æŠ€æœ¯å°±æ˜¯æå‰ä¿å­˜å¤§é‡çš„èµ„æºï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚åœ¨æœºå™¨èµ„æºæœ‰é™çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ± åŒ–æŠ€æœ¯å¯ä»¥å¤§å¤§æé«˜èµ„æºçš„åˆ©ç”¨ç‡ï¼Œæå‡æ€§èƒ½ç­‰ã€‚çº¿ç¨‹æ± ï¼Œå³æå‰åˆ›å»ºå¥½ä¸€æ‰¹çº¿ç¨‹ï¼Œå¹¶ä¿å­˜åœ¨çº¿ç¨‹æ± ä¸­ã€‚å½“æœ‰ä»»åŠ¡éœ€è¦æ‰§è¡Œæ—¶ï¼Œä»çº¿ç¨‹æ± ä¸­é€‰ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚è¿™æ ·å¯ä»¥é¿å…é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„æ•ˆç‡å’Œå“åº”é€Ÿåº¦ã€‚</p>
<p><strong>äºŒã€çº¿ç¨‹æ± çš„å®ç°</strong></p>
<ol>
<li><p><strong>Javaä¸­çš„çº¿ç¨‹æ± </strong></p>
<p>Javaä¸­çš„çº¿ç¨‹æ± é€šè¿‡å®ç°<code>ExecutorService</code>æ¥å£æ¥æä¾›çº¿ç¨‹æ± çš„åŠŸèƒ½ã€‚<code>Executors</code>ç±»æä¾›äº†å‡ ç§åˆ›å»ºçº¿ç¨‹æ± çš„æ–¹æ³•ï¼Œå¦‚<code>newFixedThreadPool(int Threads)</code>åˆ›å»ºå›ºå®šæ•°ç›®çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œ<code>newCachedThreadPool()</code>åˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çš„çº¿ç¨‹æ± ï¼Œ<code>newSingleThreadExecutor()</code>åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„Executorï¼Œä»¥åŠ<code>newScheduledThreadPool(int corePoolSize)</code>åˆ›å»ºä¸€ä¸ªæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§çš„ä»»åŠ¡æ‰§è¡Œçš„çº¿ç¨‹æ± ã€‚</p>
</li>
<li><p><strong>çº¿ç¨‹æ± çš„ä¸»è¦å‚æ•°</strong></p>
<ul>
<li><code>corePoolSize</code>ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°é‡ï¼Œå¯ä»¥ç±»æ¯”ä¸ºæ­£å¼å‘˜å·¥æ•°é‡ï¼Œå¸¸é©»çº¿ç¨‹æ•°é‡ã€‚</li>
<li><code>maximumPoolSize</code>ï¼šæœ€å¤§çš„çº¿ç¨‹æ•°é‡ï¼Œå…¬å¸æœ€å¤šé›‡ä½£å‘˜å·¥æ•°é‡ï¼ŒåŒ…æ‹¬å¸¸é©»å’Œä¸´æ—¶çº¿ç¨‹æ•°é‡ã€‚</li>
<li><code>workQueue</code>ï¼šå¤šä½™ä»»åŠ¡ç­‰å¾…é˜Ÿåˆ—ï¼Œå½“ä»»åŠ¡æ•°é‡è¶…è¿‡å½“å‰çº¿ç¨‹å¤„ç†èƒ½åŠ›æ—¶ï¼Œä»»åŠ¡ä¼šæ”¾å…¥æ­¤é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œã€‚</li>
<li><code>keepAliveTime</code>ï¼šéæ ¸å¿ƒçº¿ç¨‹ç©ºé—²æ—¶é—´ï¼Œå³å¤–åŒ…äººå‘˜ç­‰å¾…ä»»åŠ¡çš„æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´è¿˜æ²¡æœ‰ä»»åŠ¡æ‰§è¡Œï¼Œåˆ™ä¼šè¢«é”€æ¯ã€‚</li>
<li><code>threadFactory</code>ï¼šåˆ›å»ºçº¿ç¨‹çš„å·¥å‚ï¼Œå¯ä»¥åœ¨è¿™é‡Œç»Ÿä¸€è®¾ç½®åˆ›å»ºçš„çº¿ç¨‹çš„å±æ€§ã€‚</li>
<li><code>handler</code>ï¼šçº¿ç¨‹æ± æ‹’ç»ç­–ç•¥ï¼Œå½“ä»»åŠ¡æ•°é‡è¶…è¿‡çº¿ç¨‹æ± çš„å¤„ç†èƒ½åŠ›ï¼ˆåŒ…æ‹¬æ ¸å¿ƒçº¿ç¨‹ã€æœ€å¤§çº¿ç¨‹å’Œä»»åŠ¡é˜Ÿåˆ—ï¼‰æ—¶ï¼Œä¼šæ‰§è¡Œæ­¤ç­–ç•¥ï¼Œé»˜è®¤æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚</li>
</ul>
</li>
<li><p><strong>çº¿ç¨‹æ± çš„å·¥ä½œåŸç†</strong></p>
<p>çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p>
<ul>
<li>å½“æœ‰ä»»åŠ¡æäº¤åˆ°çº¿ç¨‹æ± æ—¶ï¼Œé¦–å…ˆåˆ¤æ–­å½“å‰çº¿ç¨‹æ•°é‡æ˜¯å¦å°äºæ ¸å¿ƒçº¿ç¨‹æ•°é‡ã€‚å¦‚æœæ˜¯ï¼Œåˆ™åˆ›å»ºæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚</li>
<li>å¦‚æœå½“å‰çº¿ç¨‹æ•°é‡å·²ç»è¾¾åˆ°æ ¸å¿ƒçº¿ç¨‹æ•°é‡ï¼Œä½†ä»»åŠ¡é˜Ÿåˆ—æœªæ»¡ï¼Œåˆ™å°†ä»»åŠ¡æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œã€‚</li>
<li>å¦‚æœä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼Œä½†å½“å‰çº¿ç¨‹æ•°é‡å°äºæœ€å¤§çº¿ç¨‹æ•°é‡ï¼Œåˆ™åˆ›å»ºæ–°çš„éæ ¸å¿ƒçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚</li>
<li>å¦‚æœå½“å‰çº¿ç¨‹æ•°é‡å·²ç»è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°é‡ï¼Œä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™æ ¹æ®æ‹’ç»ç­–ç•¥å¤„ç†æ–°æäº¤çš„ä»»åŠ¡ã€‚</li>
</ul>
</li>
<li><p><strong>çº¿ç¨‹æ± çš„<code>execute</code>æ–¹æ³•</strong></p>
<p><code>execute</code>æ–¹æ³•æ˜¯çº¿ç¨‹æ± çš„æ ¸å¿ƒæ–¹æ³•ï¼Œç”¨äºå‘çº¿ç¨‹æ± ä¸­æ·»åŠ ä¸€ä¸ªä»»åŠ¡ã€‚è¯¥æ–¹æ³•çš„å®ç°é€»è¾‘ç›¸å¯¹å¤æ‚ï¼Œä½†å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>é¦–å…ˆåˆ¤æ–­çº¿ç¨‹æ± çš„çŠ¶æ€å’Œå½“å‰çº¿ç¨‹æ•°é‡ï¼Œä»¥åŠä»»åŠ¡é˜Ÿåˆ—çš„çŠ¶æ€ã€‚</li>
<li>å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œåˆ™å°è¯•åˆ›å»ºæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚</li>
<li>å¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™æ ¹æ®æ‹’ç»ç­–ç•¥å¤„ç†æ–°æäº¤çš„ä»»åŠ¡ã€‚</li>
</ul>
</li>
<li><p><strong>æ·»åŠ å·¥ä½œçº¿ç¨‹</strong></p>
<p>æ·»åŠ å·¥ä½œçº¿ç¨‹çš„è¿‡ç¨‹æ˜¯é€šè¿‡<code>addWorker</code>æ–¹æ³•å®ç°çš„ã€‚è¯¥æ–¹æ³•é¦–å…ˆåˆ¤æ–­çº¿ç¨‹æ± çš„çŠ¶æ€å’Œå½“å‰çº¿ç¨‹æ•°é‡ï¼Œç„¶åå°è¯•åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚åˆ›å»ºçº¿ç¨‹çš„è¿‡ç¨‹å¯èƒ½ä¼šå—åˆ°å¤šç§å› ç´ çš„å½±å“ï¼Œå¦‚æ ¸å¿ƒçº¿ç¨‹æ•°é‡ã€æœ€å¤§çº¿ç¨‹æ•°é‡ã€ä»»åŠ¡é˜Ÿåˆ—çŠ¶æ€ç­‰ã€‚</p>
</li>
</ol>
<p><strong>ä¸‰ã€æ€»ç»“</strong></p>
<p>çº¿ç¨‹æ± æ˜¯ä¸€ç§é«˜æ•ˆçš„å¹¶å‘å¤„ç†æœºåˆ¶ï¼Œé€šè¿‡æå‰åˆ›å»ºå¹¶ä¿å­˜ä¸€æ‰¹çº¿ç¨‹ï¼Œå½“æœ‰ä»»åŠ¡éœ€è¦æ‰§è¡Œæ—¶ï¼Œä»çº¿ç¨‹æ± ä¸­é€‰å–ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚è¿™æ ·å¯ä»¥é¿å…é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„æ•ˆç‡å’Œå“åº”é€Ÿåº¦ã€‚Javaä¸­çš„çº¿ç¨‹æ± é€šè¿‡å®ç°<code>ExecutorService</code>æ¥å£æ¥æä¾›çº¿ç¨‹æ± çš„åŠŸèƒ½ï¼Œå¹¶æä¾›äº†å¤šç§åˆ›å»ºçº¿ç¨‹æ± çš„æ–¹æ³•å’Œå‚æ•°é…ç½®é€‰é¡¹ã€‚äº†è§£çº¿ç¨‹æ± çš„å·¥ä½œåŸç†å’Œå®ç°æœºåˆ¶å¯¹äºç¼–å†™é«˜æ•ˆã€å¯æ‰©å±•çš„å¹¶å‘ç¨‹åºå…·æœ‰é‡è¦æ„ä¹‰ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/11.jpg"
               alt="" />
          <p class="site-author-name" itemprop="name"></p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">80</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">javayun</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Gemini
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
