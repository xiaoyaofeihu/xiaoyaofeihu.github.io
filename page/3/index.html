<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="ä½™å£°-ä¸ªäººåšå®¢">
<meta property="og:url" content="https://xiaoyaofeihu.github.io/page/3/index.html">
<meta property="og:site_name" content="ä½™å£°-ä¸ªäººåšå®¢">
<meta property="og:locale">
<meta property="article:author" content="javayun">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'ä½™å£°'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://xiaoyaofeihu.github.io/page/3/"/>





  <title>ä½™å£°-ä¸ªäººåšå®¢</title>
  














<meta name="generator" content="Hexo 6.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ä½™å£°-ä¸ªäººåšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/Aop%E4%B8%AD%E7%9A%84%E7%9B%B8%E5%85%B3%E6%9C%AF%E8%AF%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/Aop%E4%B8%AD%E7%9A%84%E7%9B%B8%E5%85%B3%E6%9C%AF%E8%AF%AD/" itemprop="url">AOP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒAopä¸­çš„ç›¸å…³æœ¯è¯­"><a href="#ğŸ‘ŒAopä¸­çš„ç›¸å…³æœ¯è¯­" class="headerlink" title="ğŸ‘ŒAopä¸­çš„ç›¸å…³æœ¯è¯­"></a>ğŸ‘ŒAopä¸­çš„ç›¸å…³æœ¯è¯­</h1><h1 id="å£è¯­åŒ–ç­”æ¡ˆ"><a href="#å£è¯­åŒ–ç­”æ¡ˆ" class="headerlink" title="å£è¯­åŒ–ç­”æ¡ˆ"></a>å£è¯­åŒ–ç­”æ¡ˆ</h1><p>å“ˆå“ˆï¼Œè¿™ä¸ªå°±ä¸å¤šè¯´äº†ï¼Œé¢è¯•å®˜é—®åˆ°ä»€ä¹ˆæ¦‚å¿µï¼Œä½ å°±ç›´æ¥è§£é‡Šä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="åˆ‡é¢ï¼ˆAspectï¼‰"><a href="#åˆ‡é¢ï¼ˆAspectï¼‰" class="headerlink" title="åˆ‡é¢ï¼ˆAspectï¼‰"></a>åˆ‡é¢ï¼ˆAspectï¼‰</h2><p>åˆ‡é¢æ˜¯ AOP çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¨¡å—ï¼ŒåŒ…å«äº†æ¨ªåˆ‡å…³æ³¨ç‚¹çš„é€»è¾‘ã€‚åˆ‡é¢å¯ä»¥çœ‹ä½œæ˜¯å¯¹æŸäº›åŠŸèƒ½ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ï¼‰çš„å°è£…ï¼Œè¿™äº›åŠŸèƒ½ä¼šåœ¨ç‰¹å®šçš„è¿æ¥ç‚¹ä¸Šåº”ç”¨ã€‚</p>
<h2 id="è¿æ¥ç‚¹ï¼ˆJoin-Pointï¼‰"><a href="#è¿æ¥ç‚¹ï¼ˆJoin-Pointï¼‰" class="headerlink" title="è¿æ¥ç‚¹ï¼ˆJoin Pointï¼‰"></a>è¿æ¥ç‚¹ï¼ˆJoin Pointï¼‰</h2><p>è¿æ¥ç‚¹æ˜¯ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥æ’å…¥åˆ‡é¢çš„ä¸€ä¸ªç‚¹ã€‚é€šå¸¸ï¼Œè¿æ¥ç‚¹æ˜¯æ–¹æ³•çš„è°ƒç”¨æˆ–æ‰§è¡Œã€‚AOP æ¡†æ¶å…è®¸åœ¨è¿™äº›è¿æ¥ç‚¹ä¸Šæ’å…¥é¢å¤–çš„è¡Œä¸ºã€‚</p>
<h2 id="é€šçŸ¥ï¼ˆAdviceï¼‰"><a href="#é€šçŸ¥ï¼ˆAdviceï¼‰" class="headerlink" title="é€šçŸ¥ï¼ˆAdviceï¼‰"></a>é€šçŸ¥ï¼ˆAdviceï¼‰</h2><p>é€šçŸ¥æ˜¯åœ¨åˆ‡é¢çš„æŸä¸ªç‰¹å®šçš„è¿æ¥ç‚¹ä¸Šæ‰§è¡Œçš„åŠ¨ä½œã€‚é€šçŸ¥å®šä¹‰äº†åˆ‡é¢åœ¨è¿æ¥ç‚¹ä¸Šçš„å…·ä½“è¡Œä¸ºã€‚æ ¹æ®æ‰§è¡Œæ—¶é—´çš„ä¸åŒï¼Œé€šçŸ¥å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</p>
<ul>
<li><strong>å‰ç½®é€šçŸ¥ï¼ˆBeforeï¼‰</strong>ï¼šåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œã€‚</li>
<li><strong>åç½®é€šçŸ¥ï¼ˆAfterï¼‰</strong>ï¼šåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼ˆæ— è®ºæ–¹æ³•æ˜¯å¦æˆåŠŸå®Œæˆï¼‰ã€‚</li>
<li><strong>è¿”å›é€šçŸ¥ï¼ˆAfter Returningï¼‰</strong>ï¼šåœ¨ç›®æ ‡æ–¹æ³•æˆåŠŸè¿”å›ä¹‹åæ‰§è¡Œã€‚</li>
<li><strong>å¼‚å¸¸é€šçŸ¥ï¼ˆAfter Throwingï¼‰</strong>ï¼šåœ¨ç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸æ—¶æ‰§è¡Œã€‚</li>
<li><strong>ç¯ç»•é€šçŸ¥ï¼ˆAroundï¼‰</strong>ï¼šåŒ…å›´ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œï¼Œå¯ä»¥åœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰å’Œä¹‹åè‡ªå®šä¹‰è¡Œä¸ºã€‚</li>
</ul>
<h2 id="åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰"><a href="#åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰" class="headerlink" title="åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰"></a>åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰</h2><p>åˆ‡å…¥ç‚¹æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®šä¹‰äº†å“ªäº›è¿æ¥ç‚¹ä¼šè¢«åˆ‡é¢æ‰€å½±å“ã€‚åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ç”¨äºåŒ¹é…è¿æ¥ç‚¹ï¼Œä»è€Œå†³å®šåˆ‡é¢åº”è¯¥åº”ç”¨åˆ°å“ªäº›æ–¹æ³•ä¸Šã€‚å¸¸è§çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¯­è¨€åŒ…æ‹¬ AspectJ çš„è¡¨è¾¾å¼è¯­è¨€ã€‚</p>
<h2 id="ç›®æ ‡å¯¹è±¡ï¼ˆTarget-Objectï¼‰"><a href="#ç›®æ ‡å¯¹è±¡ï¼ˆTarget-Objectï¼‰" class="headerlink" title="ç›®æ ‡å¯¹è±¡ï¼ˆTarget Objectï¼‰"></a>ç›®æ ‡å¯¹è±¡ï¼ˆTarget Objectï¼‰</h2><p>ç›®æ ‡å¯¹è±¡æ˜¯è¢«ä¸€ä¸ªæˆ–å¤šä¸ªåˆ‡é¢æ‰€é€šçŸ¥çš„å¯¹è±¡ã€‚ç›®æ ‡å¯¹è±¡æ˜¯ AOP ä»£ç†çš„å®é™…å¯¹è±¡ï¼Œå³è¢«ä»£ç†çš„å¯¹è±¡ã€‚</p>
<h2 id="AOP-ä»£ç†ï¼ˆAOP-Proxyï¼‰"><a href="#AOP-ä»£ç†ï¼ˆAOP-Proxyï¼‰" class="headerlink" title="AOP ä»£ç†ï¼ˆAOP Proxyï¼‰"></a>AOP ä»£ç†ï¼ˆAOP Proxyï¼‰</h2><p>AOP ä»£ç†æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºå®ç°åˆ‡é¢å¥‘çº¦ï¼ˆå³é€šçŸ¥æ–¹æ³•ï¼‰å¹¶å°†è°ƒç”¨å§”æ‰˜ç»™ç›®æ ‡å¯¹è±¡ã€‚ä»£ç†å¯¹è±¡è´Ÿè´£åœ¨è°ƒç”¨ç›®æ ‡æ–¹æ³•ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œåˆ‡é¢é€»è¾‘ã€‚AOP ä»£ç†å¯ä»¥æ˜¯ JDK åŠ¨æ€ä»£ç†ï¼ˆç”¨äºä»£ç†æ¥å£ï¼‰æˆ– CGLIB ä»£ç†ï¼ˆç”¨äºä»£ç†ç±»ï¼‰ã€‚</p>
<h2 id="ç»‡å…¥ï¼ˆWeavingï¼‰"><a href="#ç»‡å…¥ï¼ˆWeavingï¼‰" class="headerlink" title="ç»‡å…¥ï¼ˆWeavingï¼‰"></a>ç»‡å…¥ï¼ˆWeavingï¼‰</h2><p>ç»‡å…¥æ˜¯å°†åˆ‡é¢åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡å¹¶åˆ›å»º AOP ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚ç»‡å…¥å¯ä»¥åœ¨ä»¥ä¸‹å‡ ä¸ªæ—¶æœºè¿›è¡Œï¼š</p>
<ul>
<li><strong>ç¼–è¯‘æ—¶ï¼ˆCompile-time Weavingï¼‰</strong>ï¼šåœ¨ç¼–è¯‘é˜¶æ®µå°†åˆ‡é¢ç»‡å…¥åˆ°ç›®æ ‡ç±»ä¸­ã€‚</li>
<li><strong>ç±»åŠ è½½æ—¶ï¼ˆLoad-time Weavingï¼‰</strong>ï¼šåœ¨ç±»åŠ è½½é˜¶æ®µä½¿ç”¨ç±»åŠ è½½å™¨å°†åˆ‡é¢ç»‡å…¥åˆ°ç›®æ ‡ç±»ä¸­ã€‚</li>
<li><strong>è¿è¡Œæ—¶ï¼ˆRuntime Weavingï¼‰</strong>ï¼šåœ¨è¿è¡Œæ—¶é€šè¿‡åŠ¨æ€ä»£ç†å°†åˆ‡é¢ç»‡å…¥åˆ°ç›®æ ‡å¯¹è±¡ä¸­ã€‚</li>
</ul>
<h2 id="å¼•å…¥ï¼ˆIntroductionï¼‰"><a href="#å¼•å…¥ï¼ˆIntroductionï¼‰" class="headerlink" title="å¼•å…¥ï¼ˆIntroductionï¼‰"></a>å¼•å…¥ï¼ˆIntroductionï¼‰</h2><p>å¼•å…¥æ˜¯ AOP æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œå…è®¸åœ¨ä¸ä¿®æ”¹ç°æœ‰ç±»çš„æƒ…å†µä¸‹å‘å…¶æ·»åŠ æ–°çš„æ–¹æ³•æˆ–å±æ€§ã€‚å¼•å…¥å¯ä»¥ç”¨äºå¢å¼ºç°æœ‰ç±»çš„åŠŸèƒ½ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/ApplicationContext%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/ApplicationContext%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F/" itemprop="url">ApplicationContextçš„å®ç°ç±»æœ‰å“ªäº›ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒApplicationContextçš„å®ç°ç±»æœ‰å“ªäº›ï¼Ÿ"><a href="#ğŸ‘ŒApplicationContextçš„å®ç°ç±»æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="ğŸ‘ŒApplicationContextçš„å®ç°ç±»æœ‰å“ªäº›ï¼Ÿ"></a>ğŸ‘ŒApplicationContextçš„å®ç°ç±»æœ‰å“ªäº›ï¼Ÿ</h1><h1 id="å£è¯­åŒ–ç­”æ¡ˆ"><a href="#å£è¯­åŒ–ç­”æ¡ˆ" class="headerlink" title="å£è¯­åŒ–ç­”æ¡ˆ"></a>å£è¯­åŒ–ç­”æ¡ˆ</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ã€‚å¸¸ç”¨çš„åªè¦ç”¨ classpathxml çš„åŸºäº xml çš„æ–¹å¼ï¼Œannotion çš„åŸºäºæ³¨è§£çš„æ–¹å¼ï¼Œä¸å¸¸è§çš„è¿˜æœ‰ web å’Œ groovyã€‚åœ¨ç›®å‰çš„å®é™…æƒ…å†µä¸‹ï¼Œä¸»è¦æ˜¯ annotionï¼Œæ³¨è§£å½¢å¼æ”¾å…¥åˆ°å®¹å™¨ä¸­ã€‚åƒè€çš„ tomcat é‚£ç§æ–¹å¼ï¼Œç”¨çš„æ˜¯ web å½¢å¼ï¼Œä¸è¿‡ç°åœ¨éƒ½æ˜¯ boot æ³¨è§£å½¢å¼å¤Ÿç”¨ã€‚groovy é€‚ç”¨äºä¸€äº›åŠ¨æ€åŠ è½½ bean çš„æ–¹å¼ï¼Œé€šè¿‡è„šæœ¬çš„å½¢å¼å¤„ç†ã€‚ä»¥ä¸Šã€‚</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>ç»å…¸é¢˜ï¼Œé—®çš„è¿˜æ¯”è¾ƒå¤šï¼Œä¸»è¦æ˜¯æƒ³å€Ÿæ­¤è€ƒå¯Ÿä¸€ä¸‹ï¼Œä½ åœ¨é¡¹ç›®ä¸­ï¼Œéƒ½ç”¨è¿‡ä»€ä¹ˆæ ·çš„å½¢å¼çš„ã€‚å…¶å®ä¸»è¦ç­”å‡ºæ³¨è§£å’Œ xml è¿™é“é¢˜å°± okã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>xmlï¼Œæ³¨è§£ï¼Œwebï¼Œgroovy</p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="åŸºäºXMLé…ç½®çš„å®ç°ç±»"><a href="#åŸºäºXMLé…ç½®çš„å®ç°ç±»" class="headerlink" title="åŸºäºXMLé…ç½®çš„å®ç°ç±»"></a>åŸºäºXMLé…ç½®çš„å®ç°ç±»</h2><p><strong>ClassPathXmlApplicationContextï¼š</strong>ä»ç±»è·¯å¾„ä¸‹åŠ è½½XMLé…ç½®æ–‡ä»¶ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>FileSystemXmlApplicationContextï¼š</strong>ä»æ–‡ä»¶ç³»ç»Ÿè·¯å¾„åŠ è½½XMLé…ç½®æ–‡ä»¶ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context = new FileSystemXmlApplicationContext(&quot;C:/path/to/applicationContext.xml&quot;);</span><br></pre></td></tr></table></figure>

<h2 id="åŸºäºæ³¨è§£é…ç½®çš„å®ç°ç±»"><a href="#åŸºäºæ³¨è§£é…ç½®çš„å®ç°ç±»" class="headerlink" title="åŸºäºæ³¨è§£é…ç½®çš„å®ç°ç±»"></a>åŸºäºæ³¨è§£é…ç½®çš„å®ç°ç±»</h2><p><strong>AnnotationConfigApplicationContextï¼š</strong>ä»Javaé…ç½®ç±»ï¼ˆä½¿ç”¨@Configurationæ³¨è§£çš„ç±»ï¼‰åŠ è½½é…ç½®ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public MyBean myBean() &#123;</span><br><span class="line">        return new MyBean();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);</span><br></pre></td></tr></table></figure>

<h2 id="åŸºäºWebåº”ç”¨çš„å®ç°ç±»"><a href="#åŸºäºWebåº”ç”¨çš„å®ç°ç±»" class="headerlink" title="åŸºäºWebåº”ç”¨çš„å®ç°ç±»"></a>åŸºäºWebåº”ç”¨çš„å®ç°ç±»</h2><p><strong>XmlWebApplicationContextï¼š</strong>ä¸“é—¨ä¸ºWebåº”ç”¨è®¾è®¡çš„ApplicationContextå®ç°ç±»ï¼Œä»Webåº”ç”¨çš„ä¸Šä¸‹æ–‡ä¸­åŠ è½½XMLé…ç½®æ–‡ä»¶ã€‚</p>
<p>é€šå¸¸åœ¨web.xmlä¸­é…ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;context-param&gt;</span><br><span class="line">    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</span><br><span class="line">    &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;</span><br><span class="line">&lt;/context-param&gt;</span><br><span class="line">&lt;listener&gt;</span><br><span class="line">    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</span><br><span class="line">&lt;/listener&gt;</span><br></pre></td></tr></table></figure>

<p><strong>AnnotationConfigWebApplicationContextï¼š</strong>ä¸“é—¨ä¸ºWebåº”ç”¨è®¾è®¡çš„ApplicationContextå®ç°ç±»ï¼Œä»Javaé…ç½®ç±»åŠ è½½é…ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class WebAppInitializer implements WebApplicationInitializer &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void onStartup(ServletContext container) &#123;</span><br><span class="line">        AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();</span><br><span class="line">        context.register(AppConfig.class);</span><br><span class="line">        container.addListener(new ContextLoaderListener(context));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŸºäºGroovyé…ç½®çš„å®ç°ç±»"><a href="#åŸºäºGroovyé…ç½®çš„å®ç°ç±»" class="headerlink" title="åŸºäºGroovyé…ç½®çš„å®ç°ç±»"></a>åŸºäºGroovyé…ç½®çš„å®ç°ç±»</h2><p><strong>GenericGroovyApplicationContextï¼š</strong>ä»Groovyè„šæœ¬é…ç½®æ–‡ä»¶åŠ è½½é…ç½®ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context = new GenericGroovyApplicationContext(&quot;applicationContext.groovy&quot;);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/BeanFactory%E5%92%8CApplicationContext%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/BeanFactory%E5%92%8CApplicationContext%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F/" itemprop="url">BeanFactory å’Œ ApplicationContext çš„åŒºåˆ«ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒBeanFactory-å’Œ-ApplicationContext-çš„åŒºåˆ«ï¼Ÿ"><a href="#ğŸ‘ŒBeanFactory-å’Œ-ApplicationContext-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="ğŸ‘ŒBeanFactory å’Œ ApplicationContext çš„åŒºåˆ«ï¼Ÿ"></a>ğŸ‘ŒBeanFactory å’Œ ApplicationContext çš„åŒºåˆ«ï¼Ÿ</h1><h1 id="å£è¯­åŒ–ç­”æ¡ˆ"><a href="#å£è¯­åŒ–ç­”æ¡ˆ" class="headerlink" title="å£è¯­åŒ–ç­”æ¡ˆ"></a>å£è¯­åŒ–ç­”æ¡ˆ</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ã€‚BeanFactoryå’ŒApplicationContextéƒ½æ˜¯ç”¨äºç®¡ç†Beançš„å®¹å™¨æ¥å£ã€‚BeanFactoryåŠŸèƒ½ç›¸å¯¹ç®€å•ã€‚æä¾›äº†Beançš„åˆ›å»ºã€è·å–å’Œç®¡ç†åŠŸèƒ½ã€‚é»˜è®¤é‡‡ç”¨å»¶è¿Ÿåˆå§‹åŒ–ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è®¿é—®Beanæ—¶æ‰ä¼šåˆ›å»ºè¯¥Beanã€‚å› ä¸ºåŠŸèƒ½è¾ƒä¸ºåŸºç¡€ï¼ŒBeanFactoryé€šå¸¸ç”¨äºèµ„æºå—é™çš„ç¯å¢ƒä¸­ï¼Œæ¯”å¦‚ç§»åŠ¨è®¾å¤‡æˆ–åµŒå…¥å¼è®¾å¤‡ã€‚ApplicationContextæ˜¯BeanFactoryçš„å­æ¥å£ï¼Œæä¾›äº†æ›´ä¸°å¯Œçš„åŠŸèƒ½å’Œæ›´å¤šçš„ä¼ä¸šçº§ç‰¹æ€§ã€‚é»˜è®¤ä¼šåœ¨å¯åŠ¨æ—¶åˆ›å»ºå¹¶åˆå§‹åŒ–æ‰€æœ‰å•ä¾‹Beanï¼Œæ”¯æŒè‡ªåŠ¨è£…é…Beanï¼Œå¯ä»¥æ ¹æ®é…ç½®è‡ªåŠ¨æ³¨å…¥ä¾èµ–å¯¹è±¡ã€‚æœ‰å¤šç§å®ç°ï¼Œå¦‚ClassPathXmlApplicationContextã€FileSystemXmlApplicationContextã€AnnotationConfigApplicationContextç­‰ã€‚ä»¥ä¸Š</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>ç»å…¸é¢˜ï¼Œæ—©å‡ å¹´çˆ±è€ƒï¼Œç°åœ¨éšç€æ—¶é—´çš„å‘å±•ï¼Œé—®çš„æ¯”è¾ƒå°‘ï¼Œä¸æ’é™¤å¤è€é¢è¯•å®˜ï¼Œåº”å±Šç”Ÿå¯ä»¥é‡ç‚¹çœ‹ä¸€ä¸‹ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>åˆå§‹åŒ–æ—¶æœºï¼Œå»¶è¿Ÿï¼Œä¼ä¸šçº§åº”ç”¨åœºæ™¯</p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>BeanFactoryå’ŒApplicationContextéƒ½æ˜¯ç”¨äºç®¡ç†Beançš„å®¹å™¨æ¥å£ï¼Œå®ƒä»¬çš„åŠŸèƒ½å’Œç”¨é€”æœ‰æ‰€ä¸åŒã€‚</p>
<h2 id="BeanFactory"><a href="#BeanFactory" class="headerlink" title="BeanFactory"></a>BeanFactory</h2><p>BeanFactoryæ˜¯Springæ¡†æ¶çš„æ ¸å¿ƒæ¥å£ä¹‹ä¸€ï¼Œè´Ÿè´£ç®¡ç†å’Œé…ç½®åº”ç”¨ç¨‹åºä¸­çš„Beanã€‚å®ƒæä¾›äº†åŸºæœ¬çš„Beanå®¹å™¨åŠŸèƒ½ï¼Œä½†åŠŸèƒ½ç›¸å¯¹ç®€å•ã€‚BeanFactoryæä¾›äº†Beançš„åˆ›å»ºã€è·å–å’Œç®¡ç†åŠŸèƒ½ã€‚å®ƒæ˜¯Spring IoCå®¹å™¨çš„æœ€åŸºæœ¬æ¥å£ã€‚</p>
<p>BeanFactoryé»˜è®¤é‡‡ç”¨å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆlazy loadingï¼‰ï¼Œå³åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è®¿é—®Beanæ—¶æ‰ä¼šåˆ›å»ºè¯¥Beanã€‚è¿™æœ‰åŠ©äºæå‡å¯åŠ¨æ€§èƒ½ã€‚</p>
<p>å› ä¸ºåŠŸèƒ½è¾ƒä¸ºåŸºç¡€ï¼ŒBeanFactoryé€šå¸¸ç”¨äºèµ„æºå—é™çš„ç¯å¢ƒä¸­ï¼Œæ¯”å¦‚ç§»åŠ¨è®¾å¤‡æˆ–åµŒå…¥å¼è®¾å¤‡ã€‚</p>
<h2 id="ApplicationContext"><a href="#ApplicationContext" class="headerlink" title="ApplicationContext"></a>ApplicationContext</h2><p>ApplicationContextæ˜¯BeanFactoryçš„å­æ¥å£ï¼Œæä¾›äº†æ›´ä¸°å¯Œçš„åŠŸèƒ½å’Œæ›´å¤šçš„ä¼ä¸šçº§ç‰¹æ€§ã€‚</p>
<p>ä¸ä»…æä¾›äº†BeanFactoryçš„æ‰€æœ‰åŠŸèƒ½ï¼Œè¿˜æä¾›äº†æ›´å¤šé«˜çº§ç‰¹æ€§ï¼Œå¦‚äº‹ä»¶å‘å¸ƒã€å›½é™…åŒ–ã€AOPã€è‡ªåŠ¨Beanè£…é…ç­‰ã€‚</p>
<p>ApplicationContexté»˜è®¤ä¼šåœ¨å¯åŠ¨æ—¶åˆ›å»ºå¹¶åˆå§‹åŒ–æ‰€æœ‰å•ä¾‹Beanï¼ˆé™¤éæ˜¾å¼é…ç½®ä¸ºå»¶è¿Ÿåˆå§‹åŒ–ï¼‰ã€‚è¿™æœ‰åŠ©äºåœ¨åº”ç”¨å¯åŠ¨æ—¶å°½æ—©å‘ç°é…ç½®é—®é¢˜ã€‚</p>
<p>ApplicationContextæ”¯æŒè‡ªåŠ¨è£…é…Beanï¼Œå¯ä»¥æ ¹æ®é…ç½®è‡ªåŠ¨æ³¨å…¥ä¾èµ–å¯¹è±¡ã€‚</p>
<p>ApplicationContextæœ‰å¤šç§å®ç°ï¼Œå¦‚ClassPathXmlApplicationContextã€FileSystemXmlApplicationContextã€AnnotationConfigApplicationContextç­‰ï¼Œé€‚ç”¨äºä¸åŒçš„é…ç½®æ–¹å¼å’Œåœºæ™¯ã€‚</p>
<h2 id="å…·ä½“åŒºåˆ«æ€»ç»“"><a href="#å…·ä½“åŒºåˆ«æ€»ç»“" class="headerlink" title="å…·ä½“åŒºåˆ«æ€»ç»“"></a>å…·ä½“åŒºåˆ«æ€»ç»“</h2><table>
<thead>
<tr>
<th></th>
<th>BeanFactory</th>
<th>ApplicationContext</th>
</tr>
</thead>
<tbody><tr>
<td><strong>åˆå§‹åŒ–æ—¶æœº</strong></td>
<td>å»¶è¿Ÿåˆå§‹åŒ–ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è®¿é—®Beanæ—¶æ‰åˆ›å»ºè¯¥Beanã€‚</td>
<td>ç«‹å³åˆå§‹åŒ–ï¼Œåœ¨å®¹å™¨å¯åŠ¨æ—¶å°±åˆ›å»ºå¹¶åˆå§‹åŒ–æ‰€æœ‰å•ä¾‹Beanã€‚</td>
</tr>
<tr>
<td><strong>ç‰¹æ€§</strong></td>
<td>åŠŸèƒ½è¾ƒä¸ºåŸºç¡€ï¼Œåªæä¾›Beançš„åˆ›å»ºã€è·å–å’Œç®¡ç†åŠŸèƒ½ã€‚</td>
<td>æä¾›æ›´å¤šä¼ä¸šçº§ç‰¹æ€§ï¼Œå¦‚äº‹ä»¶å‘å¸ƒã€å›½é™…åŒ–ã€AOPã€è‡ªåŠ¨è£…é…ç­‰ã€‚</td>
</tr>
<tr>
<td><strong>ä½¿ç”¨åœºæ™¯</strong></td>
<td>é€‚ç”¨äºèµ„æºå—é™çš„ç¯å¢ƒï¼Œæˆ–è€…éœ€è¦å»¶è¿Ÿåˆå§‹åŒ–çš„åœºæ™¯ã€‚</td>
<td>é€‚ç”¨äºå¤§å¤šæ•°ä¼ä¸šçº§åº”ç”¨</td>
</tr>
</tbody></table>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><h4 id="ä½¿ç”¨-BeanFactory"><a href="#ä½¿ç”¨-BeanFactory" class="headerlink" title="ä½¿ç”¨ BeanFactory"></a>ä½¿ç”¨ BeanFactory</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Resource resource = new ClassPathResource(&quot;beans.xml&quot;);</span><br><span class="line">BeanFactory beanFactory = new XmlBeanFactory(resource);</span><br><span class="line">MyBean myBean = (MyBean) beanFactory.getBean(&quot;myBean&quot;);</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨-ApplicationContext"><a href="#ä½¿ç”¨-ApplicationContext" class="headerlink" title="ä½¿ç”¨ ApplicationContext"></a>ä½¿ç”¨ ApplicationContext</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);</span><br><span class="line">MyBean myBean = (MyBean) context.getBean(&quot;myBean&quot;);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/Bean%E6%A0%87%E7%AD%BE%E7%9A%84%E5%B1%9E%E6%80%A7_/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/Bean%E6%A0%87%E7%AD%BE%E7%9A%84%E5%B1%9E%E6%80%A7_/" itemprop="url">Bean æ ‡ç­¾çš„å±æ€§ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒBean-æ ‡ç­¾çš„å±æ€§"><a href="#ğŸ‘ŒBean-æ ‡ç­¾çš„å±æ€§" class="headerlink" title="ğŸ‘ŒBean æ ‡ç­¾çš„å±æ€§?"></a>ğŸ‘ŒBean æ ‡ç­¾çš„å±æ€§?</h1><h1 id="å£è¯­åŒ–å›ç­”"><a href="#å£è¯­åŒ–å›ç­”" class="headerlink" title="å£è¯­åŒ–å›ç­”"></a>å£è¯­åŒ–å›ç­”</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ã€‚bean æ˜¯æœ€é•¿ä½¿ç”¨çš„æ ‡ç­¾ï¼Œå¦‚æœæ˜¯ä½¿ç”¨ xml å½¢å¼ã€‚æœ€å¸¸è§çš„åŸºæœ¬å±æ€§å°±æ˜¯ idï¼Œnameï¼Œclassã€‚åˆ†åˆ«æ ‡è¯†å”¯ä¸€çš„ beanï¼Œbean çš„åˆ«åå’Œå®é™…è¦æ³¨å…¥çš„ç±»ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ä¸€äº›å±æ€§å®ç°ï¼Œbean å¼€å§‹æ—¶å€™çš„æ“ä½œï¼Œæ¯”å¦‚init-methodï¼Œé…ç½®çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨ bean åˆå§‹åŒ–çš„æ—¶å€™ï¼Œè¿›è¡Œæ‰§è¡Œã€‚bean è¿˜æœ‰å¸¸è§çš„æ„é€ å‡½æ•°æ³¨å…¥æ ‡ç­¾ï¼Œæ³¨å…¥ bean ä¸­çš„å±æ€§ã€‚ä»¥ä¸Šã€‚</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>åº”å±Šç”Ÿå¸¸é—®ï¼Œæœ‰å·¥ä½œç»éªŒçš„åŸºæœ¬ä¸é—®ï¼Œç›®çš„å…¶å®å°±æ˜¯ä¸ºäº†ï¼Œè€ƒå¯Ÿä¸€ä¸‹ä½ åˆ°åº•æœ‰æ²¡æœ‰å®é™…ä½¿ç”¨è¿‡ spring çš„ bean çš„é…ç½®ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>idï¼Œnameï¼Œclassï¼Œä¸€äº›åˆå§‹åŒ–å±æ€§</p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="å¸¸è§å±æ€§"><a href="#å¸¸è§å±æ€§" class="headerlink" title="å¸¸è§å±æ€§"></a>å¸¸è§å±æ€§</h2><p><strong>idï¼š</strong>Beançš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>nameï¼š</strong>Beançš„åˆ«åï¼Œå¯ä»¥ä¸ºBeanå®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªåˆ«åã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; name=&quot;alias1,alias2&quot; class=&quot;com.example.MyBean&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>classï¼š</strong>Beançš„å…¨é™å®šç±»åã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>scopeï¼š</strong>Beançš„ä½œç”¨åŸŸï¼Œå¸¸è§å€¼åŒ…æ‹¬singletonï¼ˆé»˜è®¤ï¼‰ã€prototypeã€requestã€sessionã€globalSessionã€applicationã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; scope=&quot;prototype&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>init-methodï¼š</strong>Beanåˆå§‹åŒ–æ—¶è°ƒç”¨çš„æ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; init-method=&quot;init&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>destroy-methodï¼š</strong>Beané”€æ¯æ—¶è°ƒç”¨çš„æ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; destroy-method=&quot;cleanup&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>factory-methodï¼š</strong>ç”¨äºåˆ›å»ºBeanå®ä¾‹çš„é™æ€å·¥å‚æ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBeanFactory&quot; factory-method=&quot;createInstance&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>factory-beanï¼š</strong>ç”¨äºåˆ›å»ºBeanå®ä¾‹çš„å·¥å‚Beançš„åç§°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myFactory&quot; class=&quot;com.example.MyFactory&quot;/&gt;</span><br><span class="line">&lt;bean id=&quot;myBean&quot; factory-bean=&quot;myFactory&quot; factory-method=&quot;createInstance&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ä¾èµ–æ³¨å…¥ç›¸å…³å±æ€§"><a href="#ä¾èµ–æ³¨å…¥ç›¸å…³å±æ€§" class="headerlink" title="ä¾èµ–æ³¨å…¥ç›¸å…³å±æ€§"></a>ä¾èµ–æ³¨å…¥ç›¸å…³å±æ€§</h2><p><strong>constructor-argï¼š</strong>ç”¨äºæ„é€ å‡½æ•°æ³¨å…¥ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot;&gt;</span><br><span class="line">    &lt;constructor-arg value=&quot;someValue&quot;/&gt;</span><br><span class="line">    &lt;constructor-arg ref=&quot;anotherBean&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p><strong>propertyï¼š</strong>ç”¨äºSetteræ–¹æ³•æ³¨å…¥ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot;&gt;</span><br><span class="line">    &lt;property name=&quot;propertyName&quot; value=&quot;someValue&quot;/&gt;</span><br><span class="line">    &lt;property name=&quot;anotherProperty&quot; ref=&quot;anotherBean&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h2 id="å…¶ä»–å¸¸ç”¨å±æ€§"><a href="#å…¶ä»–å¸¸ç”¨å±æ€§" class="headerlink" title="å…¶ä»–å¸¸ç”¨å±æ€§"></a>å…¶ä»–å¸¸ç”¨å±æ€§</h2><p><strong>autowireï¼š</strong>è‡ªåŠ¨è£…é…æ¨¡å¼ï¼Œå¸¸è§å€¼åŒ…æ‹¬noï¼ˆé»˜è®¤ï¼‰ã€byNameã€byTypeã€constructorã€autodetectã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; autowire=&quot;byName&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>depends-onï¼š</strong>æŒ‡å®šBeançš„ä¾èµ–å…³ç³»ï¼Œå³åœ¨åˆå§‹åŒ–å½“å‰Beanä¹‹å‰éœ€è¦å…ˆåˆå§‹åŒ–çš„Beanã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; depends-on=&quot;anotherBean&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>lazy-initï¼š</strong>æ˜¯å¦å»¶è¿Ÿåˆå§‹åŒ–ï¼Œé»˜è®¤å€¼ä¸ºfalseã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; lazy-init=&quot;true&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>primaryï¼š</strong>å½“è‡ªåŠ¨è£…é…æ—¶ï¼Œå¦‚æœæœ‰å¤šä¸ªå€™é€‰Beanï¼Œå¯ä»¥å°†æŸä¸ªBeanæ ‡è®°ä¸ºä¸»è¦å€™é€‰è€…ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; primary=&quot;true&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®-demo"><a href="#é…ç½®-demo" class="headerlink" title="é…ç½® demo"></a>é…ç½® demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; scope=&quot;singleton&quot; init-method=&quot;init&quot; destroy-method=&quot;cleanup&quot; lazy-init=&quot;true&quot; primary=&quot;true&quot; autowire=&quot;byType&quot;&gt;</span><br><span class="line">    &lt;constructor-arg value=&quot;someValue&quot;/&gt;</span><br><span class="line">    &lt;constructor-arg ref=&quot;anotherBean&quot;/&gt;</span><br><span class="line">    &lt;property name=&quot;propertyName&quot; value=&quot;someValue&quot;/&gt;</span><br><span class="line">    &lt;property name=&quot;anotherProperty&quot; ref=&quot;anotherBean&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h1 id><a href="#" class="headerlink" title></a></h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/Cglib%E7%9A%84Enhancer%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/Cglib%E7%9A%84Enhancer%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%EF%BC%9F/" itemprop="url">ğŸ‘ŒCglibçš„Enhancerå®ç°åŠ¨æ€ä»£ç†ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒCglibçš„Enhancerå®ç°åŠ¨æ€ä»£ç†ï¼Ÿ"><a href="#ğŸ‘ŒCglibçš„Enhancerå®ç°åŠ¨æ€ä»£ç†ï¼Ÿ" class="headerlink" title="ğŸ‘ŒCglibçš„Enhancerå®ç°åŠ¨æ€ä»£ç†ï¼Ÿ"></a>ğŸ‘ŒCglibçš„Enhancerå®ç°åŠ¨æ€ä»£ç†ï¼Ÿ</h1><h1 id="å£è¯­åŒ–å›ç­”"><a href="#å£è¯­åŒ–å›ç­”" class="headerlink" title="å£è¯­åŒ–å›ç­”"></a>å£è¯­åŒ–å›ç­”</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ï¼Œcglib ä»£ç†ç›¸æ¯” jdk åŠ¨æ€ä»£ç†ä¸åŒçš„å°±æ˜¯ä¸éœ€è¦è¢«ä»£ç†çš„ç±»å®ç°æ¥å£ã€‚å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªMyServiceï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•æ˜¯performTaskï¼Œæˆ‘ä»¬åªéœ€è¦å®šä¹‰ä¸€ä¸ªæ–°çš„ç±»ï¼Œå®ç°MethodInterceptor æ¥å£ï¼Œç„¶åå†é‡Œé¢çš„ intercept æ–¹æ³•å®ç°éœ€è¦å¢å¼ºçš„æ–¹æ³•ã€‚æœ€ç»ˆé€šè¿‡ cglib çš„enhancer ç±»ï¼Œå…ˆè®¾ç½®çˆ¶ç±»ï¼Œçˆ¶ç±»å°±æ˜¯æˆ‘ä»¬è¦å¢å¼ºçš„ç±»ï¼Œå†è®¾ç½® callback ä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦å¢å¼ºçš„åŠŸèƒ½ã€‚æœ€åä½¿ç”¨ create å°±ç”Ÿæˆäº† cglib çš„ä¸€ä¸ªä»£ç†ç±»ã€‚ä»¥ä¸Š</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>å’Œ jdk çš„åŠ¨æ€ä»£ç†å¼‚æ›²åŒå·¥ï¼Œç›¸æ¯” jdk åè€Œ cglib çš„æ›´å¸¸è€ƒä¸€ç‚¹ã€‚å¤§å®¶ç†è§£ä¸€ä¸‹ä¸‹é¢çš„ä»£ç æµç¨‹å°±å¾ˆå®¹æ˜“è¯´å‡ºå…¶ä¸­çš„è¿‡ç¨‹ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>ç›®æ ‡ç±»ï¼Œæ–¹æ³•æ‹¦æˆªå™¨ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡</p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>CGLIBæ˜¯ä¸€ç§å¼ºå¤§çš„ä»£ç ç”Ÿæˆåº“ï¼Œèƒ½å¤Ÿåœ¨è¿è¡Œæ—¶ç”Ÿæˆä»£ç†ç±»ã€‚ä¸ JDK åŠ¨æ€ä»£ç†ä¸åŒçš„æ˜¯ï¼ŒCGLIB ä¸éœ€è¦æ¥å£ï¼Œå¯ä»¥ç›´æ¥ä»£ç†å…·ä½“ç±»ã€‚CGLIB é€šè¿‡åˆ›å»ºç›®æ ‡ç±»çš„å­ç±»å¹¶è¦†ç›–å…¶ä¸­çš„æ–¹æ³•æ¥å®ç°ä»£ç†ã€‚</p>
<h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><p><strong>1ã€ å¼•å…¥ CGLIB åº“</strong>ï¼šç¡®ä¿åœ¨é¡¹ç›®ä¸­æ·»åŠ  CGLIB ä¾èµ–ã€‚</p>
<p><strong>2ã€ åˆ›å»ºç›®æ ‡ç±»</strong>ï¼šå®šä¹‰éœ€è¦ä»£ç†çš„å…·ä½“ç±»ã€‚</p>
<p><strong>3ã€ åˆ›å»ºæ–¹æ³•æ‹¦æˆªå™¨</strong>ï¼šå®ç°MethodInterceptoræ¥å£ï¼Œå¹¶åœ¨interceptæ–¹æ³•ä¸­å®šä¹‰ä»£ç†é€»è¾‘ã€‚</p>
<p><strong>4ã€ åˆ›å»ºä»£ç†å¯¹è±¡</strong>ï¼šé€šè¿‡Enhancerç±»åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</p>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„æœåŠ¡ç±»MyServiceï¼Œé€šè¿‡ CGLIB åŠ¨æ€ä»£ç†ä¸ºMyServiceåˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶åœ¨æ–¹æ³•è°ƒç”¨å‰åæ·»åŠ æ—¥å¿—ã€‚</p>
<h4 id="å¼•å…¥-CGLIB-ä¾èµ–"><a href="#å¼•å…¥-CGLIB-ä¾èµ–" class="headerlink" title="å¼•å…¥ CGLIB ä¾èµ–"></a>å¼•å…¥ CGLIB ä¾èµ–</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;cglib&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;cglib&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.3.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ›å»ºç›®æ ‡ç±»"><a href="#åˆ›å»ºç›®æ ‡ç±»" class="headerlink" title="åˆ›å»ºç›®æ ‡ç±»"></a>åˆ›å»ºç›®æ ‡ç±»</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class MyService &#123;</span><br><span class="line">    public void performTask() &#123;</span><br><span class="line">        System.out.println(&quot;Performing task&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ›å»ºæ–¹æ³•æ‹¦æˆªå™¨"><a href="#åˆ›å»ºæ–¹æ³•æ‹¦æˆªå™¨" class="headerlink" title="åˆ›å»ºæ–¹æ³•æ‹¦æˆªå™¨"></a>åˆ›å»ºæ–¹æ³•æ‹¦æˆªå™¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import net.sf.cglib.proxy.MethodInterceptor;</span><br><span class="line">import net.sf.cglib.proxy.MethodProxy;</span><br><span class="line"></span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line">public class LoggingMethodInterceptor implements MethodInterceptor &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable &#123;</span><br><span class="line">        System.out.println(&quot;Logging before method execution: &quot; + method.getName());</span><br><span class="line">        Object result = proxy.invokeSuper(obj, args);</span><br><span class="line">        System.out.println(&quot;Logging after method execution: &quot; + method.getName());</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ›å»ºä»£ç†å¯¹è±¡å¹¶ä½¿ç”¨"><a href="#åˆ›å»ºä»£ç†å¯¹è±¡å¹¶ä½¿ç”¨" class="headerlink" title="åˆ›å»ºä»£ç†å¯¹è±¡å¹¶ä½¿ç”¨"></a>åˆ›å»ºä»£ç†å¯¹è±¡å¹¶ä½¿ç”¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import net.sf.cglib.proxy.Enhancer;</span><br><span class="line"></span><br><span class="line">public class MainApp &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // åˆ›å»º Enhancer å¯¹è±¡</span><br><span class="line">        Enhancer enhancer = new Enhancer();</span><br><span class="line">        </span><br><span class="line">        // è®¾ç½®ç›®æ ‡ç±»ä¸ºä»£ç†ç±»çš„çˆ¶ç±»</span><br><span class="line">        enhancer.setSuperclass(MyService.class);</span><br><span class="line">        </span><br><span class="line">        // è®¾ç½®æ–¹æ³•æ‹¦æˆªå™¨</span><br><span class="line">        enhancer.setCallback(new LoggingMethodInterceptor());</span><br><span class="line"></span><br><span class="line">        // åˆ›å»ºä»£ç†å¯¹è±¡</span><br><span class="line">        MyService proxyInstance = (MyService) enhancer.create();</span><br><span class="line">        </span><br><span class="line">        // è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•</span><br><span class="line">        proxyInstance.performTask();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è¯¦ç»†è§£é‡Š"><a href="#è¯¦ç»†è§£é‡Š" class="headerlink" title="è¯¦ç»†è§£é‡Š"></a>è¯¦ç»†è§£é‡Š</h3><p><strong>å¼•å…¥ CGLIB åº“</strong>ï¼šåœ¨é¡¹ç›®ä¸­æ·»åŠ  CGLIB ä¾èµ–ï¼Œä»¥ä¾¿ä½¿ç”¨ CGLIB æä¾›çš„ç±»å’Œæ¥å£ã€‚</p>
<p><strong>ç›®æ ‡ç±»</strong>ï¼šMyServiceæ˜¯ä¸€ä¸ªå…·ä½“ç±»ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•performTaskã€‚</p>
<p><strong>æ–¹æ³•æ‹¦æˆªå™¨</strong>ï¼šLoggingMethodInterceptorå®ç°äº†MethodInterceptoræ¥å£ã€‚å®ƒçš„interceptæ–¹æ³•åœ¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨æ—¶è¢«è°ƒç”¨ã€‚</p>
<p>interceptæ–¹æ³•æ¥æ”¶å››ä¸ªå‚æ•°ï¼šobjï¼šä»£ç†å¯¹è±¡ã€‚methodï¼šè¢«è°ƒç”¨çš„æ–¹æ³•ã€‚argsï¼šæ–¹æ³•å‚æ•°ã€‚proxyï¼šç”¨äºè°ƒç”¨çˆ¶ç±»æ–¹æ³•çš„ä»£ç†å¯¹è±¡ã€‚</p>
<p>åœ¨interceptæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åœ¨æ–¹æ³•è°ƒç”¨å‰åæ·»åŠ äº†æ—¥å¿—æ‰“å°ï¼Œå¹¶é€šè¿‡proxy.invokeSuperè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚</p>
<p><strong>åˆ›å»ºä»£ç†å¯¹è±¡</strong>ï¼šä½¿ç”¨Enhancerç±»åˆ›å»ºä»£ç†å¯¹è±¡ã€‚setSuperclassæ–¹æ³•è®¾ç½®ç›®æ ‡ç±»ä¸ºä»£ç†ç±»çš„çˆ¶ç±»ã€‚setCallbackæ–¹æ³•è®¾ç½®æ–¹æ³•æ‹¦æˆªå™¨ã€‚createæ–¹æ³•åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</p>
<p><strong>ä½¿ç”¨ä»£ç†å¯¹è±¡</strong>ï¼š</p>
<p>é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå®é™…è°ƒç”¨çš„æ˜¯LoggingMethodInterceptorçš„interceptæ–¹æ³•ã€‚</p>
<p>åœ¨interceptæ–¹æ³•ä¸­ï¼Œé¦–å…ˆæ‰“å°æ—¥å¿—ï¼Œç„¶åé€šè¿‡proxy.invokeSuperè°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•ï¼Œæœ€åå†æ‰“å°æ—¥å¿—ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88%E5%9C%BA%E6%99%AF%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88%E5%9C%BA%E6%99%AF%EF%BC%9F/" itemprop="url">ğŸ‘ŒSpringäº‹åŠ¡å¤±æ•ˆåœºæ™¯ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒSpringäº‹åŠ¡å¤±æ•ˆåœºæ™¯ï¼Ÿ"><a href="#ğŸ‘ŒSpringäº‹åŠ¡å¤±æ•ˆåœºæ™¯ï¼Ÿ" class="headerlink" title="ğŸ‘ŒSpringäº‹åŠ¡å¤±æ•ˆåœºæ™¯ï¼Ÿ"></a>ğŸ‘ŒSpringäº‹åŠ¡å¤±æ•ˆåœºæ™¯ï¼Ÿ</h1><h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>Springäº‹åŠ¡å¤±æ•ˆçš„åœºæ™¯ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ã€‚</p>
<h2 id="épublicæ–¹æ³•ä½¿ç”¨-Transactional"><a href="#épublicæ–¹æ³•ä½¿ç”¨-Transactional" class="headerlink" title="épublicæ–¹æ³•ä½¿ç”¨@Transactional"></a>épublicæ–¹æ³•ä½¿ç”¨@Transactional</h2><p>åœºæ™¯æè¿°ï¼šSpringäº‹åŠ¡ç®¡ç†æ˜¯åŸºäºAOPå®ç°çš„ï¼Œè€ŒAOPå¯¹äºJDKåŠ¨æ€ä»£ç†æˆ–CGLibåŠ¨æ€ä»£ç†åªä¼šä»£ç†publicæ–¹æ³•ã€‚å¦‚æœäº‹åŠ¡æ–¹æ³•çš„è®¿é—®ä¿®é¥°ç¬¦ä¸ºépublicï¼ŒSpringAOPæ— æ³•æ­£ç¡®åœ°ä»£ç†è¯¥æ–¹æ³•ï¼Œä»è€Œå¯¼è‡´äº‹åŠ¡å¤±æ•ˆã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼šäº‹åŠ¡æ–¹æ³•çš„è®¿é—®ä¿®é¥°ç¬¦è¢«è®¾ç½®ä¸ºprivateã€defaultæˆ–protectedã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šå°†éœ€è¦äº‹åŠ¡ç®¡ç†çš„æ–¹æ³•è®¾ç½®ä¸ºpublicã€‚</p>
<h2 id="åœ¨åŒç±»ä¸­çš„éäº‹åŠ¡æ–¹æ³•è°ƒç”¨äº‹åŠ¡æ–¹æ³•"><a href="#åœ¨åŒç±»ä¸­çš„éäº‹åŠ¡æ–¹æ³•è°ƒç”¨äº‹åŠ¡æ–¹æ³•" class="headerlink" title="åœ¨åŒç±»ä¸­çš„éäº‹åŠ¡æ–¹æ³•è°ƒç”¨äº‹åŠ¡æ–¹æ³•"></a>åœ¨åŒç±»ä¸­çš„éäº‹åŠ¡æ–¹æ³•è°ƒç”¨äº‹åŠ¡æ–¹æ³•</h2><p>åœºæ™¯æè¿°ï¼šSpringçš„äº‹åŠ¡ç®¡ç†æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†å®ç°çš„ï¼Œåªæœ‰é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•æ‰èƒ½äº«å—åˆ°Springçš„äº‹åŠ¡ç®¡ç†ã€‚å¦‚æœåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œä¸€ä¸ªæ²¡æœ‰æ ‡è®°ä¸º@Transactionalçš„æ–¹æ³•å†…éƒ¨è°ƒç”¨äº†ä¸€ä¸ªæ ‡è®°ä¸º@Transactionalçš„æ–¹æ³•ï¼Œé‚£ä¹ˆäº‹åŠ¡æ˜¯ä¸ä¼šèµ·ä½œç”¨çš„ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šå°½é‡å°†äº‹åŠ¡æ–¹æ³•æ”¾åœ¨ä¸åŒçš„ç±»ä¸­ï¼Œæˆ–è€…ä½¿ç”¨Springçš„AopContext.currentProxy()æ¥è·å–å½“å‰ç±»çš„ä»£ç†å¯¹è±¡ï¼Œç„¶åé€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨äº‹åŠ¡æ–¹æ³•ã€‚</p>
<h2 id="äº‹åŠ¡å±æ€§è®¾ç½®ä¸å½“"><a href="#äº‹åŠ¡å±æ€§è®¾ç½®ä¸å½“" class="headerlink" title="äº‹åŠ¡å±æ€§è®¾ç½®ä¸å½“"></a>äº‹åŠ¡å±æ€§è®¾ç½®ä¸å½“</h2><p>åœºæ™¯æè¿°ï¼šåœ¨Springçš„äº‹åŠ¡ç®¡ç†ä¸­ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæ”¯æŒå½“å‰äº‹åŠ¡çš„æ–¹æ³•ï¼ˆæ¯”å¦‚ï¼Œå·²ç»è¢«æ ‡è®°ä¸º@Transactionalçš„æ–¹æ³•ï¼‰ä¸­è°ƒç”¨äº†ä¸€ä¸ªéœ€è¦æ–°äº‹åŠ¡çš„æ–¹æ³•ï¼Œå¦‚æœåè€…æ–¹æ³•æŠ›å‡ºäº†å¼‚å¸¸ï¼Œä½†å¼‚å¸¸å¹¶æœªè¢«Springè¯†åˆ«ä¸ºéœ€è¦å›æ»šäº‹åŠ¡çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆåè€…çš„äº‹åŠ¡å°†ä¸ä¼šå›æ»šã€‚</p>
<h2 id="å¼‚å¸¸ç±»å‹ä¸åŒ¹é…"><a href="#å¼‚å¸¸ç±»å‹ä¸åŒ¹é…" class="headerlink" title="å¼‚å¸¸ç±»å‹ä¸åŒ¹é…"></a>å¼‚å¸¸ç±»å‹ä¸åŒ¹é…</h2><p>åœºæ™¯æè¿°ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringåªæœ‰åœ¨æ–¹æ³•æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸æˆ–è€…é”™è¯¯æ—¶æ‰ä¼šå›æ»šäº‹åŠ¡ã€‚å¯¹äºæ£€æŸ¥æ€§å¼‚å¸¸ï¼Œå³ä½¿ä½ åœ¨æ–¹æ³•ä¸­æŠ›å‡ºäº†ï¼ŒSpringä¹Ÿä¸ä¼šå›æ»šäº‹åŠ¡ï¼Œé™¤éä½ åœ¨@Transactionalæ³¨è§£ä¸­æ˜¾å¼åœ°æŒ‡å®šéœ€è¦å›æ»šå“ªäº›æ£€æŸ¥æ€§å¼‚å¸¸ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šäº†è§£Springäº‹åŠ¡ç®¡ç†å¯¹å¼‚å¸¸çš„å¤„ç†ï¼Œå¿…è¦æ—¶åœ¨@Transactionalæ³¨è§£ä¸­æŒ‡å®šéœ€è¦å›æ»šçš„å¼‚å¸¸ç±»å‹ã€‚</p>
<h2 id="äº‹åŠ¡æ‹¦æˆªå™¨é…ç½®é”™è¯¯"><a href="#äº‹åŠ¡æ‹¦æˆªå™¨é…ç½®é”™è¯¯" class="headerlink" title="äº‹åŠ¡æ‹¦æˆªå™¨é…ç½®é”™è¯¯"></a>äº‹åŠ¡æ‹¦æˆªå™¨é…ç½®é”™è¯¯</h2><p>åœºæ™¯æè¿°ï¼šå¦‚æœæ²¡æœ‰æ­£ç¡®åœ°é…ç½®äº‹åŠ¡æ‹¦æˆªå™¨ï¼Œä¾‹å¦‚æ²¡æœ‰æŒ‡å®šåˆ‡å…¥ç‚¹æˆ–æŒ‡å®šäº†é”™è¯¯çš„åˆ‡å…¥ç‚¹ï¼Œå°±ä¼šå¯¼è‡´Springäº‹åŠ¡å¤±æ•ˆã€‚</p>
<h2 id="äº‹åŠ¡è¶…æ—¶é…ç½®é”™è¯¯"><a href="#äº‹åŠ¡è¶…æ—¶é…ç½®é”™è¯¯" class="headerlink" title="äº‹åŠ¡è¶…æ—¶é…ç½®é”™è¯¯"></a>äº‹åŠ¡è¶…æ—¶é…ç½®é”™è¯¯</h2><p>åœºæ™¯æè¿°ï¼šå¦‚æœäº‹åŠ¡è¶…æ—¶æ—¶é—´è®¾ç½®å¾—å¤ªçŸ­ï¼Œå°±æœ‰å¯èƒ½åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°è¶…æ—¶ï¼Œä»è€Œå¯¼è‡´Springäº‹åŠ¡å¤±æ•ˆã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/Spring%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%9A%84%E8%BF%9B%E8%A1%8C%E8%A3%85%E9%85%8D%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%9C%80%E8%A6%81%E4%BB%80%E4%B9%88%E6%B3%A8%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/Spring%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%9A%84%E8%BF%9B%E8%A1%8C%E8%A3%85%E9%85%8D%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%9C%80%E8%A6%81%E4%BB%80%E4%B9%88%E6%B3%A8%E8%A7%A3/" itemprop="url">ğŸ‘ŒSpringä½¿ç”¨æ³¨è§£çš„è¿›è¡Œè£…é…çš„æ—¶å€™ï¼Œéœ€è¦ä»€ä¹ˆæ³¨è§£</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒSpringä½¿ç”¨æ³¨è§£çš„è¿›è¡Œè£…é…çš„æ—¶å€™ï¼Œéœ€è¦ä»€ä¹ˆæ³¨è§£"><a href="#ğŸ‘ŒSpringä½¿ç”¨æ³¨è§£çš„è¿›è¡Œè£…é…çš„æ—¶å€™ï¼Œéœ€è¦ä»€ä¹ˆæ³¨è§£" class="headerlink" title="ğŸ‘ŒSpringä½¿ç”¨æ³¨è§£çš„è¿›è¡Œè£…é…çš„æ—¶å€™ï¼Œéœ€è¦ä»€ä¹ˆæ³¨è§£"></a>ğŸ‘ŒSpringä½¿ç”¨æ³¨è§£çš„è¿›è¡Œè£…é…çš„æ—¶å€™ï¼Œéœ€è¦ä»€ä¹ˆæ³¨è§£</h1><h1 id="å£è¯­åŒ–ç­”æ¡ˆ"><a href="#å£è¯­åŒ–ç­”æ¡ˆ" class="headerlink" title="å£è¯­åŒ–ç­”æ¡ˆ"></a>å£è¯­åŒ–ç­”æ¡ˆ</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ï¼Œå…¶å®è¿™ä¸ªé—®é¢˜çš„ç›®çš„å°±æ˜¯å°† bean è®© spring æ‰«æåˆ°ï¼Œå¹¶è¯†åˆ«å‡ºè¦æ”¾åˆ°å®¹å™¨ä¸­ã€‚é‚£å°±æ¶‰åŠåˆ°ç¬¬ä¸€ä¸ªæ¦‚å¿µï¼ŒComponentScanï¼Œè‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œé…åˆbasePackages å±æ€§ã€‚æŒ‡å®šåŒ…ä¹‹åèƒ½ï¼Œspring å°±ä¼šå°†@Serviceã€@Repositoryå’Œ@Controller è¿™äº›å¸¦äº†æ³¨è§£çš„ç±»ï¼Œä½œä¸º bean æ”¾å…¥åˆ°å®¹å™¨ä¸­ã€‚ComponentScan ä¹Ÿæä¾›äº†ä¸€äº›æ¯”å¦‚ excludefilter æƒ³æ’é™¤æŸäº›åŒ…ï¼Œæˆ–è€…åŠ ç‰¹å®šåŒ…çš„æ–¹å¼ã€‚ä»¥ä¸Šã€‚</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>åŸºç¡€é¢˜å¿…çœ‹ï¼Œä¸»è¦ç¨å¾®ä¼šå‘æ•£çš„ä¸€ä¸ªç‚¹å°±æ˜¯ lazyinitï¼Œå…¶ä»–çš„æ²¡æœ‰ä»€ä¹ˆä¸œè¥¿ã€‚æ­£å¸¸èƒŒä¸€ä¸‹å±æ€§å°±å¯ä»¥äº†ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>basepackageï¼Œincludefilterï¼Œæ‰«ææ³¨è§£</p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>@ComponentScanæ˜¯ç”¨äºè‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…åŠå…¶å­åŒ…ä¸­çš„ç»„ä»¶ç±»ï¼Œå¹¶å°†å®ƒä»¬æ³¨å†Œä¸º Spring å®¹å™¨ç®¡ç†çš„ Beanã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºç»„ä»¶æ‰«æï¼ˆComponent Scanningï¼‰ã€‚</p>
<h2 id="ComponentScanæ³¨è§£"><a href="#ComponentScanæ³¨è§£" class="headerlink" title="@ComponentScanæ³¨è§£"></a>@ComponentScanæ³¨è§£</h2><p>@ComponentScanæ³¨è§£é€šå¸¸ä¸@Configurationæ³¨è§£ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºå®šä¹‰ Spring åº”ç”¨çš„é…ç½®ç±»ã€‚åœ¨è¿™ä¸ªé…ç½®ç±»ä¸­ï¼Œ@ComponentScanæŒ‡å®šäº†è¦æ‰«æçš„åŒ…è·¯å¾„ï¼ŒSpring ä¼šè‡ªåŠ¨æ‰«æè¿™äº›åŒ…åŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»ï¼Œå¹¶å°†å¸¦æœ‰ç‰¹å®šæ³¨è§£çš„ç±»ï¼ˆå¦‚@Componentã€@Serviceã€@Repositoryã€@Controllerç­‰ï¼‰æ³¨å†Œä¸º Beanã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">@ComponentScan(basePackages = &quot;com.example&quot;)</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line">    // é…ç½®ç±»å†…å®¹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Spring ä¼šæ‰«æcom.exampleåŒ…åŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»ï¼Œå¹¶å°†å¸¦æœ‰@Componentã€@Serviceã€@Repositoryå’Œ@Controlleræ³¨è§£çš„ç±»æ³¨å†Œä¸º Spring Beanã€‚</p>
<h2 id="è¯¦ç»†è¯´æ˜"><a href="#è¯¦ç»†è¯´æ˜" class="headerlink" title="è¯¦ç»†è¯´æ˜"></a>è¯¦ç»†è¯´æ˜</h2><h4 id="basePackageså±æ€§"><a href="#basePackageså±æ€§" class="headerlink" title="basePackageså±æ€§"></a>basePackageså±æ€§</h4><p>basePackageså±æ€§ç”¨äºæŒ‡å®šè¦æ‰«æçš„åŒ…ã€‚å¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªåŒ…è·¯å¾„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ComponentScan(basePackages = &#123;&quot;com.example&quot;, &quot;com.another&quot;&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="basePackageClasseså±æ€§"><a href="#basePackageClasseså±æ€§" class="headerlink" title="basePackageClasseså±æ€§"></a>basePackageClasseså±æ€§</h4><p>basePackageClasseså±æ€§ç”¨äºæŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªç±»ï¼ŒSpring ä¼šæ‰«æè¿™äº›ç±»æ‰€åœ¨çš„åŒ…ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ComponentScan(basePackageClasses = &#123;MyClass1.class, MyClass2.class&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="includeFilterså’ŒexcludeFilterså±æ€§"><a href="#includeFilterså’ŒexcludeFilterså±æ€§" class="headerlink" title="includeFilterså’ŒexcludeFilterså±æ€§"></a>includeFilterså’ŒexcludeFilterså±æ€§</h4><p>includeFilterså’ŒexcludeFilterså±æ€§ç”¨äºæŒ‡å®šåŒ…å«æˆ–æ’é™¤çš„è¿‡æ»¤å™¨ã€‚å¯ä»¥æ ¹æ®æ³¨è§£ã€ç±»å‹ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰è¿›è¡Œè¿‡æ»¤ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@ComponentScan(</span><br><span class="line">    basePackages = &quot;com.example&quot;,</span><br><span class="line">    includeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = CustomAnnotation.class),</span><br><span class="line">    excludeFilters = @ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;com\\.example\\.exclude\\..*&quot;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="lazyInitå±æ€§"><a href="#lazyInitå±æ€§" class="headerlink" title="lazyInitå±æ€§"></a>lazyInitå±æ€§</h4><p>lazyInitå±æ€§ç”¨äºæŒ‡å®šæ˜¯å¦å»¶è¿Ÿåˆå§‹åŒ–æ‰«æåˆ°çš„ Beanã€‚é»˜è®¤å€¼ä¸ºfalseï¼Œè¡¨ç¤ºç«‹å³åˆå§‹åŒ–ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ComponentScan(basePackages = &quot;com.example&quot;, lazyInit = true)</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹åŒ…ç»“æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">com.example</span><br><span class="line">    â”œâ”€â”€ service</span><br><span class="line">    â”‚   â””â”€â”€ MyService.java</span><br><span class="line">    â”œâ”€â”€ repository</span><br><span class="line">    â”‚   â””â”€â”€ MyRepository.java</span><br><span class="line">    â””â”€â”€ controller</span><br><span class="line">        â””â”€â”€ MyController.java</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼ŒMyService.javaã€MyRepository.javaå’ŒMyController.javaåˆ†åˆ«å¸¦æœ‰@Serviceã€@Repositoryå’Œ@Controlleræ³¨è§£ã€‚</p>
<h4 id="å®šä¹‰é…ç½®ç±»"><a href="#å®šä¹‰é…ç½®ç±»" class="headerlink" title="å®šä¹‰é…ç½®ç±»"></a>å®šä¹‰é…ç½®ç±»</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">@ComponentScan(basePackages = &quot;com.example&quot;)</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line">    // é…ç½®ç±»å†…å®¹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¯åŠ¨-Spring-å®¹å™¨"><a href="#å¯åŠ¨-Spring-å®¹å™¨" class="headerlink" title="å¯åŠ¨ Spring å®¹å™¨"></a>å¯åŠ¨ Spring å®¹å™¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class Application &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);</span><br><span class="line">        </span><br><span class="line">        MyService myService = context.getBean(MyService.class);</span><br><span class="line">        MyRepository myRepository = context.getBean(MyRepository.class);</span><br><span class="line">        MyController myController = context.getBean(MyController.class);</span><br><span class="line">        </span><br><span class="line">        // ä½¿ç”¨ Bean</span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Spring ä¼šæ‰«æcom.exampleåŒ…åŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»ï¼Œå¹¶å°†å¸¦æœ‰@Serviceã€@Repositoryå’Œ@Controlleræ³¨è§£çš„ç±»æ³¨å†Œä¸º Spring Beanã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/Spring%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/Spring%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" itemprop="url">ğŸ‘ŒSpring çš„ä¾èµ–æ³¨å…¥æ˜¯ä»€ä¹ˆï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒSpring-çš„ä¾èµ–æ³¨å…¥æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸ‘ŒSpring-çš„ä¾èµ–æ³¨å…¥æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸ‘ŒSpring çš„ä¾èµ–æ³¨å…¥æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸ‘ŒSpring çš„ä¾èµ–æ³¨å…¥æ˜¯ä»€ä¹ˆï¼Ÿ</h1><h1 id="å£è¯­åŒ–ç­”æ¡ˆ"><a href="#å£è¯­åŒ–ç­”æ¡ˆ" class="headerlink" title="å£è¯­åŒ–ç­”æ¡ˆ"></a>å£è¯­åŒ–ç­”æ¡ˆ</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ï¼Œä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼Œç®€ç§°DIï¼‰æ˜¯Springæ¡†æ¶å®ç°æ§åˆ¶åè½¬ï¼ˆIoCï¼‰çš„ä¸»è¦æ‰‹æ®µã€‚DIçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†å¯¹è±¡çš„ä¾èµ–å…³ç³»ä»å¯¹è±¡å†…éƒ¨æŠ½ç¦»å‡ºæ¥ï¼Œé€šè¿‡å¤–éƒ¨æ³¨å…¥çš„æ–¹å¼æä¾›ç»™å¯¹è±¡ã€‚è¿™æ ·ï¼Œä¾èµ–å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†ç”±Springå®¹å™¨è´Ÿè´£ï¼Œè€Œä¸æ˜¯ç”±å¯¹è±¡è‡ªèº«è´Ÿè´£ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¨¡å—åŒ–ã€æ¾è€¦åˆå’Œæ˜“äºæµ‹è¯•ã€‚ä»¥ä¸Šã€‚</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>é‡ç‚¹é¢˜ï¼Œä¸‰å¤§æ¦‚å¿µä¹‹ä¸€ã€‚diï¼Œiocï¼Œaop ä¹‹ä¸€ï¼Œå¤§å®¶ä¸€å®šè¦æ•´æ˜ç™½ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>æ„é€ å‡½æ•°ï¼Œsetterï¼Œæ³¨è§£</p>
<h1 id="è¯¦ç»†ç­”æ¡ˆ"><a href="#è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="è¯¦ç»†ç­”æ¡ˆ"></a>è¯¦ç»†ç­”æ¡ˆ</h1><p>åœ¨ä¼ ç»Ÿç¼–ç¨‹ä¸­ï¼Œä¸€ä¸ªå¯¹è±¡é€šå¸¸ä¼šè‡ªå·±åˆ›å»ºå®ƒæ‰€ä¾èµ–çš„å…¶ä»–å¯¹è±¡ã€‚è¿™ç§æ–¹å¼ä½¿å¾—ä»£ç ç´§å¯†è€¦åˆï¼Œä¸åˆ©äºç»´æŠ¤å’Œæµ‹è¯•ã€‚ä¾èµ–æ³¨å…¥é€šè¿‡å°†ä¾èµ–å…³ç³»ä»ä»£ç ä¸­ç§»é™¤ï¼Œè½¬è€Œç”±å¤–éƒ¨å®¹å™¨ï¼ˆå¦‚Springå®¹å™¨ï¼‰æ¥æ³¨å…¥ï¼Œä»è€Œå®ç°äº†å¯¹è±¡ä¹‹é—´çš„æ¾è€¦åˆã€‚</p>
<h2 id="ä¾èµ–æ³¨å…¥çš„ç±»å‹"><a href="#ä¾èµ–æ³¨å…¥çš„ç±»å‹" class="headerlink" title="ä¾èµ–æ³¨å…¥çš„ç±»å‹"></a>ä¾èµ–æ³¨å…¥çš„ç±»å‹</h2><p>Springæ¡†æ¶ä¸»è¦æä¾›äº†ä¸‰ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼š</p>
<p><strong>æ„é€ å‡½æ•°æ³¨å…¥</strong>ï¼šé€šè¿‡æ„é€ å‡½æ•°å°†ä¾èµ–å¯¹è±¡ä¼ é€’ç»™è¢«ä¾èµ–å¯¹è±¡ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class Service &#123;</span><br><span class="line">    private final Repository repository;</span><br><span class="line"></span><br><span class="line">    public Service(Repository repository) &#123;</span><br><span class="line">        this.repository = repository;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Setteræ–¹æ³•æ³¨å…¥</strong>ï¼šé€šè¿‡Setteræ–¹æ³•å°†ä¾èµ–å¯¹è±¡æ³¨å…¥åˆ°è¢«ä¾èµ–å¯¹è±¡ä¸­ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class Service &#123;</span><br><span class="line">    private Repository repository;</span><br><span class="line"></span><br><span class="line">    public void setRepository(Repository repository) &#123;</span><br><span class="line">        this.repository = repository;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å­—æ®µæ³¨å…¥</strong>ï¼šç›´æ¥åœ¨å­—æ®µä¸Šä½¿ç”¨æ³¨è§£è¿›è¡Œæ³¨å…¥ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public class Service &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    private Repository repository;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¾èµ–æ³¨å…¥çš„é…ç½®æ–¹å¼"><a href="#ä¾èµ–æ³¨å…¥çš„é…ç½®æ–¹å¼" class="headerlink" title="ä¾èµ–æ³¨å…¥çš„é…ç½®æ–¹å¼"></a>ä¾èµ–æ³¨å…¥çš„é…ç½®æ–¹å¼</h2><p><strong>XMLé…ç½®</strong>ï¼šé€šè¿‡XMLæ–‡ä»¶å®šä¹‰BeanåŠå…¶ä¾èµ–å…³ç³»ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans&gt;</span><br><span class="line">    &lt;bean id=&quot;repository&quot; class=&quot;com.example.Repository&quot;/&gt;</span><br><span class="line">    &lt;bean id=&quot;service&quot; class=&quot;com.example.Service&quot;&gt;</span><br><span class="line">        &lt;constructor-arg ref=&quot;repository&quot;/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Javaé…ç½®</strong>ï¼šé€šè¿‡Javaç±»å’Œæ³¨è§£å®šä¹‰BeanåŠå…¶ä¾èµ–å…³ç³»ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public Repository repository() &#123;</span><br><span class="line">        return new Repository();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Bean</span><br><span class="line">    public Service service() &#123;</span><br><span class="line">        return new Service(repository());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨è§£é…ç½®</strong>ï¼šé€šè¿‡æ³¨è§£ï¼ˆå¦‚@Component,@Autowiredï¼‰è‡ªåŠ¨æ‰«æå’Œæ³¨å…¥Beanã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class Repository &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Component</span><br><span class="line">public class Service &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    private Repository repository;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/Spring%E7%9A%84%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/Spring%E7%9A%84%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%9F/" itemprop="url">Spring çš„å±æ€§æ³¨å…¥æ–¹å¼æœ‰å“ªå‡ ç§</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒSpring-çš„å±æ€§æ³¨å…¥æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ"><a href="#ğŸ‘ŒSpring-çš„å±æ€§æ³¨å…¥æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ" class="headerlink" title="ğŸ‘ŒSpring çš„å±æ€§æ³¨å…¥æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ"></a>ğŸ‘ŒSpring çš„å±æ€§æ³¨å…¥æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ</h1><h1 id="å£è¯­åŒ–ç­”æ¡ˆ"><a href="#å£è¯­åŒ–ç­”æ¡ˆ" class="headerlink" title="å£è¯­åŒ–ç­”æ¡ˆ"></a>å£è¯­åŒ–ç­”æ¡ˆ</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ï¼Œå±æ€§æ³¨å…¥çš„æ–¹å¼ä¸»è¦æœ‰å‡ ç§ï¼Œæ¯”å¦‚æ„é€ å™¨æ³¨å…¥ï¼Œsetter æ³¨å…¥ï¼Œå­—æ®µæ³¨å…¥ï¼Œvalue æ³¨å…¥ç­‰ç­‰ã€‚æœ€å¸¸è§çš„æˆ‘ä»¬å¹³æ—¶ç”¨çš„æœ€å¤šçš„å°±æ˜¯ï¼Œå°±æ˜¯@Resource ï¼Œ@Autowired è¿™ç§ï¼Œåƒæ„é€ å™¨å’Œ setter è¿™ç§ï¼Œç»å¸¸åœ¨ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…çš„ä¸€äº›æƒ…å†µä¸‹ï¼Œä¼šè¿›è¡Œä½¿ç”¨ï¼Œæ¯”å¦‚å¯¹æ¥ä¸€äº›é˜¿é‡Œäº‘ ossï¼Œå°±ä½“ç°çš„å¾ˆæ˜æ˜¾ã€‚åƒ@Value. è¿™ç§å°±å¸¸å¸¸ç”¨äºè¯»å–é…ç½®æ–‡ä»¶çš„å±æ€§å€¼ï¼Œæ¥ä½¿ç”¨ã€‚ä»¥ä¸Šã€‚</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>å¸¸è€ƒé¢˜ã€‚ä¹Ÿæ˜¯å¹´é™ä½ä¸€ç‚¹çš„å°ä¼™ä¼´ä¼šé—®åˆ°ï¼Œè€ƒå¯Ÿä¸€ä¸‹ä½ å¯¹ä¸åŒæ³¨å…¥çš„æƒ…å†µï¼Œæœ‰æ²¡æœ‰ä¸€å®šçš„é€‰æ‹©ï¼Œä»¥åŠäº†è§£å½“æƒ³æ³¨å…¥ä¸€ä¸ªå±æ€§çš„æ—¶å€™ï¼Œéƒ½å¯ä»¥æœ‰ä»€ä¹ˆæ–¹å¼çš„æ€è·¯ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>æ„é€ å™¨ï¼Œsetterï¼Œ@valueã€‚@resource @autowiredã€‚  </p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>å±æ€§æ³¨å…¥ï¼ˆDependency Injection, DIï¼‰æ˜¯å°†ä¾èµ–å¯¹è±¡æ³¨å…¥åˆ°ç›®æ ‡å¯¹è±¡ä¸­çš„è¿‡ç¨‹ã€‚Spring æ”¯æŒå¤šç§å±æ€§æ³¨å…¥æ–¹å¼ï¼Œä¸»è¦åŒ…æ‹¬æ„é€ å™¨æ³¨å…¥ã€Setter æ–¹æ³•æ³¨å…¥å’Œå­—æ®µæ³¨å…¥ã€‚</p>
<h2 id="æ„é€ å™¨æ³¨å…¥"><a href="#æ„é€ å™¨æ³¨å…¥" class="headerlink" title="æ„é€ å™¨æ³¨å…¥"></a>æ„é€ å™¨æ³¨å…¥</h2><p>æ„é€ å™¨æ³¨å…¥é€šè¿‡ç±»çš„æ„é€ å™¨æ¥æ³¨å…¥ä¾èµ–å¯¹è±¡ã€‚è¿™ç§æ–¹å¼åœ¨å¯¹è±¡åˆ›å»ºæ—¶å°±å®Œæˆäº†ä¾èµ–æ³¨å…¥ï¼Œç¡®ä¿äº†ä¾èµ–å¯¹è±¡çš„ä¸å¯å˜æ€§ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class MyBean &#123;</span><br><span class="line">    private final Dependency dependency;</span><br><span class="line"></span><br><span class="line">    public MyBean(Dependency dependency) &#123;</span><br><span class="line">        this.dependency = dependency;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="XML-é…ç½®"><a href="#XML-é…ç½®" class="headerlink" title="XML é…ç½®"></a>XML é…ç½®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot;&gt;</span><br><span class="line">    &lt;constructor-arg ref=&quot;dependency&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;bean id=&quot;dependency&quot; class=&quot;com.example.Dependency&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h4 id="æ³¨è§£é…ç½®"><a href="#æ³¨è§£é…ç½®" class="headerlink" title="æ³¨è§£é…ç½®"></a>æ³¨è§£é…ç½®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class MyBean &#123;</span><br><span class="line">    private final Dependency dependency;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    public MyBean(Dependency dependency) &#123;</span><br><span class="line">        this.dependency = dependency;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Setter-æ–¹æ³•æ³¨å…¥"><a href="#Setter-æ–¹æ³•æ³¨å…¥" class="headerlink" title="Setter æ–¹æ³•æ³¨å…¥"></a>Setter æ–¹æ³•æ³¨å…¥</h2><p>Setter æ–¹æ³•æ³¨å…¥é€šè¿‡ç±»çš„ Setter æ–¹æ³•æ¥æ³¨å…¥ä¾èµ–å¯¹è±¡ã€‚è¿™ç§æ–¹å¼å…è®¸åœ¨å¯¹è±¡åˆ›å»ºåè¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿è¡Œæ—¶æ›´æ”¹ä¾èµ–å¯¹è±¡ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class MyBean &#123;</span><br><span class="line">    private Dependency dependency;</span><br><span class="line"></span><br><span class="line">    public void setDependency(Dependency dependency) &#123;</span><br><span class="line">        this.dependency = dependency;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="XML-é…ç½®-1"><a href="#XML-é…ç½®-1" class="headerlink" title="XML é…ç½®"></a>XML é…ç½®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot;&gt;</span><br><span class="line">    &lt;property name=&quot;dependency&quot; ref=&quot;dependency&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;bean id=&quot;dependency&quot; class=&quot;com.example.Dependency&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h4 id="æ³¨è§£é…ç½®-1"><a href="#æ³¨è§£é…ç½®-1" class="headerlink" title="æ³¨è§£é…ç½®"></a>æ³¨è§£é…ç½®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class MyBean &#123;</span><br><span class="line">    private Dependency dependency;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    public void setDependency(Dependency dependency) &#123;</span><br><span class="line">        this.dependency = dependency;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­—æ®µæ³¨å…¥"><a href="#å­—æ®µæ³¨å…¥" class="headerlink" title="å­—æ®µæ³¨å…¥"></a>å­—æ®µæ³¨å…¥</h2><p>å­—æ®µæ³¨å…¥ï¼ˆä¹Ÿç§°ä¸ºå±æ€§æ³¨å…¥ï¼‰ç›´æ¥é€šè¿‡åœ¨ç±»çš„å­—æ®µä¸Šä½¿ç”¨æ³¨è§£æ¥æ³¨å…¥ä¾èµ–å¯¹è±¡ã€‚è¿™ç§æ–¹å¼ä¸éœ€è¦ Setter æ–¹æ³•ï¼Œä½†ä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºå®ƒè¿åäº†é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ï¼Œä½¿å¾—ä¾èµ–å…³ç³»ä¸å¤Ÿæ˜ç¡®ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class MyBean &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    private Dependency dependency;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡-Valueæ³¨è§£æ³¨å…¥åŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²"><a href="#é€šè¿‡-Valueæ³¨è§£æ³¨å…¥åŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²" class="headerlink" title="é€šè¿‡@Valueæ³¨è§£æ³¨å…¥åŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²"></a>é€šè¿‡@Valueæ³¨è§£æ³¨å…¥åŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²</h2><p>é™¤äº†æ³¨å…¥ Bean å¯¹è±¡ï¼ŒSpring è¿˜æ”¯æŒé€šè¿‡@Valueæ³¨è§£æ³¨å…¥åŸºæœ¬ç±»å‹ã€å­—ç¬¦ä¸²å’Œå…¶ä»–å€¼ï¼Œå¦‚ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–çš„å€¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class MyBean &#123;</span><br><span class="line">    @Value(&quot;$&#123;my.property&#125;&quot;)</span><br><span class="line">    private String myProperty;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡ç¯å¢ƒå˜é‡æˆ–ç³»ç»Ÿå±æ€§æ³¨å…¥"><a href="#é€šè¿‡ç¯å¢ƒå˜é‡æˆ–ç³»ç»Ÿå±æ€§æ³¨å…¥" class="headerlink" title="é€šè¿‡ç¯å¢ƒå˜é‡æˆ–ç³»ç»Ÿå±æ€§æ³¨å…¥"></a>é€šè¿‡ç¯å¢ƒå˜é‡æˆ–ç³»ç»Ÿå±æ€§æ³¨å…¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class MyBean &#123;</span><br><span class="line">    @Value(&quot;#&#123;systemProperties[&#x27;user.name&#x27;]&#125;&quot;)</span><br><span class="line">    private String userName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡-Resourceæ³¨è§£æ³¨å…¥"><a href="#é€šè¿‡-Resourceæ³¨è§£æ³¨å…¥" class="headerlink" title="é€šè¿‡@Resourceæ³¨è§£æ³¨å…¥"></a>é€šè¿‡@Resourceæ³¨è§£æ³¨å…¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class MyBean &#123;</span><br><span class="line">    @Resource(name = &quot;dependency&quot;)</span><br><span class="line">    private Dependency dependency;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡-Injectæ³¨è§£æ³¨å…¥"><a href="#é€šè¿‡-Injectæ³¨è§£æ³¨å…¥" class="headerlink" title="é€šè¿‡@Injectæ³¨è§£æ³¨å…¥"></a>é€šè¿‡@Injectæ³¨è§£æ³¨å…¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class MyBean &#123;</span><br><span class="line">    @Inject</span><br><span class="line">    private Dependency dependency;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/bean%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/bean%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9F/" itemprop="url">ğŸ‘Œbean çš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œbean-çš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸï¼Ÿ"><a href="#ğŸ‘Œbean-çš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸï¼Ÿ" class="headerlink" title="ğŸ‘Œbean çš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸï¼Ÿ"></a>ğŸ‘Œbean çš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸï¼Ÿ</h1><h1 id="å£è¯­åŒ–ç­”æ¡ˆ"><a href="#å£è¯­åŒ–ç­”æ¡ˆ" class="headerlink" title="å£è¯­åŒ–ç­”æ¡ˆ"></a>å£è¯­åŒ–ç­”æ¡ˆ</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ã€‚bean çš„ä½œç”¨èŒƒå›´ä¸»è¦ç”¨ singletonï¼Œprototypeï¼Œrequestï¼Œsessionï¼Œglobalsessionï¼Œapplicationã€‚å¸¸ç”¨çš„å°±æ˜¯ singletonï¼Œsingleton æ˜¯å•ä¾‹çš„ï¼Œå½“ bean æ˜¯æ— çŠ¶æ€çš„æ—¶å€™ï¼Œsingleton æ˜¯æœ€å¥½çš„ä½¿ç”¨æ–¹å¼ï¼Œå¦‚æœè¯´ bean é‡Œé¢æ¶‰åŠå…±äº«æ•°æ®ï¼Œsingleton å°±ä¸å¤Ÿå®‰å…¨äº†ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä½¿ç”¨ prototypeã€‚bean çš„ç”Ÿå‘½å‘¨æœŸä»å®ä¾‹åŒ–åˆ›å»º bean å¼€å§‹ï¼Œç„¶åè¿›è¡Œå±æ€§è®¾ç½®ã€‚å†ä¹‹åï¼Œè°ƒç”¨ bean çš„ä¸€äº›åˆå§‹åŒ–æ–¹æ³•ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œï¼Œè¿™æ ·å¤„ç†å®Œä¹‹åï¼Œbean å°±å¯ä»¥è¢«ä½¿ç”¨äº†ã€‚æœ€ç»ˆå½“ bean è¦è¢«é”€æ¯çš„æ—¶å€™ï¼Œå°±ä¼šè°ƒç”¨ destroy æ–¹æ³•è¿›è¡Œ bean çš„åç½®å¤„ç†ï¼Œä»¥ä¸Šã€‚</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>éå¸¸å¸¸è€ƒï¼Œä¸€å®šè¦ç†Ÿæ‚‰è¦ singleton å’Œ prototype çš„åŒºåˆ«ã€‚è¿™ä¸ªé‡ç‚¹è¦çš„æ˜¯çŠ¶æ€é—®é¢˜ã€‚bean çš„ç”Ÿå‘½å‘¨æœŸå°±æ¯”è¾ƒå¥½ç­”ï¼ŒæŒ‰ç…§é¡ºåºæ¥è¯´å°±å¯ä»¥äº†ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>singletonï¼Œprototypeï¼Œæ— çŠ¶æ€ï¼Œå®ä¾‹åŒ–ï¼Œå±æ€§è®¾ç½®ï¼Œåˆå§‹æ–¹æ³•ï¼Œé”€æ¯</p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>Beançš„ä½œç”¨èŒƒå›´ï¼ˆScopeï¼‰å’Œç”Ÿå‘½å‘¨æœŸï¼ˆLifecycleï¼‰å†³å®šäº†Beançš„åˆ›å»ºã€ä½¿ç”¨å’Œé”€æ¯æ–¹å¼ã€‚</p>
<h2 id="Beançš„ä½œç”¨èŒƒå›´ï¼ˆScopeï¼‰"><a href="#Beançš„ä½œç”¨èŒƒå›´ï¼ˆScopeï¼‰" class="headerlink" title="Beançš„ä½œç”¨èŒƒå›´ï¼ˆScopeï¼‰"></a>Beançš„ä½œç”¨èŒƒå›´ï¼ˆScopeï¼‰</h2><p><strong>singletonï¼š</strong>é»˜è®¤ä½œç”¨èŒƒå›´ï¼Œæ•´ä¸ªSpringå®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œæ‰€æœ‰å¯¹è¯¥Beançš„å¼•ç”¨éƒ½æŒ‡å‘åŒä¸€ä¸ªå®ä¾‹ã€‚é€‚ç”¨äºæ— çŠ¶æ€çš„Beanã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; scope=&quot;singleton&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>prototypeï¼š</strong>æ¯æ¬¡è¯·æ±‚è¯¥Beanæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚é€‚ç”¨äºæœ‰çŠ¶æ€çš„Beanã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; scope=&quot;prototype&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>requestï¼š</strong>æ¯æ¬¡HTTPè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œä»…é€‚ç”¨äºWebåº”ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; scope=&quot;request&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>sessionï¼š</strong>æ¯ä¸ªHTTPä¼šè¯éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œä»…é€‚ç”¨äºWebåº”ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; scope=&quot;session&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>globalSessionï¼š</strong>æ¯ä¸ªå…¨å±€HTTPä¼šè¯éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œä»…é€‚ç”¨äºPortletåº”ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; scope=&quot;globalSession&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>applicationï¼š</strong>æ¯ä¸ªServletContextä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œé€‚ç”¨äºWebåº”ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; scope=&quot;application&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Beançš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Beançš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Beançš„ç”Ÿå‘½å‘¨æœŸ"></a>Beançš„ç”Ÿå‘½å‘¨æœŸ</h2><p><img src="/2025/03/02/Spring/bean%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9F/DUD24bv6N1y1lj5S/1724754790092-94de9a92-f85f-4b0f-851d-62174f065951-178583.png" alt="1724754790092-94de9a92-f85f-4b0f-851d-62174f065951.png"></p>
<h3 id="å®ä¾‹åŒ–ï¼ˆInstantiationï¼‰"><a href="#å®ä¾‹åŒ–ï¼ˆInstantiationï¼‰" class="headerlink" title="å®ä¾‹åŒ–ï¼ˆInstantiationï¼‰"></a>å®ä¾‹åŒ–ï¼ˆInstantiationï¼‰</h3><p>Springå®¹å™¨æ ¹æ®é…ç½®åˆ›å»ºBeanå®ä¾‹ã€‚</p>
<h3 id="å±æ€§è®¾ç½®ï¼ˆProperty-Populationï¼‰"><a href="#å±æ€§è®¾ç½®ï¼ˆProperty-Populationï¼‰" class="headerlink" title="å±æ€§è®¾ç½®ï¼ˆProperty Populationï¼‰"></a>å±æ€§è®¾ç½®ï¼ˆProperty Populationï¼‰</h3><p>Springå®¹å™¨è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œè®¾ç½®Beançš„å±æ€§ã€‚</p>
<h3 id="åˆå§‹åŒ–ï¼ˆInitializationï¼‰"><a href="#åˆå§‹åŒ–ï¼ˆInitializationï¼‰" class="headerlink" title="åˆå§‹åŒ–ï¼ˆInitializationï¼‰"></a>åˆå§‹åŒ–ï¼ˆInitializationï¼‰</h3><p>å¦‚æœBeanå®ç°äº†InitializingBeanæ¥å£ï¼ŒSpringä¼šè°ƒç”¨å…¶afterPropertiesSet()æ–¹æ³•ã€‚</p>
<p>å¦‚æœåœ¨XMLé…ç½®ä¸­æŒ‡å®šäº†init-methodå±æ€§ï¼ŒSpringä¼šè°ƒç”¨æŒ‡å®šçš„åˆå§‹åŒ–æ–¹æ³•ã€‚</p>
<p>å¦‚æœBeanä½¿ç”¨äº†@PostConstructæ³¨è§£ï¼ŒSpringä¼šè°ƒç”¨æ ‡æ³¨çš„æ–¹æ³•ã€‚</p>
<h3 id="ä½¿ç”¨ï¼ˆUsageï¼‰"><a href="#ä½¿ç”¨ï¼ˆUsageï¼‰" class="headerlink" title="ä½¿ç”¨ï¼ˆUsageï¼‰"></a>ä½¿ç”¨ï¼ˆUsageï¼‰</h3><p>Beanå¤„äºå°±ç»ªçŠ¶æ€ï¼Œå¯ä»¥è¢«åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚</p>
<h3 id="é”€æ¯ï¼ˆDestructionï¼‰"><a href="#é”€æ¯ï¼ˆDestructionï¼‰" class="headerlink" title="é”€æ¯ï¼ˆDestructionï¼‰"></a>é”€æ¯ï¼ˆDestructionï¼‰</h3><p>å¦‚æœBeanå®ç°äº†DisposableBeanæ¥å£ï¼ŒSpringä¼šè°ƒç”¨å…¶destroy()æ–¹æ³•ã€‚</p>
<p>å¦‚æœåœ¨XMLé…ç½®ä¸­æŒ‡å®šäº†destroy-methodå±æ€§ï¼ŒSpringä¼šè°ƒç”¨æŒ‡å®šçš„é”€æ¯æ–¹æ³•ã€‚</p>
<p>å¦‚æœBeanä½¿ç”¨äº†@PreDestroyæ³¨è§£ï¼ŒSpringä¼šè°ƒç”¨æ ‡æ³¨çš„æ–¹æ³•ã€‚</p>
<h2 id="ç”Ÿå‘½å‘¨æœŸå›è°ƒæ¥å£å’Œæ³¨è§£"><a href="#ç”Ÿå‘½å‘¨æœŸå›è°ƒæ¥å£å’Œæ³¨è§£" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸå›è°ƒæ¥å£å’Œæ³¨è§£"></a>ç”Ÿå‘½å‘¨æœŸå›è°ƒæ¥å£å’Œæ³¨è§£</h2><p><strong>InitializingBeanæ¥å£</strong></p>
<p>æ–¹æ³•ï¼šafterPropertiesSet()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class MyBean implements InitializingBean &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void afterPropertiesSet() throws Exception &#123;</span><br><span class="line">        // åˆå§‹åŒ–é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>DisposableBeanæ¥å£</strong></p>
<p>æ–¹æ³•ï¼šdestroy()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class MyBean implements DisposableBean &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void destroy() throws Exception &#123;</span><br><span class="line">        // é”€æ¯é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>@PostConstructæ³¨è§£</strong></p>
<p>ç”¨äºæ ‡æ³¨åˆå§‹åŒ–æ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class MyBean &#123;</span><br><span class="line">    @PostConstruct</span><br><span class="line">    public void init() &#123;</span><br><span class="line">        // åˆå§‹åŒ–é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>@PreDestroyæ³¨è§£</strong></p>
<p>ç”¨äºæ ‡æ³¨é”€æ¯æ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class MyBean &#123;</span><br><span class="line">    @PreDestroy</span><br><span class="line">    public void cleanup() &#123;</span><br><span class="line">        // é”€æ¯é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot; scope=&quot;singleton&quot; init-method=&quot;customInit&quot; destroy-method=&quot;customDestroy&quot;/&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public class MyBean implements InitializingBean, DisposableBean &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void afterPropertiesSet() throws Exception &#123;</span><br><span class="line">        // åˆå§‹åŒ–é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void destroy() throws Exception &#123;</span><br><span class="line">        // é”€æ¯é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @PostConstruct</span><br><span class="line">    public void init() &#123;</span><br><span class="line">        // åˆå§‹åŒ–é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @PreDestroy</span><br><span class="line">    public void cleanup() &#123;</span><br><span class="line">        // é”€æ¯é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void customInit() &#123;</span><br><span class="line">        // è‡ªå®šä¹‰åˆå§‹åŒ–é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void customDestroy() &#123;</span><br><span class="line">        // è‡ªå®šä¹‰é”€æ¯é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id><a href="#" class="headerlink" title></a></h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0/" itemprop="url">ğŸ‘ŒjdkåŠ¨æ€ä»£ç†å¦‚ä½•å®ç°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒjdkåŠ¨æ€ä»£ç†å¦‚ä½•å®ç°"><a href="#ğŸ‘ŒjdkåŠ¨æ€ä»£ç†å¦‚ä½•å®ç°" class="headerlink" title="ğŸ‘ŒjdkåŠ¨æ€ä»£ç†å¦‚ä½•å®ç°"></a>ğŸ‘ŒjdkåŠ¨æ€ä»£ç†å¦‚ä½•å®ç°</h1><h1 id="å£è¯­åŒ–ç­”æ¡ˆ"><a href="#å£è¯­åŒ–ç­”æ¡ˆ" class="headerlink" title="å£è¯­åŒ–ç­”æ¡ˆ"></a>å£è¯­åŒ–ç­”æ¡ˆ</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ã€‚jdk çš„åŠ¨æ€ä»£ç†ä¸»è¦æ˜¯ä¾èµ–Proxy å’ŒInvocationHandler æ¥å£ã€‚jdk åŠ¨æ€ä»£ç†è¦æ±‚ç±»å¿…é¡»æœ‰æ¥å£ã€‚åœ¨è¿›è¡Œå®ç°çš„æ—¶å€™ï¼Œé¦–å…ˆè¦å®šä¹‰æ¥å£ï¼Œæ¯”å¦‚MyServiceï¼Œè¿™ä¸ªæ¥å£å°±æ˜¯æˆ‘ä»¬çš„æ­£å¸¸åŠŸèƒ½çš„å®ç°ã€‚ä½†æ˜¯å¸Œæœ›åœ¨ä¸æ›´æ”¹MyService çš„æƒ…å†µä¸‹å¢åŠ ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªå®ç°InvocationHandler æ¥å£çš„å®ç°ç±»ï¼ŒåŒæ—¶åœ¨æ–¹æ³•å®ç°ä¸Šé¢å¢åŠ é¢å¤–çš„é€»è¾‘ã€‚æœ€åé€šè¿‡ Proxy çš„ newProxyInstance å°†äºŒè€…ç»“åˆåˆ°ä¸€èµ·ã€‚å°±å®ç°äº†åŠ¨æ€ä»£ç†ã€‚ä»¥ä¸Šã€‚</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>å¤§å®¶ä¸è¦è§‰å¾—åŠ¨æ€ä»£ç†å¾ˆéš¾ç†è§£ï¼ŒæŒ‰ç…§è¿™ä¸ªæ­¥éª¤å…¶å®ä½ å‘ç°å¾ˆç®€å•ã€‚è®°å¿†çš„è¿‡ç¨‹å’Œ cglib å¯¹æ¯”ç€çœ‹ï¼Œå°±å¾ˆè½»æ¾ï¼Œé¢è¯•ä¹Ÿæ˜¯å±äºå¸¸è€ƒä¸€ç‚¹çš„é¢˜ç›®ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>InvocationHandler å¢å¼ºï¼ŒProxy åˆ›å»ºä»£ç†</p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>JDK åŠ¨æ€ä»£ç†ä¸»è¦ä¾èµ–äºjava.lang.reflect.Proxyç±»å’Œjava.lang.reflect.InvocationHandleræ¥å£æ¥å®ç°ã€‚</p>
<h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><p><strong>å®šä¹‰æ¥å£</strong>ï¼šå®šä¹‰éœ€è¦ä»£ç†çš„æ¥å£ã€‚</p>
<p><strong>å®ç°æ¥å£</strong>ï¼šåˆ›å»ºæ¥å£çš„å®ç°ç±»ã€‚</p>
<p><strong>åˆ›å»ºè°ƒç”¨å¤„ç†å™¨</strong>ï¼šå®ç°InvocationHandleræ¥å£ï¼Œå¹¶åœ¨invokeæ–¹æ³•ä¸­å®šä¹‰ä»£ç†é€»è¾‘ã€‚</p>
<p><strong>åˆ›å»ºä»£ç†å¯¹è±¡</strong>ï¼šé€šè¿‡Proxy.newProxyInstanceæ–¹æ³•åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</p>
<h2 id="ä»£ç -Demo"><a href="#ä»£ç -Demo" class="headerlink" title="ä»£ç  Demo"></a>ä»£ç  Demo</h2><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„æœåŠ¡æ¥å£MyServiceå’Œå®ƒçš„å®ç°ç±»MyServiceImplï¼Œæˆ‘ä»¬å°†é€šè¿‡ JDK åŠ¨æ€ä»£ç†ä¸ºMyServiceåˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶åœ¨æ–¹æ³•è°ƒç”¨å‰åæ·»åŠ æ—¥å¿—ã€‚</p>
<h4 id="1-å®šä¹‰æ¥å£"><a href="#1-å®šä¹‰æ¥å£" class="headerlink" title="1. å®šä¹‰æ¥å£"></a>1. å®šä¹‰æ¥å£</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface MyService &#123;</span><br><span class="line">    void performTask();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-å®ç°æ¥å£"><a href="#2-å®ç°æ¥å£" class="headerlink" title="2. å®ç°æ¥å£"></a>2. å®ç°æ¥å£</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class MyServiceImpl implements MyService &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void performTask() &#123;</span><br><span class="line">        System.out.println(&quot;Performing task&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-åˆ›å»ºè°ƒç”¨å¤„ç†å™¨"><a href="#3-åˆ›å»ºè°ƒç”¨å¤„ç†å™¨" class="headerlink" title="3. åˆ›å»ºè°ƒç”¨å¤„ç†å™¨"></a>3. åˆ›å»ºè°ƒç”¨å¤„ç†å™¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import java.lang.reflect.InvocationHandler;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line">public class LoggingInvocationHandler implements InvocationHandler &#123;</span><br><span class="line">    private final Object target;</span><br><span class="line"></span><br><span class="line">    public LoggingInvocationHandler(Object target) &#123;</span><br><span class="line">        this.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class="line">        System.out.println(&quot;Logging before method execution: &quot; + method.getName());</span><br><span class="line">        Object result = method.invoke(target, args);</span><br><span class="line">        System.out.println(&quot;Logging after method execution: &quot; + method.getName());</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-åˆ›å»ºä»£ç†å¯¹è±¡å¹¶ä½¿ç”¨"><a href="#4-åˆ›å»ºä»£ç†å¯¹è±¡å¹¶ä½¿ç”¨" class="headerlink" title="4. åˆ›å»ºä»£ç†å¯¹è±¡å¹¶ä½¿ç”¨"></a>4. åˆ›å»ºä»£ç†å¯¹è±¡å¹¶ä½¿ç”¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line">public class MainApp &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // åˆ›å»ºç›®æ ‡å¯¹è±¡</span><br><span class="line">        MyService myService = new MyServiceImpl();</span><br><span class="line"></span><br><span class="line">        // åˆ›å»ºè°ƒç”¨å¤„ç†å™¨</span><br><span class="line">        LoggingInvocationHandler handler = new LoggingInvocationHandler(myService);</span><br><span class="line"></span><br><span class="line">        // åˆ›å»ºä»£ç†å¯¹è±¡</span><br><span class="line">        MyService proxyInstance = (MyService) Proxy.newProxyInstance(</span><br><span class="line">                myService.getClass().getClassLoader(),</span><br><span class="line">                myService.getClass().getInterfaces(),</span><br><span class="line">                handler</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        // è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•</span><br><span class="line">        proxyInstance.performTask();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¯¦ç»†è§£é‡Š"><a href="#è¯¦ç»†è§£é‡Š" class="headerlink" title="è¯¦ç»†è§£é‡Š"></a>è¯¦ç»†è§£é‡Š</h2><p><strong>1ã€ æ¥å£å®šä¹‰å’Œå®ç°</strong>ï¼š</p>
<p>MyServiceæ˜¯ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•performTaskã€‚</p>
<p>MyServiceImplæ˜¯MyServiceçš„å®ç°ç±»ï¼Œå®ç°äº†performTaskæ–¹æ³•ã€‚</p>
<p><strong>2ã€ è°ƒç”¨å¤„ç†å™¨</strong>ï¼š</p>
<p>LoggingInvocationHandlerå®ç°äº†InvocationHandleræ¥å£ã€‚å®ƒçš„invokeæ–¹æ³•åœ¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨æ—¶è¢«è°ƒç”¨ã€‚invokeæ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šproxyï¼šä»£ç†å¯¹è±¡ã€‚methodï¼šè¢«è°ƒç”¨çš„æ–¹æ³•ã€‚argsï¼šæ–¹æ³•å‚æ•°ã€‚åœ¨invokeæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åœ¨æ–¹æ³•è°ƒç”¨å‰åæ·»åŠ äº†æ—¥å¿—æ‰“å°ã€‚</p>
<p><strong>3ã€ åˆ›å»ºä»£ç†å¯¹è±¡</strong>ï¼š</p>
<p>ä½¿ç”¨Proxy.newProxyInstanceæ–¹æ³•åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</p>
<p>newProxyInstanceæ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šç±»åŠ è½½å™¨ï¼šé€šå¸¸ä½¿ç”¨ç›®æ ‡å¯¹è±¡çš„ç±»åŠ è½½å™¨ã€‚æ¥å£æ•°ç»„ï¼šç›®æ ‡å¯¹è±¡å®ç°çš„æ‰€æœ‰æ¥å£ã€‚è°ƒç”¨å¤„ç†å™¨ï¼šå®ç°äº†InvocationHandleræ¥å£çš„å®ä¾‹ã€‚</p>
<p><strong>4ã€ ä½¿ç”¨ä»£ç†å¯¹è±¡</strong>ï¼š</p>
<p>é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå®é™…è°ƒç”¨çš„æ˜¯LoggingInvocationHandlerçš„invokeæ–¹æ³•ã€‚</p>
<p>åœ¨invokeæ–¹æ³•ä¸­ï¼Œé¦–å…ˆæ‰“å°æ—¥å¿—ï¼Œç„¶åé€šè¿‡åå°„è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•ï¼Œæœ€åå†æ‰“å°æ—¥å¿—ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/%E4%BB%80%E4%B9%88%E6%98%AFaop%EF%BC%8Caop%E7%9A%84%E4%BD%9C%E7%94%A8%E5%92%8C%E4%BC%98%E5%8A%BF%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/%E4%BB%80%E4%B9%88%E6%98%AFaop%EF%BC%8Caop%E7%9A%84%E4%BD%9C%E7%94%A8%E5%92%8C%E4%BC%98%E5%8A%BF%EF%BC%9F/" itemprop="url">ğŸ‘Œä»€ä¹ˆæ˜¯aopï¼Œaopçš„ä½œç”¨å’Œä¼˜åŠ¿</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œä»€ä¹ˆæ˜¯aopï¼Œaopçš„ä½œç”¨å’Œä¼˜åŠ¿ï¼Ÿ"><a href="#ğŸ‘Œä»€ä¹ˆæ˜¯aopï¼Œaopçš„ä½œç”¨å’Œä¼˜åŠ¿ï¼Ÿ" class="headerlink" title="ğŸ‘Œä»€ä¹ˆæ˜¯aopï¼Œaopçš„ä½œç”¨å’Œä¼˜åŠ¿ï¼Ÿ"></a>ğŸ‘Œä»€ä¹ˆæ˜¯aopï¼Œaopçš„ä½œç”¨å’Œä¼˜åŠ¿ï¼Ÿ</h1><h1 id="å£è¯­åŒ–å›ç­”"><a href="#å£è¯­åŒ–å›ç­”" class="headerlink" title="å£è¯­åŒ–å›ç­”"></a>å£è¯­åŒ–å›ç­”</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ã€‚aop æ˜¯ spring æ¡†æ¶çš„ä¸€ä¸ªæ ¸å¿ƒã€‚å¸¸è§çš„å¯ä»¥åšæ—¥å¿—è®°å½•ï¼Œäº‹åŠ¡ç®¡ç†ç­‰å…¬å…±æ€§çš„å¤„ç†ã€‚å½“æˆ‘ä»¬æƒ³è¦ç»Ÿä¸€åšä¸€äº›æ°´å¹³ç»Ÿä¸€çš„æ“ä½œçš„æ—¶å€™ï¼Œå°±å¸¸ç”¨ aopã€‚aop çš„æ ¸å¿ƒæ¦‚å¿µå°±æ˜¯é¢å‘åˆ‡é¢å˜æˆã€‚é€šè¿‡ aop å¯ä»¥åœ¨èŒƒå›´å†…çš„ç±»æ–¹æ³•æ‰§è¡Œä¹‹å‰ï¼Œæ‰§è¡Œä¹‹åï¼Œæˆ–è€…å¼‚å¸¸çš„æ—¶å€™ï¼Œåšç»Ÿä¸€çš„æ“ä½œã€‚aop å¯ä»¥æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œä»»ä½•ä¿®æ”¹åªéœ€è¦åœ¨åˆ‡é¢ä¸­è¿›è¡Œï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ä»£ç ã€‚åŸºäºåŠ¨æ€ä»£ç†æœºåˆ¶ï¼Œè¿˜å¯ä»¥åœ¨ä¸ä¿®æ”¹æºä»£ç çš„æƒ…å†µä¸‹ä¸ºç°æœ‰ä»£ç æ·»åŠ åŠŸèƒ½ã€‚åœ¨ boot åº”ç”¨ä½¿ç”¨ä¸­ï¼Œåªéœ€è¦é…åˆAspect æ³¨è§£ï¼Œå³å¯å®ç°åŠŸèƒ½ï¼Œä»¥ä¸Šã€‚</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>aop æ˜¯æ ¸å¿ƒé—®é¢˜ï¼Œspring é‡Œé¢çš„æ¯”è¾ƒå¥½çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå› ä¸ºå®é™…å·¥ä½œä¸­éå¸¸å¸¸ç”¨ï¼Œé¢è¯•å®˜å°±ä¼šé—®ä½ ï¼Œæ˜¯å¦æœ‰ç”¨è¿‡è¿™ä¸€å—çš„ä¸œè¥¿ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>é¢å‘åˆ‡é¢ï¼Œæ¨¡å—åŒ–ï¼Œå‡å°‘é‡å¤ä»£ç </p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><p>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œå®ƒæ—¨åœ¨é€šè¿‡åˆ†ç¦»æ¨ªåˆ‡å…³æ³¨ç‚¹æ¥æé«˜ä»£ç çš„æ¨¡å—åŒ–ã€‚AOP åœ¨ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰åŸºç¡€ä¸Šï¼Œæä¾›äº†ä¸€ç§å¤„ç†ç³»ç»Ÿçº§å…³æ³¨ç‚¹ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ã€å®‰å…¨æ€§ç­‰ï¼‰çš„æœºåˆ¶ï¼Œè€Œè¿™äº›å…³æ³¨ç‚¹é€šå¸¸ä¼šæ•£å¸ƒåœ¨å¤šä¸ªæ¨¡å—ä¸­ã€‚</p>
<h2 id="AOP-çš„åŸºæœ¬æ¦‚å¿µ"><a href="#AOP-çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="AOP çš„åŸºæœ¬æ¦‚å¿µ"></a>AOP çš„åŸºæœ¬æ¦‚å¿µ</h2><p><strong>Aspectï¼ˆåˆ‡é¢ï¼‰</strong>ï¼šåˆ‡é¢æ˜¯æ¨¡å—åŒ–çš„æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚å®ƒå¯ä»¥åŒ…å«å¤šä¸ª adviceï¼ˆé€šçŸ¥ï¼‰å’Œ pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰ã€‚</p>
<p><strong>Adviceï¼ˆé€šçŸ¥ï¼‰</strong>ï¼šé€šçŸ¥æ˜¯åˆ‡é¢åœ¨ç‰¹å®šçš„åˆ‡å…¥ç‚¹æ‰§è¡Œçš„åŠ¨ä½œã€‚é€šçŸ¥æœ‰å‡ ç§ç±»å‹ï¼š</p>
<ul>
<li><strong>Before</strong>ï¼šåœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œã€‚</li>
<li><strong>After</strong>ï¼šåœ¨æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œã€‚</li>
<li><strong>AfterReturning</strong>ï¼šåœ¨æ–¹æ³•æˆåŠŸæ‰§è¡Œä¹‹åæ‰§è¡Œã€‚</li>
<li><strong>AfterThrowing</strong>ï¼šåœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œã€‚</li>
<li><strong>Around</strong>ï¼šåŒ…å›´ä¸€ä¸ªæ–¹æ³•çš„æ‰§è¡Œï¼Œèƒ½å¤Ÿæ§åˆ¶æ–¹æ³•çš„æ‰§è¡Œå‰åã€‚</li>
</ul>
<p><strong>Pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰</strong>ï¼šåˆ‡å…¥ç‚¹å®šä¹‰äº†é€šçŸ¥åº”è¯¥åº”ç”¨åˆ°å“ªäº›è¿æ¥ç‚¹ä¸Šã€‚è¿æ¥ç‚¹æ˜¯ç¨‹åºæ‰§è¡Œçš„ç‰¹å®šç‚¹ï¼Œå¦‚æ–¹æ³•è°ƒç”¨æˆ–å¼‚å¸¸æŠ›å‡ºã€‚</p>
<p><strong>Join Pointï¼ˆè¿æ¥ç‚¹ï¼‰</strong>ï¼šç¨‹åºæ‰§è¡Œçš„ç‰¹å®šç‚¹ï¼Œä¾‹å¦‚æ–¹æ³•è°ƒç”¨æˆ–å¼‚å¸¸æŠ›å‡ºã€‚</p>
<p><strong>Weavingï¼ˆç»‡å…¥ï¼‰</strong>ï¼šå°†åˆ‡é¢åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡åˆ›å»ºä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚ç»‡å…¥å¯ä»¥åœ¨ç¼–è¯‘æ—¶ã€ç±»åŠ è½½æ—¶ã€è¿è¡Œæ—¶è¿›è¡Œã€‚</p>
<h2 id="AOP-çš„ä½œç”¨å’Œä¼˜åŠ¿"><a href="#AOP-çš„ä½œç”¨å’Œä¼˜åŠ¿" class="headerlink" title="AOP çš„ä½œç”¨å’Œä¼˜åŠ¿"></a>AOP çš„ä½œç”¨å’Œä¼˜åŠ¿</h2><p><strong>æ¨¡å—åŒ–æ¨ªåˆ‡å…³æ³¨ç‚¹</strong>ï¼šAOP å…è®¸å°†æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ã€å®‰å…¨æ€§ç­‰ï¼‰ä»ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä»è€Œæé«˜ä»£ç çš„æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<p><strong>å‡å°‘é‡å¤ä»£ç </strong>ï¼šé€šè¿‡å°†é€šç”¨åŠŸèƒ½æå–åˆ°åˆ‡é¢ä¸­ï¼Œå¯ä»¥å‡å°‘ä»£ç çš„é‡å¤ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<p><strong>æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§</strong>ï¼šç”±äºæ¨ªåˆ‡å…³æ³¨ç‚¹è¢«æ¨¡å—åŒ–ä¸ºåˆ‡é¢ï¼Œä»»ä½•ä¿®æ”¹åªéœ€è¦åœ¨åˆ‡é¢ä¸­è¿›è¡Œï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œä»è€Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<p><strong>åŠ¨æ€ä»£ç†</strong>ï¼šAOP ä½¿ç”¨åŠ¨æ€ä»£ç†æœºåˆ¶ï¼Œå¯ä»¥åœ¨ä¸ä¿®æ”¹æºä»£ç çš„æƒ…å†µä¸‹ä¸ºç°æœ‰ä»£ç æ·»åŠ åŠŸèƒ½ã€‚</p>
<p><strong>å¢å¼ºä»£ç çš„å¯æµ‹è¯•æ€§</strong>ï¼šç”±äºæ¨ªåˆ‡å…³æ³¨ç‚¹è¢«åˆ†ç¦»æˆåˆ‡é¢ï¼Œä¸šåŠ¡é€»è¾‘ä»£ç å˜å¾—æ›´åŠ ç®€æ´å’Œä¸“æ³¨ï¼Œä»è€Œæé«˜äº†ä»£ç çš„å¯æµ‹è¯•æ€§ã€‚</p>
<h2 id="AOP-çš„åº”ç”¨åœºæ™¯"><a href="#AOP-çš„åº”ç”¨åœºæ™¯" class="headerlink" title="AOP çš„åº”ç”¨åœºæ™¯"></a>AOP çš„åº”ç”¨åœºæ™¯</h2><p><strong>æ—¥å¿—è®°å½•</strong>ï¼šåœ¨æ–¹æ³•è°ƒç”¨å‰åè®°å½•æ—¥å¿—ã€‚</p>
<p><strong>äº‹åŠ¡ç®¡ç†</strong>ï¼šåœ¨æ–¹æ³•æ‰§è¡Œå‰å¼€å¯äº‹åŠ¡ï¼Œåœ¨æ–¹æ³•æ‰§è¡Œåæäº¤äº‹åŠ¡ï¼Œåœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸æ—¶å›æ»šäº‹åŠ¡ã€‚</p>
<p><strong>å®‰å…¨æ€§æ£€æŸ¥</strong>ï¼šåœ¨æ–¹æ³•æ‰§è¡Œå‰è¿›è¡Œæƒé™æ£€æŸ¥ã€‚</p>
<p><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šåœ¨æ–¹æ³•æ‰§è¡Œå‰åè®°å½•æ‰§è¡Œæ—¶é—´ã€‚</p>
<p><strong>ç¼“å­˜</strong>ï¼šåœ¨æ–¹æ³•è°ƒç”¨å‰æ£€æŸ¥ç¼“å­˜ï¼Œåœ¨æ–¹æ³•è°ƒç”¨åæ›´æ–°ç¼“å­˜ã€‚</p>
<h2 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h2><h4 id="å®šä¹‰åˆ‡é¢"><a href="#å®šä¹‰åˆ‡é¢" class="headerlink" title="å®šä¹‰åˆ‡é¢"></a>å®šä¹‰åˆ‡é¢</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import org.aspectj.lang.annotation.Aspect;</span><br><span class="line">import org.aspectj.lang.annotation.Before;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class LoggingAspect &#123;</span><br><span class="line">    @Before(&quot;execution(* com.example.service.*.*(..))&quot;)</span><br><span class="line">    public void logBefore() &#123;</span><br><span class="line">        System.out.println(&quot;Logging before method execution&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é…ç½®-Spring-åº”ç”¨"><a href="#é…ç½®-Spring-åº”ç”¨" class="headerlink" title="é…ç½® Spring åº”ç”¨"></a>é…ç½® Spring åº”ç”¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import org.springframework.context.annotation.ComponentScan;</span><br><span class="line">import org.springframework.context.annotation.Configuration;</span><br><span class="line">import org.springframework.context.annotation.EnableAspectJAutoProxy;</span><br><span class="line"></span><br><span class="line">@Configuration</span><br><span class="line">@ComponentScan(basePackages = &quot;com.example&quot;)</span><br><span class="line">@EnableAspectJAutoProxy</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨-AOP-çš„æœåŠ¡ç±»"><a href="#ä½¿ç”¨-AOP-çš„æœåŠ¡ç±»" class="headerlink" title="ä½¿ç”¨ AOP çš„æœåŠ¡ç±»"></a>ä½¿ç”¨ AOP çš„æœåŠ¡ç±»</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line">@Service</span><br><span class="line">public class MyService &#123;</span><br><span class="line">    public void performTask() &#123;</span><br><span class="line">        System.out.println(&quot;Performing task&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸»åº”ç”¨"><a href="#ä¸»åº”ç”¨" class="headerlink" title="ä¸»åº”ç”¨"></a>ä¸»åº”ç”¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line">public class MainApp &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);</span><br><span class="line">        MyService myService = context.getBean(MyService.class);</span><br><span class="line">        myService.performTask();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>LoggingAspectåˆ‡é¢ä¼šåœ¨æ¯æ¬¡è°ƒç”¨MyServiceä¸­çš„æ–¹æ³•æ—¶è®°å½•æ—¥å¿—ï¼Œè€Œæ— éœ€ä¿®æ”¹MyServiceçš„æºä»£ç ã€‚ AOP é€šè¿‡åˆ†ç¦»æ¨ªåˆ‡å…³æ³¨ç‚¹æ¥æé«˜ä»£ç çš„æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤æ€§ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/03/02/Spring/%E8%AF%B4%E8%AF%B4Spring%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B3%A8%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/03/02/Spring/%E8%AF%B4%E8%AF%B4Spring%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B3%A8%E8%A7%A3/" itemprop="url">ğŸ‘Œè¯´è¯´Springå¸¸ç”¨çš„æ³¨è§£</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-03-02T13:33:41+00:00">
                2025-03-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œè¯´è¯´Springå¸¸ç”¨çš„æ³¨è§£"><a href="#ğŸ‘Œè¯´è¯´Springå¸¸ç”¨çš„æ³¨è§£" class="headerlink" title="ğŸ‘Œè¯´è¯´Springå¸¸ç”¨çš„æ³¨è§£"></a>ğŸ‘Œè¯´è¯´Springå¸¸ç”¨çš„æ³¨è§£</h1><h1 id="å£è¯­åŒ–å›ç­”"><a href="#å£è¯­åŒ–å›ç­”" class="headerlink" title="å£è¯­åŒ–å›ç­”"></a>å£è¯­åŒ–å›ç­”</h1><p>å¥½çš„ï¼Œé¢è¯•å®˜ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„å°±æ˜¯Componentï¼Œå°†ç±»æ”¾åˆ°å®¹å™¨ç®¡ç†ï¼Œautowiredï¼Œresourceï¼Œæ¥è£…é… beanã€‚è¿˜æœ‰å°±æ˜¯ configuration å’Œ bean è¿›è¡Œé…åˆï¼Œè£…è½½ bean è¿›å…¥å®¹å™¨ã€‚ä»¥åŠä¸€äº›æ‰©å±•çš„æ³¨è§£æ¯”å¦‚ aop çš„ aspect åˆ‡é¢ï¼Œäº‹åŠ¡ç›¸å…³çš„ transsactionalã€‚ä»¥ä¸Šã€‚</p>
<h1 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h1><p>åŸºæœ¬ä¸ä¼šè€ƒï¼Œè¿™ä¸ªæ²¡å•¥æ„ä¹‰ï¼Œä¸æ’é™¤å°å…¬å¸æˆ–åº”å±Šä¼šé—®åˆ°è¿™ä¸ªé—®é¢˜ã€‚</p>
<h1 id="é¢è¯•å¾—åˆ†ç‚¹"><a href="#é¢è¯•å¾—åˆ†ç‚¹" class="headerlink" title="é¢è¯•å¾—åˆ†ç‚¹"></a>é¢è¯•å¾—åˆ†ç‚¹</h1><p>éšä¾¿æä¸‹é¢çš„ 3ï½4 ä¸ªæ³¨è§£è¯´å‡ºæ¥å³å¯ã€‚</p>
<h1 id="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"><a href="#é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ" class="headerlink" title="é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ"></a>é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ</h1><h2 id="æ ¸å¿ƒæ³¨è§£"><a href="#æ ¸å¿ƒæ³¨è§£" class="headerlink" title="æ ¸å¿ƒæ³¨è§£"></a>æ ¸å¿ƒæ³¨è§£</h2><p>@Componentï¼šå°†ä¸€ä¸ªç±»æ ‡è®°ä¸º Spring ç»„ä»¶ç±»ï¼Œè¡¨ç¤ºè¿™ä¸ªç±»çš„å®ä¾‹å°†ç”± Spring å®¹å™¨ç®¡ç†ã€‚</p>
<p>@Autowiredï¼šè‡ªåŠ¨æ³¨å…¥ä¾èµ–å¯¹è±¡ã€‚å¯ä»¥ç”¨äºæ„é€ å™¨ã€å­—æ®µã€Setter æ–¹æ³•æˆ–å…¶ä»–ä»»æ„æ–¹æ³•ã€‚</p>
<p>@Qualifierï¼šåœ¨æœ‰å¤šä¸ªå€™é€‰ Bean æ—¶ï¼ŒæŒ‡å®šè¦æ³¨å…¥çš„ Beanã€‚é€šå¸¸ä¸@Autowiredä¸€èµ·ä½¿ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class MyComponent &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    @Qualifier(&quot;specificBean&quot;)</span><br><span class="line">    private Dependency dependency;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Valueï¼šæ³¨å…¥å¤–éƒ¨åŒ–çš„å€¼ï¼Œä¾‹å¦‚é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§å€¼ã€ç³»ç»Ÿå±æ€§æˆ–ç¯å¢ƒå˜é‡ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">public class MyComponent &#123;</span><br><span class="line">    @Value(&quot;$&#123;my.property&#125;&quot;)</span><br><span class="line">    private String myProperty;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Configurationï¼šæ ‡è®°ä¸€ä¸ªç±»ä¸º Spring é…ç½®ç±»ï¼Œè¯¥ç±»å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª@Beanæ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public MyComponent myComponent() &#123;</span><br><span class="line">        return new MyComponent();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Beanï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªè¦æ³¨å†Œä¸º Spring å®¹å™¨ç®¡ç†çš„ Beanã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Bean</span><br><span class="line">public MyComponent myComponent() &#123;</span><br><span class="line">    return new MyComponent();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@ComponentScanï¼šæŒ‡å®šè¦æ‰«æçš„åŒ…ï¼Œä»¥æŸ¥æ‰¾å¸¦æœ‰@Componentã€@Serviceã€@Repositoryå’Œ@Controlleræ³¨è§£çš„ç±»ï¼Œå¹¶å°†å®ƒä»¬æ³¨å†Œä¸º Spring Beanã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">@ComponentScan(basePackages = &quot;com.example&quot;)</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line">    // é…ç½®ç±»å†…å®¹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Primaryï¼šæ ‡è®°ä¸€ä¸ª Bean ä¸ºé¦–é€‰ Beanï¼Œå½“æœ‰å¤šä¸ªå€™é€‰ Bean æ—¶ï¼ŒSpring ä¼šä¼˜å…ˆæ³¨å…¥å¸¦æœ‰@Primaryæ³¨è§£çš„ Beanã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">@Primary</span><br><span class="line">public class PrimaryBean implements Dependency &#123;</span><br><span class="line">    // å®ç°</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Scopeï¼šæŒ‡å®š Bean çš„ä½œç”¨åŸŸï¼Œä¾‹å¦‚å•ä¾‹ï¼ˆsingletonï¼‰ã€åŸå‹ï¼ˆprototypeï¼‰ç­‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">@Scope(&quot;prototype&quot;)</span><br><span class="line">public class PrototypeBean &#123;</span><br><span class="line">    // å®ç°</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç‰¹å®šç”¨é€”æ³¨è§£"><a href="#ç‰¹å®šç”¨é€”æ³¨è§£" class="headerlink" title="ç‰¹å®šç”¨é€”æ³¨è§£"></a>ç‰¹å®šç”¨é€”æ³¨è§£</h2><p>@Serviceï¼šæ ‡è®°ä¸€ä¸ªç±»ä¸ºæœåŠ¡å±‚ç»„ä»¶ï¼Œå®é™…ä¸Šæ˜¯@Componentçš„ç‰¹æ®ŠåŒ–ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class MyService &#123;</span><br><span class="line">    // æœåŠ¡é€»è¾‘</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Repositoryï¼šæ ‡è®°ä¸€ä¸ªç±»ä¸ºæ•°æ®è®¿é—®å±‚ç»„ä»¶ï¼Œå®é™…ä¸Šæ˜¯@Componentçš„ç‰¹æ®ŠåŒ–ï¼Œå¹¶ä¸”æ”¯æŒæŒä¹…åŒ–å¼‚å¸¸è½¬æ¢ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Repository</span><br><span class="line">public class MyRepository &#123;</span><br><span class="line">    // æ•°æ®è®¿é—®é€»è¾‘</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Controllerï¼šæ ‡è®°ä¸€ä¸ªç±»ä¸º Spring MVC æ§åˆ¶å™¨ï¼Œå®é™…ä¸Šæ˜¯@Componentçš„ç‰¹æ®ŠåŒ–</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class MyController &#123;</span><br><span class="line">    // æ§åˆ¶å™¨é€»è¾‘</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@RestControllerï¼šæ ‡è®°ä¸€ä¸ªç±»ä¸º RESTful Web æœåŠ¡çš„æ§åˆ¶å™¨ï¼Œç­‰åŒäº@Controllerå’Œ@ResponseBodyçš„ç»„åˆã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">public class MyRestController &#123;</span><br><span class="line">    @GetMapping(&quot;/hello&quot;)</span><br><span class="line">    public String hello() &#123;</span><br><span class="line">        return &quot;Hello, World!&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ç›¸å…³æ³¨è§£"><a href="#AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ç›¸å…³æ³¨è§£" class="headerlink" title="AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ç›¸å…³æ³¨è§£"></a>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ç›¸å…³æ³¨è§£</h2><p>@Aspectï¼šæ ‡è®°ä¸€ä¸ªç±»ä¸ºåˆ‡é¢ç±»ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class MyAspect &#123;</span><br><span class="line">    // åˆ‡é¢é€»è¾‘</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Beforeï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class MyAspect &#123;</span><br><span class="line">    @Before(&quot;execution(* com.example.service.*.*(..))&quot;)</span><br><span class="line">    public void beforeMethod(JoinPoint joinPoint) &#123;</span><br><span class="line">        // å‰ç½®é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Afterï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class MyAspect &#123;</span><br><span class="line">    @After(&quot;execution(* com.example.service.*.*(..))&quot;)</span><br><span class="line">    public void afterMethod(JoinPoint joinPoint) &#123;</span><br><span class="line">        // åç½®é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Aroundï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼ŒåŒ…å›´ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class MyAspect &#123;</span><br><span class="line">    @Around(&quot;execution(* com.example.service.*.*(..))&quot;)</span><br><span class="line">    public Object aroundMethod(ProceedingJoinPoint joinPoint) throws Throwable &#123;</span><br><span class="line">        // ç¯ç»•é€»è¾‘</span><br><span class="line">        return joinPoint.proceed();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äº‹åŠ¡ç®¡ç†ç›¸å…³æ³¨è§£"><a href="#äº‹åŠ¡ç®¡ç†ç›¸å…³æ³¨è§£" class="headerlink" title="äº‹åŠ¡ç®¡ç†ç›¸å…³æ³¨è§£"></a>äº‹åŠ¡ç®¡ç†ç›¸å…³æ³¨è§£</h2><p>@Transactionalï¼šæ ‡è®°ä¸€ä¸ªæ–¹æ³•æˆ–ç±»ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•æˆ–ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½éœ€è¦äº‹åŠ¡ç®¡ç†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class MyService &#123;</span><br><span class="line">    @Transactional</span><br><span class="line">    public void performTransaction() &#123;</span><br><span class="line">        // äº‹åŠ¡é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/02/22/%E7%AC%94%E8%AE%B0/MyBatis%E6%8B%A6%E6%88%AA%E5%99%A8%E5%AE%9E%E7%8E%B0%E5%88%86%E8%A1%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/02/22/%E7%AC%94%E8%AE%B0/MyBatis%E6%8B%A6%E6%88%AA%E5%99%A8%E5%AE%9E%E7%8E%B0%E5%88%86%E8%A1%A8/" itemprop="url">MyBatisæ‹¦æˆªå™¨å®ç°åˆ†è¡¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-02-22T17:33:00+00:00">
                2025-02-22
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%86%E8%A1%A8/" itemprop="url" rel="index">
                    <span itemprop="name">åˆ†è¡¨</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒMyBatisæ‹¦æˆªå™¨å®ç°åˆ†è¡¨"><a href="#ğŸ‘ŒMyBatisæ‹¦æˆªå™¨å®ç°åˆ†è¡¨" class="headerlink" title="ğŸ‘ŒMyBatisæ‹¦æˆªå™¨å®ç°åˆ†è¡¨"></a>ğŸ‘ŒMyBatisæ‹¦æˆªå™¨å®ç°åˆ†è¡¨</h1><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a><font style="color:rgb(47, 48, 52);">èƒŒæ™¯</font></h1><p><font style="color:rgb(47, 48, 52);">æ‰€è´Ÿè´£çš„ä¸šåŠ¡ä¸­æœ‰ä¸€ä¸ª xx ç³»ç»Ÿï¼Œå…¶ä¸­çš„ xx æ ¸å¿ƒè¡¨å¢é•¿é€Ÿåº¦éå¸¸å¿«ï¼Œæ¯æ—¥å¢é•¿ 200W çš„æ•°æ®é‡ï¼Œä¸šåŠ¡ç‰¹æ€§ä¸»è¦æ˜¯æŸ¥è¯¢æœ€è¿‘ä¸€å‘¨çš„æ•°æ®ï¼Œé‚£ä¹ˆéšç€æ•°æ®é‡è¶Šæ¥è¶Šå¤šï¼ŒæŸ¥è¯¢æ€§èƒ½ç–¯ç‹‚ä¸‹é™ã€‚è¿™æ˜¯å…¸å‹çš„å†·çƒ­æ•°æ®åœºæ™¯ï¼Œäºæ˜¯è¦å¼€å§‹è¿›è¡Œå†·çƒ­åˆ†ç¦»çš„æ“ä½œã€‚</font></p>
<p><font style="color:rgb(47, 48, 52);">å¸¸è§çš„ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯åˆ é™¤&#x2F;å½’æ¡£æ—§æ•°æ®ï¼Œä¸€ç§æ˜¯æ•°æ®åˆ†è¡¨ã€‚</font></p>
<h1 id><a href="#" class="headerlink" title></a><font style="color:rgb(47, 48, 52);"></font></h1><p><font style="color:rgb(47, 48, 52);">æ–¹æ¡ˆé€‰æ‹©</font></p>
<h2 id="å½’æ¡£-x2F-åˆ é™¤æ—§æ•°æ®"><a href="#å½’æ¡£-x2F-åˆ é™¤æ—§æ•°æ®" class="headerlink" title="å½’æ¡£&#x2F;åˆ é™¤æ—§æ•°æ®"></a><font style="color:rgb(47, 48, 52);">å½’æ¡£&#x2F;åˆ é™¤æ—§æ•°æ®</font></h2><p><font style="color:rgb(47, 48, 52);">è¿™ç§æ–¹å¼æœ€å¸¸è§çš„å‘éš¾å°±æ˜¯å°†å†·æ•°æ®ç§»åŠ¨åˆ°å½’æ¡£è¡¨æˆ–è€…ç›´æ¥è¿›è¡Œåˆ é™¤ï¼Œä»è€Œå‡å°‘è¡¨çš„å¤§å°ã€‚</font></p>
<p><font style="color:rgb(47, 48, 52);">å®ç°æ€è·¯éå¸¸ç®€å•ï¼Œä¸€èˆ¬å†™ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ä¸æ–­çš„è·‘å°±å¯ä»¥äº†ã€‚</font></p>
<p><font style="color:rgb(47, 48, 52);">ç¼ºç‚¹ï¼š</font></p>
<p><font style="color:rgb(47, 48, 52);">1ã€æ•°æ®åˆ é™¤ä¼šå½±å“æ•°æ®åº“æ€§èƒ½ï¼Œå¼•å‘æ…¢sqlï¼Œå¤šå¼ è¡¨å¹¶è¡Œåˆ é™¤ï¼Œæ•°æ®åº“å‹åŠ›ä¼šæ›´å¤§ã€‚</font></p>
<p><font style="color:rgb(47, 48, 52);">2ã€é¢‘ç¹åˆ é™¤æ•°æ®ï¼Œä¼šäº§ç”Ÿæ•°æ®åº“ç¢ç‰‡ï¼Œå½±å“æ•°æ®åº“æ€§èƒ½ï¼Œå¼•å‘æ…¢SQLã€‚</font></p>
<p><font style="color:rgb(47, 48, 52);">æœ‰ä¸€å®šçš„é£é™©ï¼Œé€‰æ‹©å¦ä¸€ç§åˆ†è¡¨çš„æ–¹æ¡ˆã€‚</font></p>
<h2 id="åˆ†è¡¨"><a href="#åˆ†è¡¨" class="headerlink" title="åˆ†è¡¨"></a><font style="color:rgb(47, 48, 52);">åˆ†è¡¨</font></h2><p><font style="color:rgb(47, 48, 52);">ä¸šåŠ¡ç‰¹æ€§æ˜¯æŸ¥æœ€è¿‘çš„ä¸€å‘¨çš„æ•°æ®ï¼ŒæŒ‰æ—¥æœŸçš„æ°´å¹³æ‹†åˆ†æ˜¯åˆç†çš„ã€‚æ¯å‘¨ç”Ÿæˆä¸€å¼ æ–°è¡¨ï¼ŒåŒæ—¶æ­¤è¡¨åªæ”¾æœ¬å‘¨çš„æ•°æ®ï¼Œè¿™æ ·è¡¨å†…æ•°æ®é‡å¾—åˆ°äº†æ§åˆ¶ï¼Œä¸ä¼šå¾ˆå¤§ã€‚</font></p>
<h3 id="åˆ†è¡¨æ–¹æ¡ˆé€‰å‹"><a href="#åˆ†è¡¨æ–¹æ¡ˆé€‰å‹" class="headerlink" title="åˆ†è¡¨æ–¹æ¡ˆé€‰å‹"></a><font style="color:rgb(47, 48, 52);">åˆ†è¡¨æ–¹æ¡ˆé€‰å‹</font></h3><p><font style="color:rgb(47, 48, 52);">åˆ†åˆ«å¸¸è§çš„ä¸»è¦è€ƒè™‘2ç§åˆ†è¡¨æ–¹æ¡ˆï¼šSharding-JDBCã€åˆ©ç”¨Mybatisè‡ªå¸¦çš„æ‹¦æˆªå™¨ç‰¹æ€§ã€‚</font></p>
<p><font style="color:rgb(47, 48, 52);">ç»è¿‡å¯¹æ¯”åï¼Œå†³å®šé‡‡ç”¨Mybatisæ‹¦æˆªå™¨æ¥å®ç°åˆ†è¡¨ã€‚</font></p>
<p><font style="color:rgb(47, 48, 52);">1ã€JAVAç”Ÿæ€ä¸­å¾ˆå¸¸ç”¨çš„åˆ†è¡¨æ¡†æ¶æ˜¯Sharding-JDBCï¼Œè™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†éœ€è¦ä¸€å®šçš„æ¥å…¥æˆæœ¬ï¼Œå¹¶ä¸”å¾ˆå¤šåŠŸèƒ½æš‚æ—¶ç”¨ä¸ä¸Šã€‚</font></p>
<p><font style="color:rgb(47, 48, 52);">2ã€ç³»ç»Ÿæœ¬èº«å·²ç»åœ¨ä½¿ç”¨Mybatisäº†ï¼Œåªéœ€è¦æ·»åŠ ä¸€ä¸ªmybaitsæ‹¦æˆªå™¨ï¼ŒæŠŠSQLè¡¨åæ›¿æ¢ä¸ºæ–°çš„å‘¨æœŸè¡¨å°±å¯ä»¥äº†ï¼Œæ²¡æœ‰æ¥å…¥æ–°æ¡†æ¶çš„æˆæœ¬ï¼Œå¼€å‘æˆæœ¬ä¹Ÿä¸é«˜ã€‚</font></p>
<h3 id="åˆ†è¡¨å…·ä½“å®ç°æ€è·¯"><a href="#åˆ†è¡¨å…·ä½“å®ç°æ€è·¯" class="headerlink" title="åˆ†è¡¨å…·ä½“å®ç°æ€è·¯"></a><font style="color:rgb(47, 48, 52);">åˆ†è¡¨å…·ä½“å®ç°æ€è·¯</font></h3><p>1ã€é€šè¿‡æ‹¦æˆªå™¨è·å–è¡¨å</p>
<p><font style="color:rgb(51, 51, 51);">String tableName &#x3D; TemplateMatchService.matchTableName(boundSql.getSql().trim());</font></p>
<p>2ã€æ ¹æ®æ•°æ®æ—¥æœŸè¿›è¡Œè®¡ç®—åç¼€</p>
<p>3ã€æ›¿æ¢åŸæœ‰ sqlï¼Œæœ€ç»ˆæ‰§è¡Œã€‚</p>
<p><font style="color:rgb(51, 51, 51);"> String rebuildSql &#x3D; boundSql.getSql().replace(shardingProperty.getTableName(), shardingTable);</font></p>
<p><font style="color:rgb(51, 51, 51);"> metaStatementHandler.setValue(ORIGIN_BOUND_SQL, rebuildSql);</font></p>
<font style="color:rgb(47, 48, 52);">  
</font>

<font style="color:rgb(0, 0, 0);">  
</font>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/Linux%E4%B8%AD%E6%96%AD%E6%9C%BA%E5%88%B6%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/Linux%E4%B8%AD%E6%96%AD%E6%9C%BA%E5%88%B6%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" itemprop="url">Linuxä¸­æ–­æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-02-20T13:33:41+00:00">
                2025-02-20
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒLinuxä¸­æ–­æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸ‘ŒLinuxä¸­æ–­æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸ‘ŒLinuxä¸­æ–­æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸ‘ŒLinuxä¸­æ–­æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>Linuxä¸­æ–­æœºåˆ¶æ˜¯æ“ä½œç³»ç»Ÿå¤„ç†ç¡¬ä»¶å’Œè½¯ä»¶äº‹ä»¶çš„ä¸€ç§é‡è¦æ–¹å¼ã€‚ä¸­æ–­å¯ä»¥ä½¿æ“ä½œç³»ç»ŸåŠæ—¶å“åº”å„ç§äº‹ä»¶ï¼Œå¦‚ç¡¬ä»¶è®¾å¤‡çš„è¾“å…¥è¾“å‡ºæ“ä½œã€å®šæ—¶å™¨äº‹ä»¶ç­‰ã€‚</p>
<h3 id="ä¸­æ–­çš„åŸºæœ¬æ¦‚å¿µ"><a href="#ä¸­æ–­çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸­æ–­çš„åŸºæœ¬æ¦‚å¿µ"></a>ä¸­æ–­çš„åŸºæœ¬æ¦‚å¿µ</h3><h4 id="1-ä¸­æ–­ç±»å‹"><a href="#1-ä¸­æ–­ç±»å‹" class="headerlink" title="1.ä¸­æ–­ç±»å‹"></a>1.<strong>ä¸­æ–­ç±»å‹</strong></h4><ul>
<li><strong>ç¡¬ä»¶ä¸­æ–­</strong>ï¼šç”±ç¡¬ä»¶è®¾å¤‡ï¼ˆå¦‚é”®ç›˜ã€ç½‘å¡ã€ç¡¬ç›˜ç­‰ï¼‰å‘å‡ºçš„ä¿¡å·ï¼Œå¼•èµ·CPUä¸­æ–­å½“å‰æ‰§è¡Œçš„ç¨‹åºï¼Œè½¬è€Œæ‰§è¡Œä¸­æ–­å¤„ç†ç¨‹åºã€‚</li>
<li><strong>è½¯ä»¶ä¸­æ–­</strong>ï¼šç”±è½¯ä»¶æŒ‡ä»¤ï¼ˆå¦‚ç³»ç»Ÿè°ƒç”¨ã€å¼‚å¸¸ç­‰ï¼‰å¼•å‘çš„ä¸­æ–­ã€‚</li>
</ul>
<h4 id="2-ä¸­æ–­å‘é‡è¡¨"><a href="#2-ä¸­æ–­å‘é‡è¡¨" class="headerlink" title="2.ä¸­æ–­å‘é‡è¡¨"></a>2.<strong>ä¸­æ–­å‘é‡è¡¨</strong></h4><p>ä¸­æ–­å‘é‡è¡¨ï¼ˆInterrupt Vector Table, IVTï¼‰æ˜¯ä¸€ä¸ªåŒ…å«ä¸­æ–­æœåŠ¡ç¨‹åºåœ°å€çš„è¡¨ã€‚å½“ä¸­æ–­å‘ç”Ÿæ—¶ï¼ŒCPUé€šè¿‡ä¸­æ–­å‘é‡è¡¨æ‰¾åˆ°ç›¸åº”çš„ä¸­æ–­æœåŠ¡ç¨‹åºå¹¶æ‰§è¡Œã€‚</p>
<h3 id="ä¸­æ–­å¤„ç†æµç¨‹"><a href="#ä¸­æ–­å¤„ç†æµç¨‹" class="headerlink" title="ä¸­æ–­å¤„ç†æµç¨‹"></a>ä¸­æ–­å¤„ç†æµç¨‹</h3><ol>
<li><strong>ä¸­æ–­å‘ç”Ÿ</strong>ï¼šç¡¬ä»¶è®¾å¤‡æˆ–è½¯ä»¶äº‹ä»¶å‘å‡ºä¸­æ–­ä¿¡å·ã€‚</li>
<li><strong>ä¸­æ–­å“åº”</strong>ï¼šCPUåœæ­¢å½“å‰æ‰§è¡Œçš„ç¨‹åºï¼Œä¿å­˜å½“å‰çš„ä¸Šä¸‹æ–‡ï¼ˆå¦‚ç¨‹åºè®¡æ•°å™¨ã€å¯„å­˜å™¨ç­‰ï¼‰ï¼Œå¹¶æ ¹æ®ä¸­æ–­å‘é‡è¡¨æ‰¾åˆ°å¯¹åº”çš„ä¸­æ–­æœåŠ¡ç¨‹åºã€‚</li>
<li><strong>ä¸­æ–­å¤„ç†</strong>ï¼šæ‰§è¡Œä¸­æ–­æœåŠ¡ç¨‹åºï¼Œå¤„ç†ä¸­æ–­äº‹ä»¶ã€‚</li>
<li><strong>ä¸­æ–­è¿”å›</strong>ï¼šä¸­æ–­å¤„ç†å®Œæˆåï¼Œæ¢å¤ä¿å­˜çš„ä¸Šä¸‹æ–‡ï¼Œç»§ç»­æ‰§è¡Œè¢«ä¸­æ–­çš„ç¨‹åºã€‚</li>
</ol>
<h3 id="ä¸­æ–­å¤„ç†çš„å…³é”®ç»„ä»¶"><a href="#ä¸­æ–­å¤„ç†çš„å…³é”®ç»„ä»¶" class="headerlink" title="ä¸­æ–­å¤„ç†çš„å…³é”®ç»„ä»¶"></a>ä¸­æ–­å¤„ç†çš„å…³é”®ç»„ä»¶</h3><h4 id="1-ä¸­æ–­æ§åˆ¶å™¨"><a href="#1-ä¸­æ–­æ§åˆ¶å™¨" class="headerlink" title="1.ä¸­æ–­æ§åˆ¶å™¨"></a>1.<strong>ä¸­æ–­æ§åˆ¶å™¨</strong></h4><p>ä¸­æ–­æ§åˆ¶å™¨ï¼ˆå¦‚PICã€APICï¼‰è´Ÿè´£ç®¡ç†å’Œåˆ†é…ä¸­æ–­è¯·æ±‚ã€‚å®ƒå¯ä»¥å±è”½ä¸éœ€è¦çš„ä¸­æ–­ï¼Œå¹¶ç¡®å®šä¸­æ–­çš„ä¼˜å…ˆçº§ã€‚</p>
<h4 id="2-ä¸­æ–­å¤„ç†ç¨‹åº"><a href="#2-ä¸­æ–­å¤„ç†ç¨‹åº" class="headerlink" title="2.ä¸­æ–­å¤„ç†ç¨‹åº"></a>2.<strong>ä¸­æ–­å¤„ç†ç¨‹åº</strong></h4><p>ä¸­æ–­å¤„ç†ç¨‹åºï¼ˆInterrupt Service Routine, ISRï¼‰æ˜¯å¤„ç†ç‰¹å®šä¸­æ–­äº‹ä»¶çš„å‡½æ•°ã€‚å®ƒé€šå¸¸åˆ†ä¸ºé¡¶åŠéƒ¨ï¼ˆTop Halfï¼‰å’Œåº•åŠéƒ¨ï¼ˆBottom Halfï¼‰ï¼š</p>
<ul>
<li><strong>é¡¶åŠéƒ¨</strong>ï¼šå¿«é€Ÿå“åº”ä¸­æ–­ï¼Œæ‰§è¡Œç´§æ€¥çš„å¤„ç†ä»»åŠ¡ã€‚</li>
<li><strong>åº•åŠéƒ¨</strong>ï¼šå»¶è¿Ÿæ‰§è¡Œè¾ƒé•¿æ—¶é—´çš„ä»»åŠ¡ï¼Œä»¥å‡å°‘é¡¶åŠéƒ¨çš„æ‰§è¡Œæ—¶é—´ï¼Œé¿å…é˜»å¡å…¶ä»–ä¸­æ–­ã€‚</li>
</ul>
<h4 id="3-ä¸­æ–­ä¸Šä¸‹æ–‡"><a href="#3-ä¸­æ–­ä¸Šä¸‹æ–‡" class="headerlink" title="3.ä¸­æ–­ä¸Šä¸‹æ–‡"></a>3.<strong>ä¸­æ–­ä¸Šä¸‹æ–‡</strong></h4><p>ä¸­æ–­ä¸Šä¸‹æ–‡æ˜¯æŒ‡ä¸­æ–­å‘ç”Ÿæ—¶CPUçš„çŠ¶æ€ï¼ŒåŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨ã€å¯„å­˜å™¨ç­‰ã€‚ä¿å­˜å’Œæ¢å¤ä¸­æ–­ä¸Šä¸‹æ–‡æ˜¯ä¸­æ–­å¤„ç†çš„å…³é”®æ­¥éª¤ã€‚</p>
<h3 id="ä¸­æ–­å¤„ç†çš„å®ç°"><a href="#ä¸­æ–­å¤„ç†çš„å®ç°" class="headerlink" title="ä¸­æ–­å¤„ç†çš„å®ç°"></a>ä¸­æ–­å¤„ç†çš„å®ç°</h3><h4 id="1-æ³¨å†Œä¸­æ–­å¤„ç†ç¨‹åº"><a href="#1-æ³¨å†Œä¸­æ–­å¤„ç†ç¨‹åº" class="headerlink" title="1.æ³¨å†Œä¸­æ–­å¤„ç†ç¨‹åº"></a>1.<strong>æ³¨å†Œä¸­æ–­å¤„ç†ç¨‹åº</strong></h4><p>åœ¨Linuxå†…æ ¸ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>request_irq</code>å‡½æ•°æ³¨å†Œä¸­æ–­å¤„ç†ç¨‹åºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;linux/interrupt.h&gt;</span><br><span class="line"></span><br><span class="line">int request_irq(unsigned int irq, irq_handler_t handler, unsigned long flags, const char *name, void *dev);</span><br></pre></td></tr></table></figure>

<h4 id="2-ä¸­æ–­å¤„ç†ç¨‹åºç¤ºä¾‹"><a href="#2-ä¸­æ–­å¤„ç†ç¨‹åºç¤ºä¾‹" class="headerlink" title="2.ä¸­æ–­å¤„ç†ç¨‹åºç¤ºä¾‹"></a>2.<strong>ä¸­æ–­å¤„ç†ç¨‹åºç¤ºä¾‹</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;linux/module.h&gt;</span><br><span class="line">#include &lt;linux/kernel.h&gt;</span><br><span class="line">#include &lt;linux/interrupt.h&gt;</span><br><span class="line"></span><br><span class="line">static irqreturn_t my_interrupt_handler(int irq, void *dev_id) &#123;</span><br><span class="line">    printk(KERN_INFO &quot;Interrupt occurred!\n&quot;);</span><br><span class="line">    // ä¸­æ–­å¤„ç†é€»è¾‘</span><br><span class="line">    return IRQ_HANDLED;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">static int __init my_module_init(void) &#123;</span><br><span class="line">    int irq = 1; // å‡è®¾ä¸­æ–­å·ä¸º1</span><br><span class="line">    int result = request_irq(irq, my_interrupt_handler, IRQF_SHARED, &quot;my_interrupt&quot;, NULL);</span><br><span class="line">    if (result) &#123;</span><br><span class="line">        printk(KERN_ERR &quot;Failed to request IRQ\n&quot;);</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">static void __exit my_module_exit(void) &#123;</span><br><span class="line">    int irq = 1; // å‡è®¾ä¸­æ–­å·ä¸º1</span><br><span class="line">    free_irq(irq, NULL);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module_init(my_module_init);</span><br><span class="line">module_exit(my_module_exit);</span><br><span class="line"></span><br><span class="line">MODULE_LICENSE(&quot;GPL&quot;);</span><br><span class="line">MODULE_DESCRIPTION(&quot;A simple interrupt handler module&quot;);</span><br><span class="line">MODULE_AUTHOR(&quot;Your Name&quot;);</span><br></pre></td></tr></table></figure>

<h4 id="3-é¡¶åŠéƒ¨å’Œåº•åŠéƒ¨"><a href="#3-é¡¶åŠéƒ¨å’Œåº•åŠéƒ¨" class="headerlink" title="3.é¡¶åŠéƒ¨å’Œåº•åŠéƒ¨"></a>3.<strong>é¡¶åŠéƒ¨å’Œåº•åŠéƒ¨</strong></h4><ul>
<li><strong>é¡¶åŠéƒ¨</strong>ï¼šå¿«é€Ÿå¤„ç†ä¸­æ–­çš„å…³é”®éƒ¨åˆ†ã€‚</li>
<li><strong>åº•åŠéƒ¨</strong>ï¼šä½¿ç”¨ä»»åŠ¡é˜Ÿåˆ—ã€å·¥ä½œé˜Ÿåˆ—æˆ–è½¯ä¸­æ–­æœºåˆ¶å»¶è¿Ÿå¤„ç†è¾ƒé•¿æ—¶é—´çš„ä»»åŠ¡ã€‚</li>
</ul>
<h3 id="ä¸­æ–­çš„ä¼˜å…ˆçº§å’Œå±è”½"><a href="#ä¸­æ–­çš„ä¼˜å…ˆçº§å’Œå±è”½" class="headerlink" title="ä¸­æ–­çš„ä¼˜å…ˆçº§å’Œå±è”½"></a>ä¸­æ–­çš„ä¼˜å…ˆçº§å’Œå±è”½</h3><p>ä¸­æ–­æ§åˆ¶å™¨å¯ä»¥è®¾ç½®ä¸­æ–­çš„ä¼˜å…ˆçº§å’Œå±è”½æŸäº›ä¸­æ–­ï¼Œä»¥ç¡®ä¿é‡è¦çš„ä¸­æ–­ä¼˜å…ˆå¾—åˆ°å¤„ç†ã€‚APICï¼ˆAdvanced Programmable Interrupt Controllerï¼‰æä¾›äº†æ›´é«˜çº§çš„ä¸­æ–­ç®¡ç†åŠŸèƒ½ï¼Œå¦‚å¤šçº§ä¸­æ–­ä¼˜å…ˆçº§å’Œåˆ†å¸ƒå¼ä¸­æ–­å¤„ç†ã€‚</p>
<h3 id="ä¸­æ–­çš„åµŒå¥—å’Œé‡å…¥"><a href="#ä¸­æ–­çš„åµŒå¥—å’Œé‡å…¥" class="headerlink" title="ä¸­æ–­çš„åµŒå¥—å’Œé‡å…¥"></a>ä¸­æ–­çš„åµŒå¥—å’Œé‡å…¥</h3><p>ä¸­æ–­å¤„ç†ç¨‹åºåº”å°½é‡çŸ­å°ç²¾æ‚ï¼Œä»¥å‡å°‘ä¸­æ–­åµŒå¥—çš„å±‚æ•°ã€‚ä¸­æ–­å¤„ç†ç¨‹åºåº”é¿å…ä½¿ç”¨å¯èƒ½å¯¼è‡´é˜»å¡çš„æ“ä½œï¼Œå¦‚é•¿æ—¶é—´çš„I&#x2F;Oæ“ä½œå’Œé”å®šæ“ä½œã€‚</p>
<blockquote>
<p>åŸæ–‡: <a target="_blank" rel="noopener" href="https://www.yuque.com/jsyun/vwxwc6">https://www.yuque.com/jsyun/vwxwc6</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/Linux%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/Linux%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5%EF%BC%9F/" itemprop="url">LinuxæŸ¥çœ‹æ–‡ä»¶ç£ç›˜å ç”¨æƒ…å†µ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-02-20T13:33:41+00:00">
                2025-02-20
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒLinuxæŸ¥çœ‹æ–‡ä»¶ç£ç›˜å ç”¨æƒ…å†µï¼Ÿ"><a href="#ğŸ‘ŒLinuxæŸ¥çœ‹æ–‡ä»¶ç£ç›˜å ç”¨æƒ…å†µï¼Ÿ" class="headerlink" title="ğŸ‘ŒLinuxæŸ¥çœ‹æ–‡ä»¶ç£ç›˜å ç”¨æƒ…å†µï¼Ÿ"></a>ğŸ‘ŒLinuxæŸ¥çœ‹æ–‡ä»¶ç£ç›˜å ç”¨æƒ…å†µï¼Ÿ</h1><h3 id="1-duå‘½ä»¤"><a href="#1-duå‘½ä»¤" class="headerlink" title="1.duå‘½ä»¤"></a>1.<code>du</code>å‘½ä»¤</h3><p><code>du</code>ï¼ˆdisk usageï¼‰å‘½ä»¤ç”¨äºä¼°ç®—æ–‡ä»¶å’Œç›®å½•çš„ç£ç›˜ä½¿ç”¨æƒ…å†µã€‚</p>
<h4 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du [é€‰é¡¹] [æ–‡ä»¶æˆ–ç›®å½•]</span><br></pre></td></tr></table></figure>

<h4 id="å¸¸ç”¨é€‰é¡¹"><a href="#å¸¸ç”¨é€‰é¡¹" class="headerlink" title="å¸¸ç”¨é€‰é¡¹"></a>å¸¸ç”¨é€‰é¡¹</h4><ul>
<li><code>-h</code>ï¼šä»¥äººç±»å¯è¯»çš„æ ¼å¼æ˜¾ç¤ºï¼ˆä¾‹å¦‚ï¼ŒKã€Mã€Gï¼‰ã€‚</li>
<li><code>-s</code>ï¼šæ˜¾ç¤ºæ€»è®¡ï¼ˆä¸æ˜¾ç¤ºå­ç›®å½•çš„è¯¦ç»†ä¿¡æ¯ï¼‰ã€‚</li>
<li><code>-a</code>ï¼šåŒ…æ‹¬æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ã€‚</li>
<li><code>-c</code>ï¼šæ˜¾ç¤ºæ€»è®¡ã€‚</li>
<li><code>--max-depth=N</code>ï¼šé™åˆ¶æ˜¾ç¤ºçš„ç›®å½•å±‚çº§æ·±åº¦ã€‚</li>
</ul>
<h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><ul>
<li>æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ¯ä¸ªæ–‡ä»¶å’Œå­ç›®å½•çš„ç£ç›˜ä½¿ç”¨æƒ…å†µï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -h</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹æŒ‡å®šç›®å½•çš„æ€»ç£ç›˜ä½¿ç”¨æƒ…å†µï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh /path/to/directory</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹æŒ‡å®šç›®å½•åŠå…¶å­ç›®å½•çš„ç£ç›˜ä½¿ç”¨æƒ…å†µï¼Œé™åˆ¶æ·±åº¦ä¸º1ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -h --max-depth=1 /path/to/directory</span><br></pre></td></tr></table></figure>

<h3 id="2-dfå‘½ä»¤"><a href="#2-dfå‘½ä»¤" class="headerlink" title="2.dfå‘½ä»¤"></a>2.<code>df</code>å‘½ä»¤</h3><p><code>df</code>ï¼ˆdisk freeï¼‰å‘½ä»¤ç”¨äºæŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ä½¿ç”¨æƒ…å†µã€‚</p>
<h4 id="åŸºæœ¬ç”¨æ³•-1"><a href="#åŸºæœ¬ç”¨æ³•-1" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df [é€‰é¡¹] [æ–‡ä»¶æˆ–ç›®å½•]</span><br></pre></td></tr></table></figure>

<h4 id="å¸¸ç”¨é€‰é¡¹-1"><a href="#å¸¸ç”¨é€‰é¡¹-1" class="headerlink" title="å¸¸ç”¨é€‰é¡¹"></a>å¸¸ç”¨é€‰é¡¹</h4><ul>
<li><code>-h</code>ï¼šä»¥äººç±»å¯è¯»çš„æ ¼å¼æ˜¾ç¤ºï¼ˆä¾‹å¦‚ï¼ŒKã€Mã€Gï¼‰ã€‚</li>
<li><code>-T</code>ï¼šæ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹ã€‚</li>
<li><code>-i</code>ï¼šæ˜¾ç¤ºinodeä½¿ç”¨æƒ…å†µã€‚</li>
</ul>
<h4 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><ul>
<li>æŸ¥çœ‹æ‰€æœ‰æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ä½¿ç”¨æƒ…å†µï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -h</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹ç‰¹å®šç›®å½•æ‰€åœ¨çš„æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ä½¿ç”¨æƒ…å†µï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -h /path/to/directory</span><br></pre></td></tr></table></figure>

<h3 id="3-ncduå·¥å…·"><a href="#3-ncduå·¥å…·" class="headerlink" title="3.ncduå·¥å…·"></a>3.<code>ncdu</code>å·¥å…·</h3><p><code>ncdu</code>ï¼ˆNCurses Disk Usageï¼‰æ˜¯ä¸€ä¸ªåŸºäºncursesçš„ç£ç›˜ä½¿ç”¨åˆ†æå·¥å…·ï¼Œæä¾›äº†äº¤äº’å¼ç•Œé¢ã€‚</p>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>åœ¨Debian&#x2F;Ubuntuç³»ç»Ÿä¸Šï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ncdu</span><br></pre></td></tr></table></figure>

<p>åœ¨CentOS&#x2F;RHELç³»ç»Ÿä¸Šï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install ncdu</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ncdu /path/to/directory</span><br></pre></td></tr></table></figure>

<h3 id="4-lså‘½ä»¤"><a href="#4-lså‘½ä»¤" class="headerlink" title="4.lså‘½ä»¤"></a>4.<code>ls</code>å‘½ä»¤</h3><p><code>ls</code>å‘½ä»¤ä¹Ÿå¯ä»¥æ˜¾ç¤ºæ–‡ä»¶çš„å¤§å°ï¼Œä½†ä¸å¦‚<code>du</code>è¯¦ç»†ã€‚</p>
<h4 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><ul>
<li>ä»¥äººç±»å¯è¯»çš„æ ¼å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å°ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lh</span><br></pre></td></tr></table></figure>

<ul>
<li>æ˜¾ç¤ºç›®å½•çš„æ€»å¤§å°ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lhS</span><br></pre></td></tr></table></figure>

<h3 id="5-findå‘½ä»¤ç»“åˆdu"><a href="#5-findå‘½ä»¤ç»“åˆdu" class="headerlink" title="5.findå‘½ä»¤ç»“åˆdu"></a>5.<code>find</code>å‘½ä»¤ç»“åˆ<code>du</code></h3><p>å¯ä»¥ä½¿ç”¨<code>find</code>å‘½ä»¤æŸ¥æ‰¾ç‰¹å®šæ¡ä»¶çš„æ–‡ä»¶ï¼Œç„¶åç»“åˆ<code>du</code>å‘½ä»¤æŸ¥çœ‹å®ƒä»¬çš„ç£ç›˜ä½¿ç”¨æƒ…å†µã€‚</p>
<h4 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><ul>
<li>æŸ¥æ‰¾å¤§äº100MBçš„æ–‡ä»¶å¹¶æ˜¾ç¤ºå…¶ç£ç›˜ä½¿ç”¨æƒ…å†µï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -type f -size +100M -execdu -h &#123;&#125; +</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/Linux%E6%AD%BB%E9%94%81%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/Linux%E6%AD%BB%E9%94%81%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" itemprop="url">Linuxæ­»é”æ˜¯ä»€ä¹ˆï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-02-20T13:33:41+00:00">
                2025-02-20
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘ŒLinuxæ­»é”æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸ‘ŒLinuxæ­»é”æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸ‘ŒLinuxæ­»é”æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸ‘ŒLinuxæ­»é”æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œæ­»é”ï¼ˆDeadlockï¼‰æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹åœ¨ç­‰å¾…å½¼æ­¤é‡Šæ”¾èµ„æºï¼Œä»è€Œå¯¼è‡´å®ƒä»¬éƒ½æ— æ³•ç»§ç»­æ‰§è¡Œçš„æƒ…å†µã€‚è¿™æ˜¯ä¸€ç§å¸¸è§çš„å¹¶å‘é—®é¢˜ï¼Œå°¤å…¶åœ¨å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹ç¯å¢ƒä¸­ã€‚</p>
<h3 id="æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶"><a href="#æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶" class="headerlink" title="æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶"></a>æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶</h3><p>æ­»é”çš„å‘ç”Ÿéœ€è¦æ»¡è¶³ä»¥ä¸‹å››ä¸ªæ¡ä»¶ï¼ˆä¹Ÿç§°ä¸ºCoffmanæ¡ä»¶ï¼‰ï¼š</p>
<ol>
<li><strong>äº’æ–¥æ¡ä»¶ï¼ˆMutual Exclusionï¼‰</strong>ï¼šè‡³å°‘æœ‰ä¸€ä¸ªèµ„æºæ˜¯éå…±äº«çš„ï¼Œå³ä¸€æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚</li>
<li><strong>å æœ‰å¹¶ç­‰å¾…æ¡ä»¶ï¼ˆHold and Waitï¼‰</strong>ï¼šä¸€ä¸ªè¿›ç¨‹å·²ç»æŒæœ‰äº†è‡³å°‘ä¸€ä¸ªèµ„æºï¼Œå¹¶ä¸”æ­£åœ¨ç­‰å¾…è·å–å…¶ä»–è¢«å…¶ä»–è¿›ç¨‹æŒæœ‰çš„èµ„æºã€‚</li>
<li><strong>ä¸å‰¥å¤ºæ¡ä»¶ï¼ˆNo Preemptionï¼‰</strong>ï¼šèµ„æºä¸èƒ½è¢«å¼ºåˆ¶ä»è¿›ç¨‹ä¸­å‰¥å¤ºï¼Œåªæœ‰æŒæœ‰èµ„æºçš„è¿›ç¨‹å¯ä»¥ä¸»åŠ¨é‡Šæ”¾èµ„æºã€‚</li>
<li><strong>ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼ˆCircular Waitï¼‰</strong>ï¼šå­˜åœ¨ä¸€ä¸ªè¿›ç¨‹é“¾ï¼Œä½¿å¾—æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…é“¾ä¸­ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€æŒæœ‰çš„èµ„æºã€‚</li>
</ol>
<h3 id="æ­»é”çš„æ£€æµ‹å’Œé¢„é˜²"><a href="#æ­»é”çš„æ£€æµ‹å’Œé¢„é˜²" class="headerlink" title="æ­»é”çš„æ£€æµ‹å’Œé¢„é˜²"></a>æ­»é”çš„æ£€æµ‹å’Œé¢„é˜²</h3><p>ä¸ºäº†å¤„ç†æ­»é”é—®é¢˜ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹å‡ ç§ç­–ç•¥ï¼š</p>
<h4 id="1-é¢„é˜²æ­»é”"><a href="#1-é¢„é˜²æ­»é”" class="headerlink" title="1.é¢„é˜²æ­»é”"></a>1.<strong>é¢„é˜²æ­»é”</strong></h4><p>é¢„é˜²æ­»é”çš„æ–¹æ³•åŒ…æ‹¬ç ´åä¸Šè¿°å››ä¸ªæ¡ä»¶ä¹‹ä¸€ï¼š</p>
<ul>
<li><strong>ç ´åäº’æ–¥æ¡ä»¶</strong>ï¼šå°½å¯èƒ½å‡å°‘å¯¹éå…±äº«èµ„æºçš„ä½¿ç”¨ã€‚</li>
<li><strong>ç ´åå æœ‰å¹¶ç­‰å¾…æ¡ä»¶</strong>ï¼šåœ¨è¿›ç¨‹å¼€å§‹æ—¶ä¸€æ¬¡æ€§åˆ†é…æ‰€æœ‰éœ€è¦çš„èµ„æºï¼Œæˆ–è€…è¦æ±‚è¿›ç¨‹åœ¨è¯·æ±‚èµ„æºå‰é‡Šæ”¾æ‰€æœ‰æŒæœ‰çš„èµ„æºã€‚</li>
<li><strong>ç ´åä¸å‰¥å¤ºæ¡ä»¶</strong>ï¼šå…è®¸æ“ä½œç³»ç»Ÿå¼ºåˆ¶å‰¥å¤ºæŸäº›èµ„æºã€‚</li>
<li><strong>ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶</strong>ï¼šå¯¹èµ„æºè¿›è¡Œæ’åºï¼Œå¹¶è¦æ±‚è¿›ç¨‹æŒ‰é¡ºåºè¯·æ±‚èµ„æºã€‚</li>
</ul>
<h4 id="2-é¿å…æ­»é”"><a href="#2-é¿å…æ­»é”" class="headerlink" title="2.é¿å…æ­»é”"></a>2.<strong>é¿å…æ­»é”</strong></h4><p>é¿å…æ­»é”çš„æ–¹æ³•ä¸»è¦æ˜¯é€šè¿‡èµ„æºåˆ†é…ç­–ç•¥æ¥ç¡®ä¿ç³»ç»Ÿæ°¸è¿œä¸ä¼šè¿›å…¥æ­»é”çŠ¶æ€ã€‚å¸¸ç”¨çš„æ–¹æ³•åŒ…æ‹¬é“¶è¡Œå®¶ç®—æ³•ï¼ˆBankerâ€™s Algorithmï¼‰ï¼Œå®ƒé€šè¿‡æ¨¡æ‹Ÿèµ„æºåˆ†é…æƒ…å†µæ¥åˆ¤æ–­æ˜¯å¦ä¼šå¯¼è‡´æ­»é”ã€‚</p>
<h4 id="3-æ£€æµ‹å’Œæ¢å¤"><a href="#3-æ£€æµ‹å’Œæ¢å¤" class="headerlink" title="3.æ£€æµ‹å’Œæ¢å¤"></a>3.<strong>æ£€æµ‹å’Œæ¢å¤</strong></h4><p>å¦‚æœæ— æ³•é¢„é˜²æˆ–é¿å…æ­»é”ï¼Œå¯ä»¥é€šè¿‡æ£€æµ‹å’Œæ¢å¤æ¥å¤„ç†æ­»é”ï¼š</p>
<ul>
<li><strong>æ­»é”æ£€æµ‹</strong>ï¼šå®šæœŸæ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å­˜åœ¨æ­»é”ã€‚å¯ä»¥ä½¿ç”¨èµ„æºåˆ†é…å›¾ï¼ˆResource Allocation Graphï¼‰æ¥æ£€æµ‹ç¯è·¯ï¼Œä»è€Œè¯†åˆ«æ­»é”ã€‚</li>
<li><strong>æ­»é”æ¢å¤</strong>ï¼šä¸€æ—¦æ£€æµ‹åˆ°æ­»é”ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¢å¤ï¼š<ul>
<li><strong>ç»ˆæ­¢è¿›ç¨‹</strong>ï¼šå¼ºåˆ¶ç»ˆæ­¢ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ä»¥æ‰“ç ´æ­»é”ã€‚</li>
<li><strong>èµ„æºå‰¥å¤º</strong>ï¼šå¼ºåˆ¶ä»æŸäº›è¿›ç¨‹ä¸­å‰¥å¤ºèµ„æºå¹¶é‡æ–°åˆ†é…ã€‚</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/linux%E5%86%85%E5%AD%98%E6%9C%89%E9%97%AE%E9%A2%98%E6%80%8E%E4%B9%88%E6%9F%A5%E7%9C%8B%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/linux%E5%86%85%E5%AD%98%E6%9C%89%E9%97%AE%E9%A2%98%E6%80%8E%E4%B9%88%E6%9F%A5%E7%9C%8B%EF%BC%9F/" itemprop="url">linux å†…å­˜æœ‰é—®é¢˜æ€ä¹ˆæŸ¥çœ‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-02-20T13:33:41+00:00">
                2025-02-20
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œlinux-å†…å­˜æœ‰é—®é¢˜æ€ä¹ˆæŸ¥çœ‹ï¼Ÿ"><a href="#ğŸ‘Œlinux-å†…å­˜æœ‰é—®é¢˜æ€ä¹ˆæŸ¥çœ‹ï¼Ÿ" class="headerlink" title="ğŸ‘Œlinux å†…å­˜æœ‰é—®é¢˜æ€ä¹ˆæŸ¥çœ‹ï¼Ÿ"></a>ğŸ‘Œlinux å†…å­˜æœ‰é—®é¢˜æ€ä¹ˆæŸ¥çœ‹ï¼Ÿ</h1><p>å¦‚æœæ€€ç–‘å†…å­˜æœ‰é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ£€æŸ¥å’Œè¯Šæ–­ï¼š</p>
<h3 id="1-ä½¿ç”¨freeå‘½ä»¤æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ"><a href="#1-ä½¿ç”¨freeå‘½ä»¤æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ" class="headerlink" title="1. ä½¿ç”¨freeå‘½ä»¤æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ"></a>1. ä½¿ç”¨<code>free</code>å‘½ä»¤æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ</h3><p><code>free</code>å‘½ä»¤å¯ä»¥æ˜¾ç¤ºç³»ç»Ÿçš„å†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬æ€»å†…å­˜ã€å·²ä½¿ç”¨å†…å­˜ã€ç©ºé—²å†…å­˜å’Œç¼“å­˜ç­‰ä¿¡æ¯ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">free -h</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           7.8G        3.2G        1.5G        200M        3.1G        4.1G</span><br><span class="line">Swap:          2.0G        0.0K        2.0G</span><br></pre></td></tr></table></figure>

<h3 id="2-ä½¿ç”¨topæˆ–htopå‘½ä»¤æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ"><a href="#2-ä½¿ç”¨topæˆ–htopå‘½ä»¤æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ" class="headerlink" title="2. ä½¿ç”¨topæˆ–htopå‘½ä»¤æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ"></a>2. ä½¿ç”¨<code>top</code>æˆ–<code>htop</code>å‘½ä»¤æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ</h3><p><code>top</code>å’Œ<code>htop</code>å‘½ä»¤å¯ä»¥å®æ—¶æ˜¾ç¤ºç³»ç»Ÿçš„èµ„æºä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬å†…å­˜ä½¿ç”¨æƒ…å†µã€‚</p>
<ul>
<li><code>top</code>å‘½ä»¤ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure>

<ul>
<li><code>htop</code>å‘½ä»¤ï¼ˆéœ€è¦å®‰è£…ï¼‰ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install htop</span><br><span class="line">htop</span><br></pre></td></tr></table></figure>

<h3 id="3-ä½¿ç”¨vmstatå‘½ä»¤æŸ¥çœ‹å†…å­˜å’Œç³»ç»Ÿæ€§èƒ½"><a href="#3-ä½¿ç”¨vmstatå‘½ä»¤æŸ¥çœ‹å†…å­˜å’Œç³»ç»Ÿæ€§èƒ½" class="headerlink" title="3. ä½¿ç”¨vmstatå‘½ä»¤æŸ¥çœ‹å†…å­˜å’Œç³»ç»Ÿæ€§èƒ½"></a>3. ä½¿ç”¨<code>vmstat</code>å‘½ä»¤æŸ¥çœ‹å†…å­˜å’Œç³»ç»Ÿæ€§èƒ½</h3><p><code>vmstat</code>å‘½ä»¤å¯ä»¥æŠ¥å‘Šè™šæ‹Ÿå†…å­˜ã€è¿›ç¨‹ã€CPU æ´»åŠ¨ç­‰ä¿¡æ¯ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vmstat 1 5</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class="line"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</span><br><span class="line"> 1  0      0 1576828  72464 2192160    0    0     8    11   64  150  1  0 99  0  0</span><br><span class="line"> 0  0      0 1576820  72464 2192160    0    0     0     0   59  144  0  0 100  0  0</span><br></pre></td></tr></table></figure>

<h3 id="4-æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µçš„æ—¥å¿—"><a href="#4-æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µçš„æ—¥å¿—" class="headerlink" title="4. æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µçš„æ—¥å¿—"></a>4. æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µçš„æ—¥å¿—</h3><p>æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ï¼Œå¦‚<code>/var/log/syslog</code>æˆ–<code>/var/log/messages</code>ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰ä¸å†…å­˜ç›¸å…³çš„é”™è¯¯æˆ–è­¦å‘Šã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo grep -i memory /var/log/syslog</span><br><span class="line">sudo grep -i memory /var/log/messages</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/linux%E7%9A%84%E4%B8%AD%E6%96%AD%E6%9C%BA%E5%88%B6%E7%94%A8%E6%9D%A5%E5%B9%B2%E4%BB%80%E4%B9%88%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/02/20/%E9%9D%A2%E8%AF%95%E9%A2%98/linux%E7%9A%84%E4%B8%AD%E6%96%AD%E6%9C%BA%E5%88%B6%E7%94%A8%E6%9D%A5%E5%B9%B2%E4%BB%80%E4%B9%88%EF%BC%9F/" itemprop="url">linuxçš„ä¸­æ–­æœºåˆ¶ç”¨æ¥å¹²ä»€ä¹ˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-02-20T13:33:41+00:00">
                2025-02-20
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">é¢è¯•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œlinuxçš„ä¸­æ–­æœºåˆ¶ç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿ"><a href="#ğŸ‘Œlinuxçš„ä¸­æ–­æœºåˆ¶ç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸ‘Œlinuxçš„ä¸­æ–­æœºåˆ¶ç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿ"></a>ğŸ‘Œlinuxçš„ä¸­æ–­æœºåˆ¶ç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿ</h1><p>Linuxçš„ä¸­æ–­æœºåˆ¶ç”¨äºå¤„ç†å„ç§ç¡¬ä»¶å’Œè½¯ä»¶äº‹ä»¶ï¼Œä½¿æ“ä½œç³»ç»Ÿèƒ½å¤ŸåŠæ—¶å“åº”å¹¶å¤„ç†è¿™äº›äº‹ä»¶ã€‚ä¸­æ–­æœºåˆ¶åœ¨æ“ä½œç³»ç»Ÿä¸­èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</p>
<h3 id="1-ç¡¬ä»¶è®¾å¤‡çš„äº‹ä»¶å¤„ç†"><a href="#1-ç¡¬ä»¶è®¾å¤‡çš„äº‹ä»¶å¤„ç†" class="headerlink" title="1.ç¡¬ä»¶è®¾å¤‡çš„äº‹ä»¶å¤„ç†"></a>1.<strong>ç¡¬ä»¶è®¾å¤‡çš„äº‹ä»¶å¤„ç†</strong></h3><p>ç¡¬ä»¶è®¾å¤‡é€šè¿‡ä¸­æ–­æœºåˆ¶é€šçŸ¥æ“ä½œç³»ç»Ÿå®ƒä»¬çš„çŠ¶æ€å˜åŒ–æˆ–éœ€è¦å¤„ç†çš„äº‹ä»¶ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>é”®ç›˜è¾“å…¥</strong>ï¼šå½“é”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹æ—¶ï¼Œé”®ç›˜æ§åˆ¶å™¨ä¼šå‘å‡ºä¸­æ–­ä¿¡å·ï¼Œé€šçŸ¥CPUè¯»å–æŒ‰é”®å€¼ã€‚</li>
<li><strong>ç½‘ç»œæ•°æ®æ¥æ”¶</strong>ï¼šç½‘å¡æ¥æ”¶åˆ°æ•°æ®åŒ…æ—¶ï¼Œä¼šè§¦å‘ä¸­æ–­ï¼Œé€šçŸ¥æ“ä½œç³»ç»Ÿå¤„ç†æ¥æ”¶åˆ°çš„æ•°æ®ã€‚</li>
<li><strong>ç¡¬ç›˜I&#x2F;Oå®Œæˆ</strong>ï¼šç¡¬ç›˜å®Œæˆè¯»å†™æ“ä½œåï¼Œä¼šå‘å‡ºä¸­æ–­ä¿¡å·ï¼Œé€šçŸ¥æ“ä½œç³»ç»Ÿè¯¥æ“ä½œå·²å®Œæˆï¼Œå¯ä»¥ç»§ç»­å¤„ç†æ•°æ®ã€‚</li>
</ul>
<h3 id="2-å®šæ—¶å™¨å’Œæ—¶é’Ÿç®¡ç†"><a href="#2-å®šæ—¶å™¨å’Œæ—¶é’Ÿç®¡ç†" class="headerlink" title="2.å®šæ—¶å™¨å’Œæ—¶é’Ÿç®¡ç†"></a>2.<strong>å®šæ—¶å™¨å’Œæ—¶é’Ÿç®¡ç†</strong></h3><p>æ“ä½œç³»ç»Ÿä½¿ç”¨å®šæ—¶å™¨ä¸­æ–­æ¥ç®¡ç†ç³»ç»Ÿæ—¶é’Ÿå’Œæ—¶é—´ç‰‡è½®è½¬ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>ç³»ç»Ÿæ—¶é’Ÿæ›´æ–°</strong>ï¼šå®šæ—¶å™¨ä¼šå®šæœŸè§¦å‘ä¸­æ–­ï¼Œæ“ä½œç³»ç»Ÿé€šè¿‡è¿™äº›ä¸­æ–­æ›´æ–°ç³»ç»Ÿæ—¶é’Ÿã€‚</li>
<li><strong>æ—¶é—´ç‰‡è½®è½¬</strong>ï¼šåœ¨å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿä¸­ï¼Œå®šæ—¶å™¨ä¸­æ–­ç”¨äºå®ç°æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ï¼Œç¡®ä¿å„ä¸ªè¿›ç¨‹èƒ½å¤Ÿå…¬å¹³åœ°è·å¾—CPUæ—¶é—´ã€‚</li>
</ul>
<h3 id="3-ç³»ç»Ÿè°ƒç”¨å’Œå¼‚å¸¸å¤„ç†"><a href="#3-ç³»ç»Ÿè°ƒç”¨å’Œå¼‚å¸¸å¤„ç†" class="headerlink" title="3.ç³»ç»Ÿè°ƒç”¨å’Œå¼‚å¸¸å¤„ç†"></a>3.<strong>ç³»ç»Ÿè°ƒç”¨å’Œå¼‚å¸¸å¤„ç†</strong></h3><p>è½¯ä»¶ä¸­æ–­ï¼ˆå¦‚ç³»ç»Ÿè°ƒç”¨å’Œå¼‚å¸¸ï¼‰å…è®¸ç”¨æˆ·ç©ºé—´ç¨‹åºä¸å†…æ ¸è¿›è¡Œäº¤äº’ï¼Œå¹¶å¤„ç†å¼‚å¸¸æƒ…å†µã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>ç³»ç»Ÿè°ƒç”¨</strong>ï¼šç”¨æˆ·ç¨‹åºé€šè¿‡è§¦å‘è½¯ä»¶ä¸­æ–­è¿›å…¥å†…æ ¸æ€ï¼Œæ‰§è¡Œç³»ç»Ÿè°ƒç”¨ä»¥è¯·æ±‚æ“ä½œç³»ç»ŸæœåŠ¡ï¼ˆå¦‚æ–‡ä»¶æ“ä½œã€è¿›ç¨‹ç®¡ç†ç­‰ï¼‰ã€‚</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šå½“ç¨‹åºå‘ç”Ÿå¼‚å¸¸ï¼ˆå¦‚é™¤é›¶é”™è¯¯ã€éæ³•å†…å­˜è®¿é—®ç­‰ï¼‰æ—¶ï¼ŒCPUä¼šè§¦å‘å¼‚å¸¸ä¸­æ–­ï¼Œæ“ä½œç³»ç»Ÿæ•è·å¹¶å¤„ç†è¿™äº›å¼‚å¸¸ã€‚</li>
</ul>
<h3 id="4-ä¸­æ–­é©±åŠ¨çš„I-x2F-Oæ“ä½œ"><a href="#4-ä¸­æ–­é©±åŠ¨çš„I-x2F-Oæ“ä½œ" class="headerlink" title="4.ä¸­æ–­é©±åŠ¨çš„I&#x2F;Oæ“ä½œ"></a>4.<strong>ä¸­æ–­é©±åŠ¨çš„I&#x2F;Oæ“ä½œ</strong></h3><p>ä¸­æ–­æœºåˆ¶ä½¿å¾—è®¾å¤‡é©±åŠ¨ç¨‹åºå¯ä»¥å®ç°é«˜æ•ˆçš„I&#x2F;Oæ“ä½œã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>éé˜»å¡I&#x2F;O</strong>ï¼šé€šè¿‡ä¸­æ–­é€šçŸ¥ï¼Œè®¾å¤‡é©±åŠ¨ç¨‹åºå¯ä»¥åœ¨è®¾å¤‡å‡†å¤‡å¥½æ—¶å¤„ç†I&#x2F;Oæ“ä½œï¼Œè€Œæ— éœ€è¿›ç¨‹æŒç»­è½®è¯¢è®¾å¤‡çŠ¶æ€ï¼Œä»è€Œæé«˜ç³»ç»Ÿæ•ˆç‡ã€‚</li>
</ul>
<h3 id="5-ç”µæºç®¡ç†"><a href="#5-ç”µæºç®¡ç†" class="headerlink" title="5.ç”µæºç®¡ç†"></a>5.<strong>ç”µæºç®¡ç†</strong></h3><p>ä¸­æ–­æœºåˆ¶åœ¨ç”µæºç®¡ç†ä¸­ä¹Ÿæ‰®æ¼”é‡è¦è§’è‰²ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>ç”µæ± çŠ¶æ€å˜åŒ–</strong>ï¼šå½“ç”µæ± ç”µé‡ä½æˆ–å……ç”µå®Œæˆæ—¶ï¼Œç”µæºç®¡ç†èŠ¯ç‰‡ä¼šè§¦å‘ä¸­æ–­ï¼Œé€šçŸ¥æ“ä½œç³»ç»Ÿé‡‡å–ç›¸åº”çš„æªæ–½ï¼ˆå¦‚èŠ‚èƒ½æ¨¡å¼æˆ–æç¤ºç”¨æˆ·ï¼‰ã€‚</li>
</ul>
<h3 id="6-å¤šæ ¸å¤„ç†å™¨çš„ä¸­æ–­åˆ†é…"><a href="#6-å¤šæ ¸å¤„ç†å™¨çš„ä¸­æ–­åˆ†é…" class="headerlink" title="6.å¤šæ ¸å¤„ç†å™¨çš„ä¸­æ–­åˆ†é…"></a>6.<strong>å¤šæ ¸å¤„ç†å™¨çš„ä¸­æ–­åˆ†é…</strong></h3><p>åœ¨å¤šæ ¸å¤„ç†å™¨ç³»ç»Ÿä¸­ï¼Œä¸­æ–­æ§åˆ¶å™¨ï¼ˆå¦‚APICï¼‰å¯ä»¥å°†ä¸­æ–­åˆ†é…åˆ°ä¸åŒçš„CPUæ ¸ï¼Œä»¥å®ç°è´Ÿè½½å‡è¡¡å’Œæé«˜å¹¶è¡Œå¤„ç†èƒ½åŠ›ã€‚</p>
<blockquote>
<p>åŸæ–‡: <a target="_blank" rel="noopener" href="https://www.yuque.com/jsyun/vwxwc6">https://www.yuque.com/jsyun/vwxwc6</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xiaoyaofeihu.github.io/2025/02/16/%E5%9C%BA%E6%99%AF%E9%A2%98/%E5%A6%82%E6%9E%9C%E4%B8%8D%E8%AE%A9%E4%BD%A0%E7%94%A8%E7%9C%8B%E9%97%A8%E7%8B%97%EF%BC%8C%E4%BD%A0%E4%BC%9A%E7%94%A8%E4%BB%80%E4%B9%88%E6%96%B9%E6%A1%88%E6%9D%A5%E8%A7%A3%E5%86%B3%E9%87%8D%E5%A4%8D%E6%94%AF%E4%BB%98%E9%97%AE%E9%A2%98%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/11.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä½™å£°-ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/02/16/%E5%9C%BA%E6%99%AF%E9%A2%98/%E5%A6%82%E6%9E%9C%E4%B8%8D%E8%AE%A9%E4%BD%A0%E7%94%A8%E7%9C%8B%E9%97%A8%E7%8B%97%EF%BC%8C%E4%BD%A0%E4%BC%9A%E7%94%A8%E4%BB%80%E4%B9%88%E6%96%B9%E6%A1%88%E6%9D%A5%E8%A7%A3%E5%86%B3%E9%87%8D%E5%A4%8D%E6%94%AF%E4%BB%98%E9%97%AE%E9%A2%98%EF%BC%9F/" itemprop="url">å¦‚æœä¸è®©ä½ ç”¨çœ‹é—¨ç‹—ï¼Œä½ ä¼šç”¨ä»€ä¹ˆæ–¹æ¡ˆæ¥è§£å†³é‡å¤æ”¯ä»˜é—®é¢˜ï¼Ÿ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2025-02-16T13:33:41+00:00">
                2025-02-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2025-04-24T06:22:33+00:00">
                2025-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%9C%BA%E6%99%AF%E9%A2%98/" itemprop="url" rel="index">
                    <span itemprop="name">åœºæ™¯é¢˜</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ğŸ‘Œå¦‚æœä¸è®©ä½ ç”¨çœ‹é—¨ç‹—ï¼Œä½ ä¼šç”¨ä»€ä¹ˆæ–¹æ¡ˆæ¥è§£å†³é‡å¤æ”¯ä»˜é—®é¢˜ï¼Ÿ"><a href="#ğŸ‘Œå¦‚æœä¸è®©ä½ ç”¨çœ‹é—¨ç‹—ï¼Œä½ ä¼šç”¨ä»€ä¹ˆæ–¹æ¡ˆæ¥è§£å†³é‡å¤æ”¯ä»˜é—®é¢˜ï¼Ÿ" class="headerlink" title="ğŸ‘Œå¦‚æœä¸è®©ä½ ç”¨çœ‹é—¨ç‹—ï¼Œä½ ä¼šç”¨ä»€ä¹ˆæ–¹æ¡ˆæ¥è§£å†³é‡å¤æ”¯ä»˜é—®é¢˜ï¼Ÿ"></a>ğŸ‘Œå¦‚æœä¸è®©ä½ ç”¨çœ‹é—¨ç‹—ï¼Œä½ ä¼šç”¨ä»€ä¹ˆæ–¹æ¡ˆæ¥è§£å†³é‡å¤æ”¯ä»˜é—®é¢˜ï¼Ÿ</h1><h3 id="1-å¹‚ç­‰æ€§ä»¤ç‰Œï¼ˆIdempotency-Tokenï¼‰"><a href="#1-å¹‚ç­‰æ€§ä»¤ç‰Œï¼ˆIdempotency-Tokenï¼‰" class="headerlink" title="1. å¹‚ç­‰æ€§ä»¤ç‰Œï¼ˆIdempotency Tokenï¼‰"></a>1. å¹‚ç­‰æ€§ä»¤ç‰Œï¼ˆIdempotency Tokenï¼‰</h3><p><strong>åŸç†</strong>ï¼šåœ¨æ¯æ¬¡æ”¯ä»˜è¯·æ±‚ä¸­ï¼Œå®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å¹‚ç­‰æ€§ä»¤ç‰Œï¼Œå¹¶å°†å…¶å‘é€ç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨åœ¨å¤„ç†æ”¯ä»˜è¯·æ±‚æ—¶ï¼Œä¼šæ£€æŸ¥è¿™ä¸ªä»¤ç‰Œæ˜¯å¦å·²ç»è¢«ä½¿ç”¨è¿‡ã€‚å¦‚æœä»¤ç‰Œå·²ç»è¢«ä½¿ç”¨ï¼ŒæœåŠ¡å™¨ä¼šæ‹’ç»é‡å¤çš„æ”¯ä»˜è¯·æ±‚ã€‚</p>
<p><strong>å®ç°æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å¹‚ç­‰æ€§ä»¤ç‰Œï¼ˆå¦‚ UUIDï¼‰ã€‚</li>
<li>å®¢æˆ·ç«¯å°†ä»¤ç‰Œå’Œæ”¯ä»˜è¯·æ±‚ä¸€èµ·å‘é€ç»™æœåŠ¡å™¨ã€‚</li>
<li>æœåŠ¡å™¨æ£€æŸ¥ä»¤ç‰Œæ˜¯å¦å·²ç»å­˜åœ¨äºæ•°æ®åº“ä¸­ã€‚</li>
<li>å¦‚æœä»¤ç‰Œä¸å­˜åœ¨ï¼ŒæœåŠ¡å™¨å¤„ç†æ”¯ä»˜è¯·æ±‚å¹¶å°†ä»¤ç‰Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚</li>
<li>å¦‚æœä»¤ç‰Œå·²ç»å­˜åœ¨ï¼ŒæœåŠ¡å™¨æ‹’ç»æ”¯ä»˜è¯·æ±‚æˆ–è€…è¿”å›ä¹‹å‰çš„å¤„ç†ç»“æœã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public class PaymentService &#123;</span><br><span class="line"></span><br><span class="line">    private PaymentRepository paymentRepository;</span><br><span class="line"></span><br><span class="line">    public PaymentService(PaymentRepository paymentRepository) &#123;</span><br><span class="line">        this.paymentRepository = paymentRepository;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void processPayment(PaymentRequest request) throws DuplicatePaymentException &#123;</span><br><span class="line">        String antiReplayToken = request.getAntiReplayToken();</span><br><span class="line"></span><br><span class="line">        if (paymentRepository.existsByAntiReplayToken(antiReplayToken)) &#123;</span><br><span class="line">            throw new DuplicatePaymentException(&quot;Duplicate payment detected for anti-replay token: &quot; + antiReplayToken);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // å¤„ç†æ”¯ä»˜é€»è¾‘</span><br><span class="line">        Payment payment = new Payment();</span><br><span class="line">        payment.setAntiReplayToken(antiReplayToken);</span><br><span class="line">        payment.setAmount(request.getAmount());</span><br><span class="line">        payment.setStatus(&quot;processing&quot;);</span><br><span class="line"></span><br><span class="line">        paymentRepository.save(payment);</span><br><span class="line"></span><br><span class="line">        // å®Œæˆæ”¯ä»˜åæ›´æ–°çŠ¶æ€</span><br><span class="line">        payment.setStatus(&quot;completed&quot;);</span><br><span class="line">        paymentRepository.save(payment);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-æ•°æ®åº“å”¯ä¸€çº¦æŸï¼ˆä¸æ¨èï¼‰"><a href="#2-æ•°æ®åº“å”¯ä¸€çº¦æŸï¼ˆä¸æ¨èï¼‰" class="headerlink" title="2. æ•°æ®åº“å”¯ä¸€çº¦æŸï¼ˆä¸æ¨èï¼‰"></a>2. æ•°æ®åº“å”¯ä¸€çº¦æŸï¼ˆä¸æ¨èï¼‰</h3><p><strong>åŸç†</strong>ï¼šåœ¨æ•°æ®åº“ä¸­ä¸ºæ¯ä¸ªæ”¯ä»˜è¯·æ±‚ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„äº¤æ˜“ IDï¼Œå¹¶åœ¨æ•°æ®åº“ä¸­è®¾ç½®å”¯ä¸€çº¦æŸï¼ˆUnique Constraintï¼‰æ¥é˜²æ­¢é‡å¤è®°å½•ã€‚</p>
<p><strong>å®ç°æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>åœ¨æ”¯ä»˜è¯·æ±‚ä¸­ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„äº¤æ˜“ IDã€‚</li>
<li>åœ¨æ•°æ®åº“ä¸­ä¿å­˜æ”¯ä»˜è®°å½•æ—¶ï¼Œä½¿ç”¨äº¤æ˜“ ID ä½œä¸ºå”¯ä¸€é”®ã€‚</li>
<li>å¦‚æœå°è¯•æ’å…¥é‡å¤çš„äº¤æ˜“ IDï¼Œæ•°æ®åº“ä¼šæŠ›å‡ºå”¯ä¸€çº¦æŸå¼‚å¸¸ï¼Œä»è€Œé˜²æ­¢é‡å¤æ”¯ä»˜ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼ˆä¼ªä»£ç ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE payments (</span><br><span class="line">    id SERIAL PRIMARY KEY,</span><br><span class="line">    transaction_id VARCHAR(255) UNIQUE NOT NULL,</span><br><span class="line">    amount DECIMAL(10, 2),</span><br><span class="line">    status VARCHAR(50)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- æ’å…¥æ”¯ä»˜è®°å½•æ—¶</span><br><span class="line">INSERT INTO payments (transaction_id, amount, status) VALUES (&#x27;unique_transaction_id&#x27;, 100.00, &#x27;pending&#x27;);</span><br></pre></td></tr></table></figure>

<h3 id="3-åˆ†å¸ƒå¼é”"><a href="#3-åˆ†å¸ƒå¼é”" class="headerlink" title="3. åˆ†å¸ƒå¼é”"></a>3. åˆ†å¸ƒå¼é”</h3><p><strong>åŸç†</strong>ï¼šä½¿ç”¨åˆ†å¸ƒå¼é”æ¥ç¡®ä¿åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªæ”¯ä»˜è¯·æ±‚èƒ½å¤Ÿè¢«å¤„ç†ã€‚å¯ä»¥ä½¿ç”¨ Redisã€ZooKeeper ç­‰å·¥å…·å®ç°åˆ†å¸ƒå¼é”ã€‚</p>
<p><strong>å®ç°æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>åœ¨å¤„ç†æ”¯ä»˜è¯·æ±‚å‰ï¼Œå°è¯•è·å–åˆ†å¸ƒå¼é”ã€‚</li>
<li>å¦‚æœè·å–é”æˆåŠŸï¼Œå¤„ç†æ”¯ä»˜è¯·æ±‚ã€‚</li>
<li>å¦‚æœè·å–é”å¤±è´¥ï¼Œæ‹’ç»æ”¯ä»˜è¯·æ±‚æˆ–ç­‰å¾…é‡è¯•ã€‚</li>
<li>æ”¯ä»˜å¤„ç†å®Œæˆåï¼Œé‡Šæ”¾åˆ†å¸ƒå¼é”ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">import org.redisson.api.RLock;</span><br><span class="line">import org.redisson.api.RedissonClient;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line">@Service</span><br><span class="line">public class PaymentService &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private RedissonClient redissonClient;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private PaymentRepository paymentRepository;</span><br><span class="line"></span><br><span class="line">    public void processPayment(PaymentRequest request) throws DuplicatePaymentException &#123;</span><br><span class="line">        String transactionId = request.getTransactionId();</span><br><span class="line">        RLock lock = redissonClient.getLock(&quot;payment_lock_&quot; + transactionId);</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            if (lock.tryLock(10, 10, TimeUnit.SECONDS)) &#123;</span><br><span class="line">                if (paymentRepository.existsByTransactionId(transactionId)) &#123;</span><br><span class="line">                    throw new DuplicatePaymentException(&quot;Duplicate payment detected for transaction ID: &quot; + transactionId);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                // å¤„ç†æ”¯ä»˜é€»è¾‘</span><br><span class="line">                Payment payment = new Payment();</span><br><span class="line">                payment.setTransactionId(transactionId);</span><br><span class="line">                payment.setAmount(request.getAmount());</span><br><span class="line">                payment.setStatus(&quot;processing&quot;);</span><br><span class="line"></span><br><span class="line">                paymentRepository.save(payment);</span><br><span class="line"></span><br><span class="line">                // å®Œæˆæ”¯ä»˜åæ›´æ–°çŠ¶æ€</span><br><span class="line">                payment.setStatus(&quot;completed&quot;);</span><br><span class="line">                paymentRepository.save(payment);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                throw new RuntimeException(&quot;Could not acquire lock for transaction ID: &quot; + transactionId);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            Thread.currentThread().interrupt();</span><br><span class="line">            throw new RuntimeException(&quot;Lock acquisition interrupted&quot;, e);</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-äº‹åŠ¡å’Œé”æœºåˆ¶"><a href="#4-äº‹åŠ¡å’Œé”æœºåˆ¶" class="headerlink" title="4. äº‹åŠ¡å’Œé”æœºåˆ¶"></a>4. äº‹åŠ¡å’Œé”æœºåˆ¶</h3><p><strong>åŸç†</strong>ï¼šä½¿ç”¨æ•°æ®åº“äº‹åŠ¡å’Œé”æœºåˆ¶æ¥ç¡®ä¿æ”¯ä»˜æ“ä½œçš„åŸå­æ€§å’Œä¸€è‡´æ€§ã€‚</p>
<p><strong>å®ç°æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>åœ¨æ•°æ®åº“ä¸­ä¸ºæ”¯ä»˜æ“ä½œåˆ›å»ºä¸€ä¸ªäº‹åŠ¡ã€‚</li>
<li>åœ¨äº‹åŠ¡ä¸­è·å–æ”¯ä»˜è®°å½•çš„é”ï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡åŒæ—¶ä¿®æ”¹ç›¸åŒçš„è®°å½•ã€‚</li>
<li>æ‰§è¡Œæ”¯ä»˜æ“ä½œå¹¶æäº¤äº‹åŠ¡ã€‚</li>
<li>å¦‚æœåœ¨æ”¯ä»˜æ“ä½œä¸­å‘ç”Ÿå†²çªï¼Œå›æ»šäº‹åŠ¡å¹¶é‡è¯•ã€‚</li>
</ol>
<h3 id="5-çŠ¶æ€æœº"><a href="#5-çŠ¶æ€æœº" class="headerlink" title="5. çŠ¶æ€æœº"></a>5. çŠ¶æ€æœº</h3><p><strong>åŸç†</strong>ï¼šä½¿ç”¨çŠ¶æ€æœºæ¥ç®¡ç†æ”¯ä»˜è¯·æ±‚çš„çŠ¶æ€ï¼Œç¡®ä¿æ¯ä¸ªæ”¯ä»˜è¯·æ±‚åªèƒ½ä»ä¸€ä¸ªçŠ¶æ€è½¬ç§»åˆ°å¦ä¸€ä¸ªçŠ¶æ€ï¼Œé¿å…é‡å¤å¤„ç†ã€‚</p>
<p><strong>å®ç°æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>å®šä¹‰æ”¯ä»˜è¯·æ±‚çš„çŠ¶æ€ï¼ˆå¦‚<code>pending</code>ã€<code>processing</code>ã€<code>completed</code>ã€<code>failed</code>ï¼‰ã€‚</li>
<li>åœ¨å¤„ç†æ”¯ä»˜è¯·æ±‚æ—¶ï¼Œæ ¹æ®å½“å‰çŠ¶æ€è¿›è¡ŒçŠ¶æ€è½¬ç§»ã€‚</li>
<li>ä½¿ç”¨æ•°æ®åº“äº‹åŠ¡ç¡®ä¿çŠ¶æ€è½¬ç§»çš„åŸå­æ€§ã€‚</li>
</ol>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä»¥ä¸Šæ–¹æ³•éƒ½å¯ä»¥æœ‰æ•ˆåœ°é˜²æ­¢é‡å¤æ”¯ä»˜ï¼Œå…·ä½“é€‰æ‹©å“ªç§æ–¹æ¡ˆå–å†³äºç³»ç»Ÿçš„æ¶æ„å’Œéœ€æ±‚ã€‚å¹‚ç­‰æ€§ä»¤ç‰Œå’Œæ•°æ®åº“å”¯ä¸€çº¦æŸæ˜¯æ¯”è¾ƒå¸¸è§ä¸”æ˜“äºå®ç°çš„æ–¹æ³•ï¼Œè€Œåˆ†å¸ƒå¼é”å’ŒçŠ¶æ€æœºé€‚ç”¨äºæ›´å¤æ‚çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚æ— è®ºé€‰æ‹©å“ªç§æ–¹æ¡ˆï¼Œéƒ½éœ€è¦ç¡®ä¿æ”¯ä»˜æ“ä½œçš„å¹‚ç­‰æ€§å’Œä¸€è‡´æ€§ã€‚</p>
<blockquote>
<p>åŸæ–‡: <a target="_blank" rel="noopener" href="https://www.yuque.com/jingdianjichi/xyxdsi/cf41s0446a6gokgr">https://www.yuque.com/jingdianjichi/xyxdsi/cf41s0446a6gokgr</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/4/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/11.jpg"
               alt="" />
          <p class="site-author-name" itemprop="name"></p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">163</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">javayun</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Gemini
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
